<!doctype html><html lang=en class=no-js><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=generator content="Hugo 0.83.1"><link rel=canonical type=text/html href=/docs/functional_architecture/><meta name=ROBOTS content="NOINDEX, NOFOLLOW"><link rel="shortcut icon" href=/favicons/favicon.ico><link rel=apple-touch-icon href=/favicons/apple-touch-icon-180x180.png sizes=180x180><link rel=icon type=image/png href=/favicons/favicon-16x16.png sizes=16x16><link rel=icon type=image/png href=/favicons/favicon-32x32.png sizes=32x32><link rel=icon type=image/png href=/favicons/android-36x36.png sizes=36x36><link rel=icon type=image/png href=/favicons/android-48x48.png sizes=48x48><link rel=icon type=image/png href=/favicons/android-72x72.png sizes=72x72><link rel=icon type=image/png href=/favicons/android-96x96.png sizes=96x96><link rel=icon type=image/png href=/favicons/android-144x144.png sizes=144x144><link rel=icon type=image/png href=/favicons/android-192x192.png sizes=192x192><title>Functional Architecture |</title><meta name=description content="@platform docs"><meta property="og:title" content="Functional Architecture"><meta property="og:description" content="The @ Company provides both a new Internet protocol and a platform to assist developers easily create ground-breaking applications that provide privacy focused, peer-to-peer services.
"><meta property="og:type" content="website"><meta property="og:url" content="/docs/functional_architecture/"><meta itemprop=name content="Functional Architecture"><meta itemprop=description content="The @ Company provides both a new Internet protocol and a platform to assist developers easily create ground-breaking applications that provide privacy focused, peer-to-peer services.
"><meta name=twitter:card content="summary"><meta name=twitter:title content="Functional Architecture"><meta name=twitter:description content="The @ Company provides both a new Internet protocol and a platform to assist developers easily create ground-breaking applications that provide privacy focused, peer-to-peer services.
"><link rel=preload href=/scss/main.min.ef070c47b61e766a884d9b39736e9118c55b9dead838900fa62e099c704a68ae.css as=style><link href=/scss/main.min.ef070c47b61e766a884d9b39736e9118c55b9dead838900fa62e099c704a68ae.css rel=stylesheet integrity><script src=https://code.jquery.com/jquery-3.5.1.min.js integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin=anonymous></script><script src=https://unpkg.com/lunr@2.3.8/lunr.min.js integrity=sha384-vRQ9bDyE0Wnu+lMfm57BlYLO0/XauFuKpVsZPs7KEDwYKktWi5+Kz3MP8++DFlRY crossorigin=anonymous></script></head><body class=td-section><header><style>.btn-primary{border-radius:.4rem}</style><nav class="js-navbar-scroll navbar navbar-expand navbar-dark flex-column flex-md-row td-navbar"><a class=navbar-brand href=/><span class=navbar-logo><svg id="_platform-logo-final" data-name="platform-logo-final" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 856.23 156"><g id="platform" style="isolation:isolate"><g style="isolation:isolate"><path d="M157.28 147.51v-104c0-5 2.75-7.78 7.78-7.78h9.55c5 0 7.78 2.75 7.78 7.78v3.88c6-9.23 15.71-13.44 26.73-13.44 23.33.0 40 18.95 40 43.42s-16.68 43.41-40 43.41c-11 0-20.74-4.21-26.73-13.61v40.34c0 5-2.75 7.78-7.78 7.78h-9.55C160 155.29 157.28 152.53 157.28 147.51zM224 77.37C224 64.57 216.41 54 203.29 54c-12.8.0-21.22 10-21.22 23.33s8.42 23.32 21.22 23.32C216.41 100.69 224 90.33 224 77.37z"/><path d="M264.52 111.22V9.65c0-5 2.75-7.78 7.78-7.78h9.39c5 0 7.94 2.76 7.94 7.78V111.22c0 5-2.91 7.78-7.94 7.78H272.3C267.27 119 264.52 116.25 264.52 111.22z"/><path d="M304.86 77.37c0-24.47 16.68-43.42 40-43.42 11 0 20.74 4.21 26.73 13.61V43.51c0-5 2.76-7.78 7.78-7.78h9.56c5 0 7.77 2.75 7.77 7.78v67.71c0 5-2.75 7.78-7.77 7.78h-9.56c-5 0-7.78-2.75-7.78-7.78v-3.88c-6 9.23-15.71 13.44-26.73 13.44-23.32.0-40-18.78-40-43.41zm67.07.0c0-13.29-8.43-23.33-21.22-23.33C337.58 54 330 64.57 330 77.37c0 13 7.61 23.32 20.74 23.32 12.76.0 21.19-10.04 21.19-23.32z"/><path d="M422.15 91.3V54.36h-8.27c-2.59.0-4.21-1.46-4.21-4V39.78c0-2.59 1.62-4.05 4.21-4.05h10.21l2.75-16.85a5.91 5.91.0 016.32-5.18h7.94c3.73.0 5.67 2.1 5.67 5.67V35.73h18.79a3.67 3.67.0 014.05 4.05V50.31a3.67 3.67.0 01-4.05 4H446.77v37.8c0 6.15 3.08 8.58 6.8 8.58 4.22.0 7-3.24 7-7.61a20 20 0 00-.16-2.92c-.33-2.91.65-4.37 3.4-4.37h9.88c2.11.0 3.89.81 4.54 3.24a28.43 28.43.0 011 6.32c0 18-12.8 25.43-27.86 25.43-14.16.0-29.22-6.48-29.22-29.48z"/><path d="M495.85 111.22V54.36H488.4a3.67 3.67.0 01-4-4V40.92c0-2.6 1.46-4.06 4-4.06h7.45V31.52C495.85 6.08 512.7.09 526.63.09c14.58.0 27.87 6.8 27.87 22.19a13.61 13.61.0 01-.33 2.6A3.6 3.6.0 01550.29 28H538.62c-2.1.0-3.4-1.29-3.4-2.91v-1c0-3.08-3.08-5.35-7-5.35-5.18.0-7.93 3.56-7.93 9.56v8.58H534.9c2.59.0 4.05 1.46 4.05 4.06v9.39a3.67 3.67.0 01-4.05 4H520.8v56.86c0 5-2.91 7.78-7.94 7.78h-9.23C498.61 119 495.85 116.25 495.85 111.22z"/><path d="M545.75 77.37c0-24 19.76-43.42 46.17-43.42s46.17 19.44 46.17 43.42-19.76 43.41-46.17 43.41-46.17-19.28-46.17-43.41zm68.53.16c0-13.12-9.89-23.17-22.36-23.17-12.64.0-22.36 10-22.36 23.17.0 13 9.72 23 22.36 23 12.47.0 22.36-10.04 22.36-23z"/><path d="M652.83 111.22V43.51c0-5 2.75-7.78 7.78-7.78h8.91c5 0 7.77 2.75 7.77 7.78V53.87C680.05 38.65 691.71 34 698.84 34l2.75.16c3.89.32 4.7 3.4 4.7 6.64V52.09c0 4.54-2.27 6.48-5.67 6a35.17 35.17.0 00-4-.33c-9.72.0-18.63 6.32-18.63 27.22v26.24c0 5-2.75 7.78-7.77 7.78h-9.56C655.58 119 652.83 116.25 652.83 111.22z"/><path d="M718.12 111.22V43.51c0-5 2.75-7.78 7.77-7.78h9.56c5 0 7.78 2.75 7.78 7.78V49C746.47 39.46 755.38 34 765.75 34c9.55.0 18.79 4 24.13 14.42C797.66 36.05 807.22 34 816.61 34c21.55.0 30.62 17.66 30.62 37.26v40c0 5-2.91 7.78-7.94 7.78H829.9c-5 0-7.78-2.75-7.78-7.78V72.34c0-11.66-4.53-18-12-18-7 0-14.58 5.67-14.9 20.9v36c0 5-2.75 7.78-7.78 7.78H777.9c-5 0-7.78-2.75-7.78-7.78V72.34c0-11.66-4.37-18-11.83-18s-15.06 6.16-15.06 21.71v35.15c0 5-2.76 7.78-7.78 7.78h-9.56C720.87 119 718.12 116.25 718.12 111.22z"/></g></g><path id="Path_13" data-name="Path 13" d="M64.71 148.23c10.19.0 21.52-1.84 30.3-5.52 1.7-.57 2-2 1.13-3.68l-1.56-3.11c-.85-1.7-2.12-2-3.82-1.42-7.5 3-17.13 4.39-26.05 4.39-32.85.0-54.94-25.35-54.94-58.47.0-33.56 24.21-58.9 57.49-58.9S123.32 43.89 123.32 75c0 22.65-7.22 33.41-17.84 33.55-2.83.15-5.8-1.55-5.8-7.78V53.37c0-3.12-1.84-4.95-5-4.95H85c-3.11.0-5 1.84-5 4.95v5.1C75.18 50.54 67.53 47 58.89 47c-18.4.0-31.43 14.87-31.43 34.41s13.18 34.12 31.16 34.12c7.93.0 18.26-3.54 23.22-12l.28 2c2.13 9.35 9.91 14 21.38 14 17.13.0 29.59-14.44 29.59-44.46.0-36.95-26.47-62.87-65.84-62.87C28.46 12.17.0 41.33.0 80.42c0 38.93 25.91 67.81 64.71 67.81zm-1-48.42c-10.06.0-16.29-8.21-16.29-18.41S53.52 63 63.72 63s16.42 7.93 16.42 18.54-6.66 18.27-16.42 18.27z" style="fill:#f05f3e"/></svg></span><span class="text-uppercase font-weight-bold"></span></a><div class="td-navbar-nav-scroll ml-md-auto" id=main_navbar><ul class="navbar-nav mt-2 mt-lg-0"><li class="nav-item mr-3 mb-2 mb-lg-0"><a class="nav-link active" href=/docs/><span class=active>Docs</span></a></li><li class="nav-item mr-3 mb-2 mb-lg-0"><a class=nav-link href=/showcase/><span>Showcase</span></a></li><li class="nav-item mr-3 mb-2 mb-lg-0"><a class=nav-link href=/community/><span>Community</span></a></li><li class="nav-item mr-3 mb-2 mb-lg-0"><a class=nav-link href=/dev_tools/><span>@Dev Program</span></a></li><a class="btn btn-primary nav-item mr-2 mb-2 mb-lg-0" href=/docs/get-started role=button>Get started</a><div class="site-header__social navbar-nav flex-row"><a class="nav-item nav-link nav-item mr-2mb-2 mb-lg-0" href=https://github.com/atsign-foundation/ aria-label=Github><i class="fab fa-github fa-primary"></i></a>
<a class="nav-item nav-link nav-item mr-2 mb-2 mb-lg-0" href=https://discord.gg/55sHTQFxfz aria-label=Discord><i class="fab fa-discord fa-primary"></i></a></div></ul></div></nav></header><div class="container-fluid td-outer"><div class=td-main><div class="row flex-xl-nowrap"><div class="col-12 col-md-3 col-xl-2 td-sidebar d-print-none"></div><div class="d-none d-xl-block col-xl-2 td-toc d-print-none"></div><main class="col-12 col-md-9 col-xl-8 pl-md-5" role=main><div class=td-content><div class="pageinfo pageinfo-primary d-print-none"><p>This the multi-page printable view of this section.
<a href=# onclick="return print(),!1">Click here to print</a>.</p><p><a href=/docs/functional_architecture/>Return to the regular view of this page</a>.</p></div><h1 class=title>Functional Architecture</h1><div class=lead>The @ Company provides both a new Internet protocol and a platform to assist developers easily create ground-breaking applications that provide privacy focused, peer-to-peer services.</div><ul><li>1: <a href=#pg-5574a3255a423fa15148f788e6cc9ef2>Services</a></li><li>2: <a href=#pg-fe5c4f776167cc70f1b506cf0afe8ca9>Libraries</a></li><li>3: <a href=#pg-b28b4508a8969e0702c32860cd239767>Dess</a></li><li>4: <a href=#pg-00bbcf4ae95f97ea2ba1b152bc5c5666>Widgets</a></li><li>5: <a href=#pg-05e970a937284e7f80b1fe8d3dd780c8>@protocol verbs</a></li></ul><div class=content><p>The picture below provides a great way to visualize just how much thought has gone into making the life of a developer on the @platform that much easier!
<img src=/Func_Arch_images/Functional_Arch.png alt="Functional Architecture"></p><p>If you&rsquo;re wondering what the difference between what the @platform consists of and what the @protocol consists of, look no further!</p><p>The @platform, which has been created on top of the @protocol consists of three major segments of developer tools. These segments consists of; <a href=/docs/functional_architecture/services/>Services</a>, <a href=/docs/functional_architecture/libraries/>Libraries</a>, and <a href=/docs/functional_architecture/widgets/>Widgets</a></p></div></div><div class=td-content style=page-break-before:always><h1 id=pg-5574a3255a423fa15148f788e6cc9ef2>1 - Services</h1><div class=lead>Here you will find a list of some of the most important services of the @platform. If you&rsquo;d like to read up more on how the @protocol works under the hood, this is the page to be on!</div><h3 id=data-caching--encryption>Data Caching & Encryption</h3><p>Data that others have shared with an @sign owner is cached on the @sign owner&rsquo;s device’s local keystore if permitted.</p><p><a href=https://atsigncompany.medium.com/data-encryption-caching-with-the-protocol-debe9efc0f49>Learn more</a></p><h3 id=notification>Notification</h3><p><a href=https://blog.atsign.dev/part-1-the-notify-verb-cko97bv8f00l5gws13umb0nvz>Learn more</a></p><h3 id=onboarding>Onboarding</h3><p><a href=https://pub.dev/packages/at_contact>Learn more</a></p><h3 id=peer-to-peer-streams>Peer-to-Peer Streams</h3><p><a href=https://blog.atsign.dev/the-stream-verb-protocol-ckmwi28is01aqd2s184bien2q>Learn more</a></p><h3 id=persistence>Persistence</h3><p><a href=https://pub.dev/packages/at_contact>Learn more</a></p><h3 id=synchronization>Synchronization</h3><p><a href=https://atsigncompany.medium.com/the-protocol-synchronization-77b00ca5341b>Learn more</a></p></div><div class=td-content style=page-break-before:always><h1 id=pg-fe5c4f776167cc70f1b506cf0afe8ca9>2 - Libraries</h1><div class=lead>Find the list of libraries the @platform has to offer here!</div><h3 id=at_persistence_spec>at_persistence_spec</h3><p>at_persistence_spec is the Specification for the persistence layer implementation of @protocol development.</p><p><a href=https://pub.dev/packages/at_persistence_spec>Learn more</a></p><h3 id=at_commons>at_commons</h3><p>at_commons library will be used for commonly used components in implementation of the @protocol.</p><p><a href=https://pub.dev/packages/at_commons>Learn more</a></p><h3 id=at_common_flutter>at_common_flutter</h3><p>A flutter package to provide common widgets used by other atsign flutter packages.</p><p><a href=https://pub.dev/packages/at_common_flutter>Learn more</a></p><h3 id=at_client>at_client</h3><p>at_client is the Client SDK which provides the essential methods for building an app using the @protocol.</p><p><a href=https://pub.dev/packages/at_client>Learn more</a></p><h3 id=at_lookup>at_lookup</h3><p>Library for executing at commands on a secondary server. Example - scan. update, lookup, llookup, plookup etc.</p><p><a href=https://pub.dev/packages/at_lookup>Learn more</a></p><h3 id=at_persistence_secondary_server>at_persistence_secondary_server</h3><p>at_persistence_secondary_server is the Persistence layer implementation for @protocol secondary server.</p><p><a href=https://pub.dev/packages/at_persistence_secondary_server>Learn more</a></p><h3 id=at_server_status>at_server_status</h3><p>The at_server_status library provides an easy means to check on the status of the @root server as well as the @server for a particular @sign.</p><p><a href=https://pub.dev/packages/at_server_status>Learn more</a></p><h3 id=at_utils>at_utils</h3><p>This is the Utility library for @protocol projects. It contains utility classes for atsign, atmetadata, configuration and logger.</p><p><a href=https://pub.dev/packages/at_utils>Learn more</a></p><h3 id=at_backupkey_flutter>at_backupkey_flutter</h3><p>A flutter plugin project for saving backup key of any @sign that is being onboarded with @protocol apps. Backup key can used to authenticate in any @protocol apps.</p><p><a href=https://pub.dev/packages/at_backupkey_flutter>Learn more</a></p><h3 id=at_onboarding_flutter>at_onboarding_flutter</h3><p>A flutter plugin project for onboarding any @sign in @protocol apps with ease. Provides QRscanner and upload key file option to authenticate.</p><p><a href=https://pub.dev/packages/at_onboarding_flutter>Learn more</a></p><h3 id=at_client_mobile>at_client_mobile</h3><p>Library for mobile app onboarding.</p><p><a href=https://pub.dev/packages/at_client_mobile>Learn more</a></p><h3 id=at_contacts_flutter>at_contacts_flutter</h3><p>A flutter plugin project to provide ease of managing contacts for an atsign using atprotocol.</p><p><a href=https://pub.dev/packages/at_contacts_flutter>Learn more</a></p><h3 id=at_chat_flutter>at_chat_flutter</h3><p>A flutter plugin project to provide chat feature using atsigns and atprotocol.</p><p><a href=https://pub.dev/packages/at_chat_flutter>Learn more</a></p><h3 id=at_demo_data>at_demo_data</h3><p>A library of data that contains demo enviroment variables and @sign credentials that can used for demo apps and testing</p><p><a href=https://pub.dev/packages/at_demo_data>Learn more</a></p><h3 id=at_contacts_group_flutter>at_contacts_group_flutter</h3><p>A flutter plugin project to provide the group functionality with contacts using atprotocol.</p><p><a href=https://pub.dev/packages/at_contacts_group_flutter>Learn more</a></p><h3 id=at_location_flutter>at_location_flutter</h3><p>A flutter plugin project to share location between two atsigns and track them on OSM (open street maps).</p><p><a href=https://pub.dev/packages/at_location_flutter>Learn more</a></p><h3 id=at_utf7>at_utf7</h3><p>Provides methods to encode/decode strings to/from the utf7 format as defined in rfc 2152</p><p><a href=https://pub.dev/packages/at_utf7>Learn more</a></p><h3 id=at_contact>at_contact</h3><p>A starting point for Dart libraries or applications.</p><p><a href=https://pub.dev/packages/at_contact>Learn more</a></p><h3 id=at_events_flutter>at_events_flutter</h3><p>A flutter plugin project to manage events using the atprotocol.</p><p><a href=https://pub.dev/packages/at_events_flutter>Learn more</a></p><h3 id=at_base2e15>at_base2e15</h3><p>binary-to-text encoding schemes that represent binary data in an unicode string format, each unicode character represent 15 bits of binary data.</p><p><a href=https://pub.dev/packages/at_base2e15>Learn more</a></p><h3 id=at_follows_flutter>at_follows_flutter</h3><p>A new flutter plugin project to integrate follows functionality for any @sign. Provides list of followers, following and options to follow, unfollow any @sign.</p><p><a href=https://pub.dev/packages/at_follows_flutter>Learn more</a></p><h3 id=at_server_spec>at_server_spec</h3><p>Specification for root and secondary server</p><p><a href=https://pub.dev/packages/at_server_spec>Learn more</a></p><h3 id=at_map>at_map</h3><p>A new Flutter plugin.</p><p><a href=https://pub.dev/packages/at_map>Learn more</a></p></div><div class=td-content style=page-break-before:always><h1 id=pg-b28b4508a8969e0702c32860cd239767>3 - Dess</h1><div class=lead>Dess enables you to run your own secondary server wherever you like and on any compatible infrastructure you would like to use.</div><h2 id=1-what-is-dess>1. What is Dess?</h2><p>Dess is an acronymn for:</p><blockquote><p>D. Distributed<br>E. Edge<br>S. Secondary<br>S. Server</p></blockquote><p>Dess is used to host your own secondary server for your @sign(s).</p><h2 id=2-how-to-get-started>2. How to get started</h2><p>The first thing you need to know is that there are two parts to setting up Dess.</p><ol><li>First time setup (run once)</li><li>Setup an @sign (run for each @sign)</li></ol><h2 id=3-first-time-setup>3. First Time Setup</h2><p>Dess will install everything you need to get up and running.<br>Run the following command and dess will be installed:</p><p><code>curl -fsSL https://getdess.atsign.com | sudo bash</code></p><p>Alternatively, if you would like to save the installation script to your machine:</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-BASH data-lang=BASH>curl -fsSL https://getdess.atsign.com -o getdess.sh
sudo bash getdess.sh
</code></pre></div><p>The script will be saved as <span>getdess.sh</span></p><h2 id=4-setup-an-sign>4. Setup an @sign</h2><p>Dess will show you the steps to setup an atsign.</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>sudo dess-create
&gt; Usage sudo dess-create &lt;@sign&gt; &lt;fqdn&gt; &lt;port&gt; &lt;email&gt; &lt;service&gt;
&gt; Example sudo dess-create @bob bob.example.com <span style=color:#0000cf;font-weight:700>6464</span> bob@example.com bob
</code></pre></div><h3 id=arguments>Arguments</h3><p><code>@sign</code>: The @sign you want to setup.</p><p><code>fqdn</code>: Fully qualified domain name to use for dess.<br>(The same as entered in the atsign.com dashboard)</p><p><code>port</code>: The port to use for dess.<br>(The same as the entered in the atsign.com dashboard)</p><p><code>email</code>: An email you own to sign the certificates with.</p><p><code>service</code>: A name for the docker service.</p><h2 id=5-oops-i-forgot-to-save-my-qr>5. Oops! I forgot to save my QR</h2><p>Don&rsquo;t worry! Dess includes a command to recover lost QR codes.<br>Simply run the following:</p><p><code>dess-reshowqr &lt;@sign></code></p><h2 id=6-os-support>6. OS Support</h2><p>(Work in progress - to be updated soon)</p></div><div class=td-content style=page-break-before:always><h1 id=pg-00bbcf4ae95f97ea2ba1b152bc5c5666>4 - Widgets</h1><div class=lead>Low level reference docs for your project.</div><h3 id=the-onboarding-widget>The Onboarding Widget</h3><p>Onboarding for the first time with the @platform isn’t as simple as choosing your @sign from a dropdown menu and clicking “Login” (after all, how would the application know where to retrieve your authentication keys from a given @sign?).</p><p>Implementing onboarding from scratch would be painstakingly difficult. Not only would you have to code the PKAM logic, but you would also have to build your own QR code scanner to extract the CRAM (Challenge-Response Authentication Mechanism) key from your @sign’s QR code generated on our website! The @ Company realized this very quickly, so we developed the at_onboarding_flutter widget to help developers who want to build production-level apps that onboard real @signs (AKA @signs that you get from our .com site).</p><details><summary style=color:#f05f3e>Learn more about the onboarding widget here!</summary><div class="alert alert-warning" role=alert><h4 class=alert-heading>Note</h4>This dependency value may not be up-to-date so be sure to check it out on our <a href=https://pub.dev/packages/at_onboarding_flutter>pub.dev</a>!</div><h4 id=use-this-package-as-a-library>Use this package as a library</h4><pre><code>at_onboarding_flutter: ^1.0.0+4
</code></pre><p>The “Onboarding” widget is very handy in that you do not need to call the “onboard” or “authenticate” methods from the service file of the application to get it running. Instead, it will ask us to specify the following parameters (descriptions for each parameter are written in the comments):</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-dart data-lang=dart><span style=color:#204a87;font-weight:700>class</span> <span style=color:#000>Onboarding</span> <span style=color:#000;font-weight:700>{</span>
 <span style=color:#8f5902;font-style:italic>///Required field as for navigation.
</span><span style=color:#8f5902;font-style:italic></span> <span style=color:#204a87;font-weight:700>final</span> <span style=color:#000>BuildContext</span> <span style=color:#000>context</span><span style=color:#000;font-weight:700>;</span>

 <span style=color:#8f5902;font-style:italic>///Onboards the given [atsign] if not null.
</span><span style=color:#8f5902;font-style:italic></span> <span style=color:#8f5902;font-style:italic>///If [atsign] is null then it takes the atsign from keychain.
</span><span style=color:#8f5902;font-style:italic></span> <span style=color:#8f5902;font-style:italic>///If [atsign] is empty then it directly jumps into authenticate 
</span><span style=color:#8f5902;font-style:italic></span> <span style=color:#8f5902;font-style:italic>///without performing onboarding. (or)
</span><span style=color:#8f5902;font-style:italic></span> <span style=color:#8f5902;font-style:italic>///If [atsign] is empty then it just presents pairAtSign screen 
</span><span style=color:#8f5902;font-style:italic></span> <span style=color:#8f5902;font-style:italic>///without onboarding the atsign. (or)
</span><span style=color:#8f5902;font-style:italic></span> <span style=color:#8f5902;font-style:italic>///Just provide an empty string for ignoring existing atsign in 
</span><span style=color:#8f5902;font-style:italic></span> <span style=color:#8f5902;font-style:italic>///keychain or app&#39;s atsign.
</span><span style=color:#8f5902;font-style:italic></span> <span style=color:#204a87;font-weight:700>final</span> <span style=color:#204a87;font-weight:700>String</span> <span style=color:#000>atsign</span><span style=color:#000;font-weight:700>;</span>

 <span style=color:#8f5902;font-style:italic>///The atClientPreference [required] to continue with the onboarding.   
</span><span style=color:#8f5902;font-style:italic></span> <span style=color:#8f5902;font-style:italic>///atClientPreference is an instance of a class in the  
</span><span style=color:#8f5902;font-style:italic></span> <span style=color:#8f5902;font-style:italic>///at_client_mobile library that stores a number of important 
</span><span style=color:#8f5902;font-style:italic></span> <span style=color:#8f5902;font-style:italic>///attributes like the namespace of the application, the CRAM key of  
</span><span style=color:#8f5902;font-style:italic></span> <span style=color:#8f5902;font-style:italic>///an @sign, the root domain we want the project to communicate 
</span><span style=color:#8f5902;font-style:italic></span> <span style=color:#8f5902;font-style:italic>///with, and so on. 
</span><span style=color:#8f5902;font-style:italic></span> <span style=color:#204a87;font-weight:700>final</span> <span style=color:#000>AtClientPreference</span> <span style=color:#000>atClientPreference</span><span style=color:#000;font-weight:700>;</span>

 <span style=color:#8f5902;font-style:italic>///The root domain for our project. By default, the plugin connects 
</span><span style=color:#8f5902;font-style:italic></span> <span style=color:#8f5902;font-style:italic>///to [root.atsign.org] to perform onboarding.
</span><span style=color:#8f5902;font-style:italic></span> <span style=color:#204a87;font-weight:700>final</span> <span style=color:#204a87;font-weight:700>String</span> <span style=color:#000>domain</span><span style=color:#000;font-weight:700>;</span>

 <span style=color:#8f5902;font-style:italic>///The color of the screen to match with the app&#39;s aesthetics. 
</span><span style=color:#8f5902;font-style:italic></span> <span style=color:#8f5902;font-style:italic>///default it is [black].
</span><span style=color:#8f5902;font-style:italic></span> <span style=color:#204a87;font-weight:700>final</span> <span style=color:#000>Color</span> <span style=color:#000>appColor</span><span style=color:#000;font-weight:700>;</span>

 <span style=color:#8f5902;font-style:italic>///If logo is not null, then it displays the widget on the left side 
</span><span style=color:#8f5902;font-style:italic></span> <span style=color:#8f5902;font-style:italic>///of appbar. Else, it displays nothing.
</span><span style=color:#8f5902;font-style:italic></span> <span style=color:#204a87;font-weight:700>final</span> <span style=color:#000>Widget</span> <span style=color:#000>logo</span><span style=color:#000;font-weight:700>;</span>

 <span style=color:#8f5902;font-style:italic>///Function returns atClientServiceMap on successful onboarding along 
</span><span style=color:#8f5902;font-style:italic></span> <span style=color:#8f5902;font-style:italic>///with onboarded @sign. Assign these returned values to the relevant 
</span><span style=color:#8f5902;font-style:italic></span> <span style=color:#8f5902;font-style:italic>///variables in your project’s service file.
</span><span style=color:#8f5902;font-style:italic></span> <span style=color:#204a87;font-weight:700>final</span> <span style=color:#000>Function</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>Map</span><span style=color:#ce5c00;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>String</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>AtClientService</span><span style=color:#ce5c00;font-weight:700>&gt;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#204a87;font-weight:700>String</span><span style=color:#000;font-weight:700>)</span> <span style=color:#000>onboard</span><span style=color:#000;font-weight:700>;</span>

 <span style=color:#8f5902;font-style:italic>///Function returns error if onboarding fails for an @sign.
</span><span style=color:#8f5902;font-style:italic></span> <span style=color:#204a87;font-weight:700>final</span> <span style=color:#000>Function</span><span style=color:#000;font-weight:700>(</span><span style=color:#204a87;font-weight:700>Object</span><span style=color:#000;font-weight:700>)</span> <span style=color:#000>onError</span><span style=color:#000;font-weight:700>;</span>

 <span style=color:#8f5902;font-style:italic>///After successful onboarding, the app will be redirected to this 
</span><span style=color:#8f5902;font-style:italic></span> <span style=color:#8f5902;font-style:italic>///screen if it is not null.
</span><span style=color:#8f5902;font-style:italic></span> <span style=color:#204a87;font-weight:700>final</span> <span style=color:#000>Widget</span> <span style=color:#000>nextScreen</span><span style=color:#000;font-weight:700>;</span>

 <span style=color:#8f5902;font-style:italic>///After the first successful onboarding, the app will get redirected 
</span><span style=color:#8f5902;font-style:italic></span> <span style=color:#8f5902;font-style:italic>///to this screen if not null.
</span><span style=color:#8f5902;font-style:italic></span> <span style=color:#204a87;font-weight:700>final</span> <span style=color:#000>Widget</span> <span style=color:#000>fistTimeAuthNextScreen</span><span style=color:#000;font-weight:700>;</span>

 <span style=color:#204a87;font-weight:700>final</span> <span style=color:#000>AtSignLogger</span> <span style=color:#000>_logger</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>AtSignLogger</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#39;At Onboarding Flutter&#39;</span><span style=color:#000;font-weight:700>);</span>

 <span style=color:#000>Onboarding</span><span style=color:#000;font-weight:700>({</span><span style=color:#000>Key</span> <span style=color:#000>key</span><span style=color:#000;font-weight:700>,</span>
   <span style=color:#a40000>@</span><span style=color:#000>required</span> <span style=color:#204a87;font-weight:700>this</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>context</span><span style=color:#000;font-weight:700>,</span>
   <span style=color:#204a87;font-weight:700>this</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>atsign</span><span style=color:#000;font-weight:700>,</span>
   <span style=color:#a40000>@</span><span style=color:#000>required</span> <span style=color:#204a87;font-weight:700>this</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>onboard</span><span style=color:#000;font-weight:700>,</span>
   <span style=color:#a40000>@</span><span style=color:#000>required</span> <span style=color:#204a87;font-weight:700>this</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>onError</span><span style=color:#000;font-weight:700>,</span>
   <span style=color:#204a87;font-weight:700>this</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>nextScreen</span><span style=color:#000;font-weight:700>,</span>
   <span style=color:#204a87;font-weight:700>this</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>fistTimeAuthNextScreen</span><span style=color:#000;font-weight:700>,</span>
   <span style=color:#a40000>@</span><span style=color:#000>required</span> <span style=color:#204a87;font-weight:700>this</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>atClientPreference</span><span style=color:#000;font-weight:700>,</span>
   <span style=color:#204a87;font-weight:700>this</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>appColor</span><span style=color:#000;font-weight:700>,</span>
   <span style=color:#204a87;font-weight:700>this</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>logo</span><span style=color:#000;font-weight:700>,</span>
   <span style=color:#204a87;font-weight:700>this</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>domain</span><span style=color:#000;font-weight:700>})</span>
 <span style=color:#000;font-weight:700>...</span>
<span style=color:#000;font-weight:700>}</span>
</code></pre></div><p>To see an actual implementation of the onboarding widget, let’s revisit the _login function in the at_hello_world app with some updated code:</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-dart data-lang=dart><span style=color:#8f5902;font-style:italic>/// Return an “Onboarding” widget that walks the individual through
</span><span style=color:#8f5902;font-style:italic>/// the onboarding procedure for any real @sign.
</span><span style=color:#8f5902;font-style:italic></span><span style=color:#000>_login</span><span style=color:#000;font-weight:700>()</span> <span style=color:#204a87;font-weight:700>async</span> <span style=color:#000;font-weight:700>{</span>
 <span style=color:#204a87;font-weight:700>return</span> <span style=color:#000>Onboarding</span><span style=color:#000;font-weight:700>(</span>
     <span style=color:#f57900>context:</span> <span style=color:#000>context</span><span style=color:#000;font-weight:700>,</span>
     <span style=color:#8f5902;font-style:italic>/// Ensure that the “root” attribute is assigned to 
</span><span style=color:#8f5902;font-style:italic></span>     <span style=color:#8f5902;font-style:italic>/// “root.atsign.org” 
</span><span style=color:#8f5902;font-style:italic></span>     <span style=color:#f57900>domain:</span> <span style=color:#000>AtConfig</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>root</span>
     <span style=color:#f57900>atClientPreference:</span> <span style=color:#204a87;font-weight:700>await</span> 
        <span style=color:#000>_serverDemoService</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>getAtClientPreference</span><span style=color:#000;font-weight:700>(),</span>
     <span style=color:#f57900>appColor:</span> <span style=color:#000>Color</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>fromARGB</span><span style=color:#000;font-weight:700>(</span><span style=color:#0000cf;font-weight:700>255</span><span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>240</span><span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>94</span><span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>62</span><span style=color:#000;font-weight:700>),</span>
     <span style=color:#f57900>onboard:</span> <span style=color:#000;font-weight:700>(</span><span style=color:#000>atClientServiceMap</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>atsign</span><span style=color:#000;font-weight:700>)</span> <span style=color:#000;font-weight:700>{</span>
       <span style=color:#000>_serverDemoService</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>atClientServiceMap</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>atClientServiceMap</span><span style=color:#000;font-weight:700>;</span>
       <span style=color:#000>_serverDemoService</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>atSign</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>atsign</span><span style=color:#000;font-weight:700>;</span>
     <span style=color:#000;font-weight:700>},</span>
     <span style=color:#f57900>onError:</span> <span style=color:#000;font-weight:700>(</span><span style=color:#000>error</span><span style=color:#000;font-weight:700>)</span> <span style=color:#000;font-weight:700>{</span>
       <span style=color:#000>print</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>error</span><span style=color:#000;font-weight:700>);</span>
     <span style=color:#000;font-weight:700>},</span>
     <span style=color:#8f5902;font-style:italic>/// Remove the constructor in HomeScreen. You can call the @sign
</span><span style=color:#8f5902;font-style:italic></span>     <span style=color:#8f5902;font-style:italic>/// with the getAtSign() method in the service file. 
</span><span style=color:#8f5902;font-style:italic></span>     <span style=color:#f57900>nextScreen:</span> <span style=color:#000>HomeScreen</span><span style=color:#000;font-weight:700>(),</span>
 <span style=color:#000;font-weight:700>);</span>
<span style=color:#000;font-weight:700>}</span>
</code></pre></div><p>All of the parameters in the “Onboarding” widget can be populated very easily with either methods from the project’s service file (e.g. getAtClientPreference()) or special variables from the app itself (e.g. context). “Onboarding” is capable of handling all instances of an @sign (e.g. a particular @sign does not exist, a particular @sign exists but needs to be paired with a QR code to the device, a particular @sign exists and its keys are already in the device’s keychain manager). By using this widget, what would have taken several screens and many lines of code can be completely bypassed with a single return statement!</p><p>That’s all for the “Onboarding” widget. Before moving on from this subsection, we highly recommend implementing the widget in your own application and onboarding a real @sign to understand its intended user journey. If you’re interested, these are the steps to implement the “Onboarding” widget in the at_hello_world project:</p><p>Update your Android Studio, Flutter SDK, and Dart SDK to their latest versions. Place the at_onboarding_flutter dependency in pubspec.yaml.
Follow the setup procedure for the “Onboarding” widget in the “AndroidManifest” (android -> app -> src -> main -> AndroidManifest.xml) and “gradle” file (android -> app -> build.gradle) of the at_hello_world project. You may also need to update the “classpath” of the android gradle build tool to 3.5.4 (this can be done by going to android -> gradle -> build.gradle and editing the first classpath in the “dependencies” brackets). This must be completed in order to set up the permission for the QR code scanner to access your camera. Find those steps on the pub.dev site for at_onboarding_flutter here.
Get a free @sign from atsign.com. Generate its QR code, and drag/drop the created file directly into the emulator. Confirm that the QR code image appears in the “Files” or “Drive” app of the emulator you’re using (assuming that it is an Android emulator).
In “at_conf.dart”, update the “root” variable from &lsquo;vip.ve.atsign.zone&rsquo; to &lsquo;root.atsign.org&rsquo;. This ensures that the project points to the domain that is used in production as opposed to the one for the virtual environment.
Replace the existing code in the <em>login() function with what we wrote above. Double-check that no errors arise (you’ll likely have to tweak the names of a couple of methods in the service file, because some of them begin with the “</em>” private designation).
Fire the app on your emulator. Although the dropdown menu will still appear (since we didn’t change any of that code), we will not be authenticating with any of the testable @signs. If you’d like, simply remove the “DropdownButton” widget so that we can eliminate the list of testable @signs. Click on the “Login” button.
Assuming that you haven’t previously authenticated with a real @sign, the “Onboarding” widget should prompt you with a request to upload your QR code. Upload the QR code you saved onto the emulator earlier and wait for the authentication to complete.
If no errors form, the “Onboarding” widget should take you seamlessly to the “Home” screen, where you can add & retrieve key/value pairs directly from your very own secondary server! The next time you authenticate (i.e. restart the application), the “Onboarding” widget should detect the authentication keys placed in your device’s keychain manager and guide you directly to the “Home” screen.</p></details><h3 id=the-chatting-widget>The Chatting Widget</h3><p>One of the many things you can do after successfully authenticating an @sign is providing one-to-one text messaging! To do this, you’ll need the at_chat_flutter dependency.</p><p>The at_chat_flutter widget offers a messaging experience that is unique to the @platform. In a traditional messaging application, your texts are stored in a remote database and the person you’re pinging pulls the texts from there (a bit unsettling if you think about it). Of course, there is no such thing as a remote database in the @platform, so we had to be a bit clever coming up with a messaging scheme. In a nutshell, your text messages are not “sent” but rather “shared” with another @sign. All your texts are stored securely in your secondary server and never leave; if you decide to send a message to someone, that person is given permission to view that text via the notify verb, which will be covered in the next section on advanced @platform verbs.</p><details><summary style=color:#f05f3e>Learn more about the chatting widget here!</summary><div class="alert alert-warning" role=alert><h4 class=alert-heading>Note</h4>This dependency value may not be up-to-date so be sure to check it out on our <a href=https://pub.dev/packages/at_chat_flutter>pub.dev</a>!</div><h4 id=use-this-package-as-a-library-1>Use this package as a library</h4><pre><code>at_chat_flutter: ^1.0.1
</code></pre><p>Although this messaging dynamic might sound a bit involved, set up is quite easy! To get a feel for using the “Chatting” widget, it’s best to follow along with the at_chats demo application.</p><p>The general flow of all @platform widgets is onboarding an @sign => initializing the service object => creating the actual widgets. Assuming we’ve already onboarded an @sign, let’s look at the steps to initialize our chat service:</p><p>(The following code snippets are taken directly from at_chats. While there will be explanations, don’t worry too much about all the variables!)</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-dart data-lang=dart><span style=color:#000>getAtSignAndInitializeChat</span><span style=color:#000;font-weight:700>()</span> <span style=color:#204a87;font-weight:700>async</span> <span style=color:#000;font-weight:700>{</span>
 <span style=color:#8f5902;font-style:italic>/// In the at_chats app, the onboarded @sign is displayed at the top 
</span><span style=color:#8f5902;font-style:italic></span> <span style=color:#8f5902;font-style:italic>/// of the Second Screen. We set that @sign to [currentAtSign].
</span><span style=color:#8f5902;font-style:italic></span> <span style=color:#204a87;font-weight:700>String</span> <span style=color:#000>currentAtSign</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#204a87;font-weight:700>await</span> <span style=color:#000>clientSdkService</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>getAtSign</span><span style=color:#000;font-weight:700>();</span>
 <span style=color:#8f5902;font-style:italic>/// Set [activeAtSign], which is the variable that gets displayed, to
</span><span style=color:#8f5902;font-style:italic></span> <span style=color:#8f5902;font-style:italic>/// [currentAtSign] using setState(() {}).
</span><span style=color:#8f5902;font-style:italic></span> <span style=color:#000>setState</span><span style=color:#000;font-weight:700>(()</span> <span style=color:#000;font-weight:700>{</span>
   <span style=color:#000>activeAtSign</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>currentAtSign</span><span style=color:#000;font-weight:700>;</span>
 <span style=color:#000;font-weight:700>});</span>
 <span style=color:#8f5902;font-style:italic>/// Initialize a List of Strings called [allAtSigns] that we will 
</span><span style=color:#8f5902;font-style:italic></span> <span style=color:#8f5902;font-style:italic>/// eventually display in the dropdown on the Second Screen. Here, we 
</span><span style=color:#8f5902;font-style:italic></span> <span style=color:#8f5902;font-style:italic>/// simply pull an existing List from the at_demo_data dependency.
</span><span style=color:#8f5902;font-style:italic></span> <span style=color:#000>List</span><span style=color:#ce5c00;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>String</span><span style=color:#ce5c00;font-weight:700>&gt;</span> <span style=color:#000>allAtSigns</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>at_demo_data</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>allAtsigns</span><span style=color:#000;font-weight:700>;</span>
 <span style=color:#8f5902;font-style:italic>/// We want to remove the [activeAtSign] from this List because we 
</span><span style=color:#8f5902;font-style:italic></span> <span style=color:#8f5902;font-style:italic>/// can&#39;t chat with ourselves!
</span><span style=color:#8f5902;font-style:italic></span> <span style=color:#000>allAtSigns</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>remove</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>activeAtSign</span><span style=color:#000;font-weight:700>);</span>
 <span style=color:#8f5902;font-style:italic>/// Again, call setState(() {}) to assign [allAtSigns] to the 
</span><span style=color:#8f5902;font-style:italic></span> <span style=color:#8f5902;font-style:italic>/// variable [atSigns] that will be used in the dropdown widget.
</span><span style=color:#8f5902;font-style:italic></span> <span style=color:#000>setState</span><span style=color:#000;font-weight:700>(()</span> <span style=color:#000;font-weight:700>{</span>
   <span style=color:#000>atSigns</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>allAtSigns</span><span style=color:#000;font-weight:700>;</span>
 <span style=color:#000;font-weight:700>});</span>
 <span style=color:#8f5902;font-style:italic>/// This is the only at_chat_flutter related function! 
</span><span style=color:#8f5902;font-style:italic></span> <span style=color:#8f5902;font-style:italic>/// initializeChatService takes in an AtClientImpl instance, the 
</span><span style=color:#8f5902;font-style:italic></span> <span style=color:#8f5902;font-style:italic>/// currently onboarded @sign, and the root domain for this project. 
</span><span style=color:#8f5902;font-style:italic></span> <span style=color:#8f5902;font-style:italic>/// As its name suggest, this function will prepare the chat service 
</span><span style=color:#8f5902;font-style:italic></span> <span style=color:#8f5902;font-style:italic>/// for us.
</span><span style=color:#8f5902;font-style:italic></span> <span style=color:#000>initializeChatService</span><span style=color:#000;font-weight:700>(</span>
     <span style=color:#000>clientSdkService</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>atClientServiceInstance</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>atClient</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>activeAtSign</span><span style=color:#000;font-weight:700>,</span>
     <span style=color:#f57900>rootDomain:</span> <span style=color:#000>MixedConstants</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>ROOT_DOMAIN</span><span style=color:#000;font-weight:700>);</span>
<span style=color:#000;font-weight:700>}</span>


<span style=color:#000>Because</span> <span style=color:#000>getAtSignandInitializeChat</span><span style=color:#000;font-weight:700>()</span> <span style=color:#204a87;font-weight:700>is</span> <span style=color:#000>an</span> <span style=color:#000>initialization</span> <span style=color:#000>function</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>it</span> <span style=color:#204a87;font-weight:700>is</span> <span style=color:#000>best</span> <span style=color:#000>to</span> <span style=color:#000>call</span> <span style=color:#000>it</span> <span style=color:#204a87;font-weight:700>in</span> <span style=color:#000>the</span> <span style=color:#000>initState</span><span style=color:#000;font-weight:700>()</span> <span style=color:#000>function</span> <span style=color:#000>at</span> <span style=color:#000>the</span> <span style=color:#000>top</span> <span style=color:#000>of</span> <span style=color:#000>the</span> <span style=color:#000>_SecondScreenState</span> <span style=color:#000>class</span><span style=color:#000;font-weight:700>.</span> <span style=color:#000>The</span> <span style=color:#000>only</span> <span style=color:#000>other</span> <span style=color:#000>thing</span> <span style=color:#000>we</span> <span style=color:#000>need</span> <span style=color:#000>to</span> <span style=color:#204a87;font-weight:700>do</span> <span style=color:#000>before</span> <span style=color:#000>calling</span> <span style=color:#000>the</span> <span style=color:#a40000>“</span><span style=color:#000>Chatting</span><span style=color:#a40000>”</span> <span style=color:#000>widget</span> <span style=color:#204a87;font-weight:700>is</span> <span style=color:#000>deciding</span> <span style=color:#000>who</span> <span style=color:#000>we</span><span style=color:#a40000>’</span><span style=color:#000>d</span> <span style=color:#000>like</span> <span style=color:#000>to</span> <span style=color:#000>chat</span> <span style=color:#204a87;font-weight:700>with</span><span style=color:#000;font-weight:700>.</span>

<span style=color:#000>setAtsignToChatWith</span><span style=color:#000;font-weight:700>()</span> <span style=color:#000;font-weight:700>{</span>
 <span style=color:#8f5902;font-style:italic>/// This function is as simple as calling the setChatWithAtSign() 
</span><span style=color:#8f5902;font-style:italic></span> <span style=color:#8f5902;font-style:italic>/// function from the at_chat_flutter dependency with 
</span><span style=color:#8f5902;font-style:italic></span> <span style=color:#8f5902;font-style:italic>/// [chatWithAtSign] passed in! [chatWithAtSign] is simply the @sign 
</span><span style=color:#8f5902;font-style:italic></span> <span style=color:#8f5902;font-style:italic>/// that a user selects from the dropdown on the screen.
</span><span style=color:#8f5902;font-style:italic></span> <span style=color:#000>setChatWithAtSign</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>chatWithAtSign</span><span style=color:#000;font-weight:700>);</span>
<span style=color:#000;font-weight:700>}</span>
</code></pre></div><p>We won’t want to call setAtsignToChatWith() in initState() because the function won’t know which @sign we’re communicating with until the individual selects it from the dropdown widget. Instead, it makes the most sense to place this function in the button (FlatButton for the at_chats app) that determines the navigation to the next screen. For at_chats, clicking the “Chat options” FlatButton will check to make sure that the “chatWithAtSign” variable is populated before it calls setAtsignToChatWith() and switches the “showOptions” variable to true, which allows the individual to see the two options for viewing the chatbox.</p><p>Now, for the moment of truth: once we’ve initialized the chat service, how do we create the actual chat screen? In most tutorials, you’ll probably be guided through a UI-heavy demo of different chatbox components and pairing a backend service. With the @platform, however, it’s really just one line of code:</p><p>(This snippet is directly from third_screen.dart in the at_chats project!)</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-dart data-lang=dart><span style=color:#204a87;font-weight:700>class</span> <span style=color:#000>_ThirdScreenState</span> <span style=color:#204a87;font-weight:700>extends</span> <span style=color:#000>State</span><span style=color:#ce5c00;font-weight:700>&lt;</span><span style=color:#000>ThirdScreen</span><span style=color:#ce5c00;font-weight:700>&gt;</span> <span style=color:#000;font-weight:700>{</span>
 <span style=color:#a40000>@</span><span style=color:#000>override</span>
 <span style=color:#000>Widget</span> <span style=color:#000>build</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>BuildContext</span> <span style=color:#000>context</span><span style=color:#000;font-weight:700>)</span> <span style=color:#000;font-weight:700>{</span>
   <span style=color:#204a87;font-weight:700>return</span> <span style=color:#000>Scaffold</span><span style=color:#000;font-weight:700>(</span>
     <span style=color:#f57900>appBar:</span> <span style=color:#000>AppBar</span><span style=color:#000;font-weight:700>(</span><span style=color:#f57900>title:</span> <span style=color:#000>Text</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#39;Chat&#39;</span><span style=color:#000;font-weight:700>)),</span>
     <span style=color:#8f5902;font-style:italic>/// You can simply set the body parameter of Scaffold widget
</span><span style=color:#8f5902;font-style:italic></span>     <span style=color:#8f5902;font-style:italic>/// to the ChatScreen widget from the at_chat_flutter dependency!
</span><span style=color:#8f5902;font-style:italic></span>     <span style=color:#f57900>body:</span> <span style=color:#000>ChatScreen</span><span style=color:#000;font-weight:700>(</span>
       <span style=color:#8f5902;font-style:italic>/// Optional parameters to customize your ChatScreen widget.
</span><span style=color:#8f5902;font-style:italic></span>       <span style=color:#8f5902;font-style:italic>/// You can find the full list of parameters in our Github 
</span><span style=color:#8f5902;font-style:italic></span>       <span style=color:#8f5902;font-style:italic>/// under the at_widgets repository.
</span><span style=color:#8f5902;font-style:italic></span>       <span style=color:#f57900>height:</span> <span style=color:#000>MediaQuery</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>of</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>context</span><span style=color:#000;font-weight:700>).</span><span style=color:#000>size</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>height</span><span style=color:#000;font-weight:700>,</span>
       <span style=color:#f57900>incomingMessageColor:</span> <span style=color:#000>Colors</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>blue</span><span style=color:#000;font-weight:700>[</span><span style=color:#0000cf;font-weight:700>100</span><span style=color:#000;font-weight:700>],</span>
       <span style=color:#f57900>outgoingMessageColor:</span> <span style=color:#000>Colors</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>green</span><span style=color:#000;font-weight:700>[</span><span style=color:#0000cf;font-weight:700>100</span><span style=color:#000;font-weight:700>],</span>
       <span style=color:#f57900>isScreen:</span> <span style=color:#204a87;font-weight:700>true</span><span style=color:#000;font-weight:700>,</span>
     <span style=color:#000;font-weight:700>),</span>
   <span style=color:#000;font-weight:700>);</span>
 <span style=color:#000;font-weight:700>}</span>
<span style=color:#000;font-weight:700>}</span>
</code></pre></div><p>By initializing the chat service and calling the ChatScreen() widget, you can make a fully-functioning one-to-one messaging application! While the ChatScreen widget offers a number of ways to customize your chatbox, if you’d like to build your own widget from scratch, you can use the at_chat_flutter dependency as a basis for creating your personal chat library that works with the @platform.</p></details><h3 id=the-contacts-widget>The Contacts Widget</h3><p>Too many @signs to keep track of? That’s no problem with the at_contacts_flutter widget! Simply add the at_contacts_flutter dependency to your project, and you’ll be capable of performing several actions with your @sign contacts.</p><details><summary style=color:#f05f3e>Learn more about the contacts widget here!</summary><div class="alert alert-warning" role=alert><h4 class=alert-heading>Note</h4>This dependency value may not be up-to-date so be sure to check it out on our <a href=https://pub.dev/packages/at_contacts_flutter>pub.dev</a>!</div><h4 id=use-this-package-as-a-library-2>Use this package as a library</h4><pre><code>at_contacts_flutter: ^1.0.0
</code></pre><p>In order to implement the at_contacts_flutter widget, you must first, of course, create an AtClientService instance and authenticate an @sign.</p><p>After you have successfully onboarded an @sign, you can add a page where you may choose to show your contacts or show your blocked contacts. On load of this page, you will want to initialize the contacts service, similar to initializing the at_chats service. The contacts service needs to be initialised with the atClient from the AtClientService, current @sign, and the root domain.</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-dart data-lang=dart><span style=color:#000>initializeContactsService</span><span style=color:#000;font-weight:700>(</span>
<span style=color:#000>clientSdkService</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>atClientServiceInstance</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>atClient</span><span style=color:#000;font-weight:700>,</span>
<span style=color:#000>activeAtSign</span><span style=color:#000;font-weight:700>,</span>
<span style=color:#f57900>rootDomain:</span> <span style=color:#000>MixedConstants</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>ROOT_DOMAIN</span><span style=color:#000;font-weight:700>);</span>
</code></pre></div><p>After successfully initializing the contact service, you will now be capable of getting the list of contacts that exist for the authenticated @sign. This is as easy as simply passing the contacts into a variable.</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-dart data-lang=dart><span style=color:#204a87;font-weight:700>var</span> <span style=color:#000>_result</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#204a87;font-weight:700>await</span> <span style=color:#000>_contactService</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>fetchContacts</span><span style=color:#000;font-weight:700>();</span>
</code></pre></div><p>This fetchContacts() function exists in the _contactService file, which can be found within the at_contact’s ‘services’ folder. If you want to do more than just get the list of contacts, you have the capability of adding more contacts to this list, in addition to removing or blocking any.
In order to retrieve the list of blocked contacts, it is similar to retrieving the regular list of contacts. The code from the example app demonstrates this well.</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-dart data-lang=dart><span style=color:#000>Class</span> <span style=color:#000>BlockedScreen</span> <span style=color:#204a87;font-weight:700>extends</span> <span style=color:#000>StatefulWidget</span><span style=color:#000;font-weight:700>{</span>
  <span style=color:#a40000>@</span><span style=color:#000>override</span>
  <span style=color:#000>_BlockedScreenState</span> <span style=color:#000>createState</span><span style=color:#000;font-weight:700>()</span> <span style=color:#ce5c00;font-weight:700>=&gt;</span> <span style=color:#000>_BlockedScreenState</span><span style=color:#000;font-weight:700>();</span>
<span style=color:#000;font-weight:700>}</span>

<span style=color:#204a87;font-weight:700>class</span> <span style=color:#000>_BlockedScreenState</span> <span style=color:#204a87;font-weight:700>extends</span> <span style=color:#000>State</span><span style=color:#ce5c00;font-weight:700>&lt;</span><span style=color:#000>BlockedScreen</span><span style=color:#ce5c00;font-weight:700>&gt;</span> <span style=color:#000;font-weight:700>{</span>
  <span style=color:#8f5902;font-style:italic>// Here, we are initializing a ContactService object in order
</span><span style=color:#8f5902;font-style:italic></span>  <span style=color:#8f5902;font-style:italic>// to call our list of blocked contacts later within our widget.
</span><span style=color:#8f5902;font-style:italic></span>  <span style=color:#8f5902;font-style:italic>// Refer to how the list is populated within the example app
</span><span style=color:#8f5902;font-style:italic></span>  <span style=color:#000>ContactService</span> <span style=color:#000>_contactService</span><span style=color:#000;font-weight:700>;</span>
  <span style=color:#a40000>@</span><span style=color:#000>override</span> 
  <span style=color:#204a87;font-weight:700>void</span> <span style=color:#000>initState</span><span style=color:#000;font-weight:700>()</span> <span style=color:#000;font-weight:700>{</span>
    <span style=color:#000>_contactService</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>ContactService</span><span style=color:#000;font-weight:700>();</span>
    <span style=color:#000>_contactService</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>fetchBlockContactList</span><span style=color:#000;font-weight:700>();</span>
    <span style=color:#204a87;font-weight:700>super</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>initState</span><span style=color:#000;font-weight:700>();</span>
<span style=color:#000;font-weight:700>}</span>
</code></pre></div><p>To block a contact, it is as easy as calling the blockUnblock method. If a contact is blocked, it will unblock the contact. If the contact is not blocked, it will block it for you.</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-dart data-lang=dart><span style=color:#204a87;font-weight:700>await</span> <span style=color:#000>_contactService</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>blockUnblockContact</span><span style=color:#000;font-weight:700>(</span><span style=color:#f57900>contact:</span> <span style=color:#000>_atSign_you_wish_toBlockUnblock</span><span style=color:#000;font-weight:700>);</span>
</code></pre></div><p>After you block a contact, you may wish to have that contact removed from the list. All you have to do is simply implement the code below:</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-dart data-lang=dart><span style=color:#204a87;font-weight:700>await</span> <span style=color:#000>_contactService</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>deleteAtSign</span><span style=color:#000;font-weight:700>(</span><span style=color:#f57900>atSign:</span> <span style=color:#000>_atSign_you_wish_toRemove</span><span style=color:#000;font-weight:700>);</span>
</code></pre></div><p>Along with the previously stated functionalities, the at_contacts_flutter package also provides the UI so there’s no need to set up a separate page to house these functions!</p></details><h3 id=the-location-widget>The Location Widget</h3><p>One of the more common mobile application features is geolocation. Even if your app doesn’t explicitly use a map, with an individual’s permission, you can use their location for a variety of relevant recommendations like shops, restaurants, and nearby events. The at_location_flutter dependency is a powerful abstraction for geolocation with the @platform, and we’ll see some use cases of its most common functions.</p><details><summary style=color:#f05f3e>Learn more about the contacts widget here!</summary><div class="alert alert-warning" role=alert><h4 class=alert-heading>Note</h4>This dependency value may not be up-to-date so be sure to check it out on our <a href=https://pub.dev/packages/at_location_flutter>pub.dev</a>!</div><h4 id=use-this-package-as-a-library-3>Use this package as a library</h4><pre><code>at_location_flutter: ^1.0.3
</code></pre><p>Once we’ve successfully onboarded an @sign, let’s initialize our location service. For this subsection, we’ll base our code off of the example app in the Github directory for at_location_flutter.</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-dart data-lang=dart><span style=color:#000>initService</span><span style=color:#000;font-weight:700>()</span> <span style=color:#000;font-weight:700>{</span>
 <span style=color:#8f5902;font-style:italic>/// A different way to call the currently onboarded @sign. In 
</span><span style=color:#8f5902;font-style:italic></span> <span style=color:#8f5902;font-style:italic>/// practice, it is better to write a getAtSign() method in your 
</span><span style=color:#8f5902;font-style:italic></span> <span style=color:#8f5902;font-style:italic>/// project&#39;s service file. This variable is used to display the 
</span><span style=color:#8f5902;font-style:italic></span> <span style=color:#8f5902;font-style:italic>/// onboarded @sign at the top of the screen.
</span><span style=color:#8f5902;font-style:italic></span> <span style=color:#000>activeAtSign</span> <span style=color:#ce5c00;font-weight:700>=</span>
     <span style=color:#000>clientSdkService</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>atClientServiceInstance</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>atClient</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>currentAtSign</span><span style=color:#000;font-weight:700>;</span>
 <span style=color:#8f5902;font-style:italic>/// initializeLocationService() is a function from 
</span><span style=color:#8f5902;font-style:italic></span> <span style=color:#8f5902;font-style:italic>/// at_location_flutter that&#39;s located in init_location_service.dart. 
</span><span style=color:#8f5902;font-style:italic></span> <span style=color:#8f5902;font-style:italic>/// This function takes  in an AtClientImpl instance, the currently
</span><span style=color:#8f5902;font-style:italic></span> <span style=color:#8f5902;font-style:italic>/// onboarded @sign, a GlobalKey to access the NavigatorState (for 
</span><span style=color:#8f5902;font-style:italic></span> <span style=color:#8f5902;font-style:italic>/// navigating between routes), and the domain we want to point our 
</span><span style=color:#8f5902;font-style:italic></span> <span style=color:#8f5902;font-style:italic>/// project to.
</span><span style=color:#8f5902;font-style:italic></span> <span style=color:#000>initializeLocationService</span><span style=color:#000;font-weight:700>(</span>
     <span style=color:#000>clientSdkService</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>atClientServiceInstance</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>atClient</span><span style=color:#000;font-weight:700>,</span>
     <span style=color:#000>activeAtSign</span><span style=color:#000;font-weight:700>,</span>
     <span style=color:#000>NavService</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>navKey</span><span style=color:#000;font-weight:700>,</span>
     <span style=color:#f57900>rootDomain:</span> <span style=color:#000>MixedConstants</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>ROOT_DOMAIN</span>
 <span style=color:#000;font-weight:700>);</span>
<span style=color:#000;font-weight:700>}</span>
</code></pre></div><p>As is the case with most @platform widgets, you can call this initialization function in the initState() function of your class.</p><p>Once our location service is ready to go, you can let the authenticated individual freely send and request locations to/from other @sign customers. These capabilities are made possible with the “sendShareLocationNotification” and “send RequestLocationNotification” functions (which exist in the init_location_service.dart file).</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-dart data-lang=dart><span style=color:#000>ElevatedButton</span><span style=color:#000;font-weight:700>(</span>
 <span style=color:#f57900>onPressed:</span> <span style=color:#000;font-weight:700>()</span> <span style=color:#204a87;font-weight:700>async</span> <span style=color:#000;font-weight:700>{</span>
   <span style=color:#8f5902;font-style:italic>/// checkAtsign() is a helper functions that ensures the entered 
</span><span style=color:#8f5902;font-style:italic></span>   <span style=color:#8f5902;font-style:italic>/// @sign (for sending/requesting a location) is valid. It is
</span><span style=color:#8f5902;font-style:italic></span>   <span style=color:#8f5902;font-style:italic>/// unique to the example app in the at_location_flutter Github
</span><span style=color:#8f5902;font-style:italic></span>   <span style=color:#8f5902;font-style:italic>/// directory.
</span><span style=color:#8f5902;font-style:italic></span>   <span style=color:#204a87;font-weight:700>bool</span> <span style=color:#000>result</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#204a87;font-weight:700>await</span> <span style=color:#000>checkAtsign</span><span style=color:#000;font-weight:700>();</span>
   <span style=color:#204a87;font-weight:700>if</span> <span style=color:#000;font-weight:700>(</span><span style=color:#ce5c00;font-weight:700>!</span><span style=color:#000>result</span><span style=color:#000;font-weight:700>)</span> <span style=color:#000;font-weight:700>{</span>
     <span style=color:#000>CustomToast</span><span style=color:#000;font-weight:700>().</span><span style=color:#000>show</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#39;@sign not valid&#39;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>context</span><span style=color:#000;font-weight:700>);</span>
     <span style=color:#204a87;font-weight:700>return</span><span style=color:#000;font-weight:700>;</span>
   <span style=color:#000;font-weight:700>}</span>
   <span style=color:#8f5902;font-style:italic>/// This function takes in the @sign receiving the location
</span><span style=color:#8f5902;font-style:italic></span>   <span style=color:#8f5902;font-style:italic>/// notification as well as the duration (in minutes) of
</span><span style=color:#8f5902;font-style:italic></span>   <span style=color:#8f5902;font-style:italic>/// how long this shared location persists on the receiving
</span><span style=color:#8f5902;font-style:italic></span>   <span style=color:#8f5902;font-style:italic>/// @sign&#39;s secondary server.
</span><span style=color:#8f5902;font-style:italic></span>   <span style=color:#204a87;font-weight:700>await</span> <span style=color:#000>sendShareLocationNotification</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>receiver</span><span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>30</span><span style=color:#000;font-weight:700>);</span>
 <span style=color:#000;font-weight:700>},</span>
 <span style=color:#f57900>child:</span> <span style=color:#000>Text</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#39;Send Location&#39;</span><span style=color:#000;font-weight:700>),</span>
<span style=color:#000;font-weight:700>),</span>
<span style=color:#000>ElevatedButton</span><span style=color:#000;font-weight:700>(</span>
 <span style=color:#f57900>onPressed:</span> <span style=color:#000;font-weight:700>()</span> <span style=color:#204a87;font-weight:700>async</span> <span style=color:#000;font-weight:700>{</span>
   <span style=color:#204a87;font-weight:700>bool</span> <span style=color:#000>result</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#204a87;font-weight:700>await</span> <span style=color:#000>checkAtsign</span><span style=color:#000;font-weight:700>();</span>
   <span style=color:#204a87;font-weight:700>if</span> <span style=color:#000;font-weight:700>(</span><span style=color:#ce5c00;font-weight:700>!</span><span style=color:#000>result</span><span style=color:#000;font-weight:700>)</span> <span style=color:#000;font-weight:700>{</span>
     <span style=color:#000>CustomToast</span><span style=color:#000;font-weight:700>().</span><span style=color:#000>show</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#39;@sign not valid&#39;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>context</span><span style=color:#000;font-weight:700>);</span>
     <span style=color:#204a87;font-weight:700>return</span><span style=color:#000;font-weight:700>;</span>
   <span style=color:#000;font-weight:700>}</span>
   <span style=color:#8f5902;font-style:italic>/// Similar to the previous function,
</span><span style=color:#8f5902;font-style:italic></span>   <span style=color:#8f5902;font-style:italic>/// &#34;sendRequestLocationNotification&#34; needs the @sign to
</span><span style=color:#8f5902;font-style:italic></span>   <span style=color:#8f5902;font-style:italic>/// request a location from.
</span><span style=color:#8f5902;font-style:italic></span>   <span style=color:#204a87;font-weight:700>await</span> <span style=color:#000>sendRequestLocationNotification</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>receiver</span><span style=color:#000;font-weight:700>);</span>
 <span style=color:#000;font-weight:700>},</span>
 <span style=color:#f57900>child:</span> <span style=color:#000>Text</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#39;Request Location&#39;</span><span style=color:#000;font-weight:700>),</span>
<span style=color:#000;font-weight:700>),</span>
</code></pre></div><p>While the above two functions are certainly useful, there is another widget in the at_location_flutter dependency that offers a more elegant UI for sending your location, requesting locations, and even visualizing your current position. That widget is called “HomeScreen”.</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-dart data-lang=dart><span style=color:#8f5902;font-style:italic>/// When an individual clicks on the ElevatedButton that says “Show 
</span><span style=color:#8f5902;font-style:italic>/// map”, the Navigator will lead them to the HomeScreen().
</span><span style=color:#8f5902;font-style:italic></span><span style=color:#000>ElevatedButton</span><span style=color:#000;font-weight:700>(</span>
 <span style=color:#f57900>onPressed:</span> <span style=color:#000;font-weight:700>()</span> <span style=color:#000;font-weight:700>{</span>
   <span style=color:#000>Navigator</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>of</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>context</span><span style=color:#000;font-weight:700>).</span><span style=color:#000>push</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>MaterialPageRoute</span><span style=color:#000;font-weight:700>(</span>
     <span style=color:#f57900>builder:</span> <span style=color:#000;font-weight:700>(</span><span style=color:#000>BuildContext</span> <span style=color:#000>context</span><span style=color:#000;font-weight:700>)</span> <span style=color:#ce5c00;font-weight:700>=&gt;</span> <span style=color:#000>HomeScreen</span><span style=color:#000;font-weight:700>(),</span>
   <span style=color:#000;font-weight:700>));</span>
 <span style=color:#000;font-weight:700>},</span>
 <span style=color:#f57900>child:</span> <span style=color:#000>Text</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#39;Show map&#39;</span><span style=color:#000;font-weight:700>),</span>
<span style=color:#000;font-weight:700>),</span>
</code></pre></div><p>The HomeScreen displays a map with your location and offers two options (contained in “Task” widgets) that provide more user-friendly versions of the “sendShareLocationNotification” and “send RequestLocationNotification” functions (if you’re curious, these more elegant widgets are called ShareLocationSheet() and RequestLocationSheet() respectively). When you click on one of these tasks, a popup will appear to enter a receiving @sign (and duration for sharing a location), and any task you complete will appear in the bottom white region of the screen with its current status.</p><p>That’s all for the “Location” widget! If you want to test the at_location_flutter dependency for yourself, feel free to start by cloning the example app from the at_location_flutter Github repository. For more intricate functions like the location notification stream, our Github would be an excellent place to learn more.</p></details><h3 id=the-events-widget>The Events Widget</h3><p>Like how we regularly share calendar items between our friends, family, and colleagues, it would be very convenient to have a data structure for events that works with the @platform. This is where the at_events_flutter dependency comes into play.</p><details><summary style=color:#f05f3e>Learn more about the events widget here!</summary><div class="alert alert-warning" role=alert><h4 class=alert-heading>Note</h4>This dependency value may not be up-to-date so be sure to check it out on our <a href=https://pub.dev/packages/at_events_flutter>pub.dev</a>!</div><h4 id=use-this-package-as-a-library-4>Use this package as a library</h4><pre><code>at_events_flutter: ^1.0.0
</code></pre><p>The first step, as you very well may have guessed, is the initialization of the event service. Like the previous few widgets discussed above, we’ll be examining snippets from the <a href=https://github.com/atsign-foundation/at_widgets/tree/trunk/at_events_flutter/example>example app</a> in the at_event_flutter Github directory throughout this subsection.</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-dart data-lang=dart><span style=color:#000>initService</span><span style=color:#000;font-weight:700>()</span> <span style=color:#000;font-weight:700>{</span>
 <span style=color:#000>activeAtSign</span> <span style=color:#ce5c00;font-weight:700>=</span>
     <span style=color:#000>clientSdkService</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>atClientServiceInstance</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>atClient</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>currentAtSign</span><span style=color:#000;font-weight:700>;</span>
 <span style=color:#8f5902;font-style:italic>/// Unlike most of the initialization functions, our event 
</span><span style=color:#8f5902;font-style:italic></span> <span style=color:#8f5902;font-style:italic>/// initializer only needs an AtClientImpl instance and an optional 
</span><span style=color:#8f5902;font-style:italic></span> <span style=color:#8f5902;font-style:italic>/// argument for the root domain.
</span><span style=color:#8f5902;font-style:italic></span><span style=color:#000>initialiseEventService</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>clientSdkService</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>atClientServiceInstance</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>atClient</span><span style=color:#000;font-weight:700>,</span>
     <span style=color:#f57900>rootDomain:</span> <span style=color:#000>MixedConstants</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>ROOT_DOMAIN</span><span style=color:#000;font-weight:700>);</span>
<span style=color:#000;font-weight:700>}</span>

</code></pre></div><p>The most important function in the at_event_flutter library is CreateEvent(), which builds an instance of a CreateEvent that can be customized and shared across different @signs:</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-dart data-lang=dart><span style=color:#000>TextButton</span><span style=color:#000;font-weight:700>(</span>
 <span style=color:#f57900>onPressed:</span> <span style=color:#000;font-weight:700>()</span> <span style=color:#000;font-weight:700>{</span>
   <span style=color:#8f5902;font-style:italic>/// bottomSheet will return a pop up screen that takes up 90%
</span><span style=color:#8f5902;font-style:italic></span>   <span style=color:#8f5902;font-style:italic>/// of the screen height. 
</span><span style=color:#8f5902;font-style:italic></span>   <span style=color:#000>bottomSheet</span><span style=color:#000;font-weight:700>(</span>
       <span style=color:#000>CreateEvent</span><span style=color:#000;font-weight:700>(),</span> <span style=color:#000>MediaQuery</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>of</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>context</span><span style=color:#000;font-weight:700>).</span><span style=color:#000>size</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>height</span> <span style=color:#ce5c00;font-weight:700>*</span> <span style=color:#0000cf;font-weight:700>0.9</span><span style=color:#000;font-weight:700>);</span>
 <span style=color:#000;font-weight:700>},</span>
 <span style=color:#f57900>child:</span> <span style=color:#000>Container</span><span style=color:#000;font-weight:700>(</span>
   <span style=color:#f57900>height:</span> <span style=color:#0000cf;font-weight:700>40</span><span style=color:#000;font-weight:700>,</span>
   <span style=color:#f57900>child:</span>
       <span style=color:#000>Text</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#39;Create event&#39;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#f57900>style:</span> <span style=color:#000>TextStyle</span><span style=color:#000;font-weight:700>(</span><span style=color:#f57900>color:</span> <span style=color:#000>Colors</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>black</span><span style=color:#000;font-weight:700>)),</span>
 <span style=color:#000;font-weight:700>),</span>
</code></pre></div><p>CreateEvent() is a separate screen in the application that guides an individual through a list of fields they can populate to provide information about their event. If you look into the CreateEvent class, you’ll see that these fields are stored in an object called “eventData”, which is an instance of an <a href=https://github.com/atsign-foundation/at_widgets/blob/trunk/at_events_flutter/lib/models/event_notification.dart>EventNotificationModel</a>. It’s full list of attributes is below (the ones with comments are used in the CreateEvent class):</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-dart data-lang=dart><span style=color:#204a87;font-weight:700>class</span> <span style=color:#000>EventNotificationModel</span> <span style=color:#000;font-weight:700>{</span>
 <span style=color:#000>EventNotificationModel</span><span style=color:#000;font-weight:700>();</span>
 <span style=color:#204a87;font-weight:700>String</span> <span style=color:#000>atsignCreator</span><span style=color:#000;font-weight:700>;</span>
 <span style=color:#204a87;font-weight:700>bool</span> <span style=color:#000>isCancelled</span><span style=color:#000;font-weight:700>;</span>
 <span style=color:#8f5902;font-style:italic>/// The title of the event.
</span><span style=color:#8f5902;font-style:italic></span> <span style=color:#204a87;font-weight:700>String</span> <span style=color:#000>title</span><span style=color:#000;font-weight:700>;</span>
 <span style=color:#8f5902;font-style:italic>/// A location serving as the event&#39;s venue.
</span><span style=color:#8f5902;font-style:italic></span> <span style=color:#000>Venue</span> <span style=color:#000>venue</span><span style=color:#000;font-weight:700>;</span>
 <span style=color:#8f5902;font-style:italic>/// An object that stores info like event date, start time, and repeat duration.
</span><span style=color:#8f5902;font-style:italic></span> <span style=color:#000>Event</span> <span style=color:#000>event</span><span style=color:#000;font-weight:700>;</span>
 <span style=color:#204a87;font-weight:700>String</span> <span style=color:#000>key</span><span style=color:#000;font-weight:700>;</span>
 <span style=color:#000>AtGroup</span> <span style=color:#000>group</span><span style=color:#000;font-weight:700>;</span>
 <span style=color:#204a87;font-weight:700>bool</span> <span style=color:#000>isSharing</span><span style=color:#000;font-weight:700>;</span>
 <span style=color:#204a87;font-weight:700>bool</span> <span style=color:#000>isUpdate</span><span style=color:#000;font-weight:700>;</span> <span style=color:#8f5902;font-style:italic>//when an event data is being updated , this should be true.
</span><span style=color:#8f5902;font-style:italic></span> <span style=color:#000;font-weight:700>...</span>
<span style=color:#000;font-weight:700>}</span>
</code></pre></div><p>“eventData” is a crucial data structure that’s used not just in creating an event but updating and deleting events as well. The init_events_service.dart file illustrates a variety of functions that can be used to perform useful actions on these objects.</p><p>One important feature of the example app is its EventList class, which doesn’t come directly with the at_events_flutter dependency:</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-dart data-lang=dart><span style=color:#000>TextButton</span><span style=color:#000;font-weight:700>(</span>
 <span style=color:#f57900>onPressed:</span> <span style=color:#000;font-weight:700>()</span> <span style=color:#000;font-weight:700>{</span>
   <span style=color:#000>Navigator</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>push</span><span style=color:#000;font-weight:700>(</span>
     <span style=color:#000>context</span><span style=color:#000;font-weight:700>,</span>
     <span style=color:#000>MaterialPageRoute</span><span style=color:#000;font-weight:700>(</span>
       <span style=color:#f57900>builder:</span> <span style=color:#000;font-weight:700>(</span><span style=color:#000>context</span><span style=color:#000;font-weight:700>)</span> <span style=color:#ce5c00;font-weight:700>=&gt;</span> <span style=color:#000>EventList</span><span style=color:#000;font-weight:700>(),</span>
     <span style=color:#000;font-weight:700>),</span>
   <span style=color:#000;font-weight:700>);</span>
 <span style=color:#000;font-weight:700>},</span>
</code></pre></div><p>This seemingly harmless class is actually doing quite a bit of work behind the scenes! EventList listens to an event stream that comes from an EventService object (a class within the at_event_flutter dependency) and displays them in a ListView format. Clicking on one of these events, you’ll be navigated to a popup of a CreateEvent instance with its “isUpdate” parameter set to true. This allows you to edit and save any event of your choice!</p></details><h3 id=the-backup-keys-widget>The Backup Keys Widget</h3><p>When someone uses their @sign for the first time with an @platform app, it is important to have them authenticate with their generated QR code and create a set of backup keys just in case the ones in the keychain manager are lost or if you want to use the same @sign on a different device. The backup keys widget occurs during the “Onboarding” widget.</p><details><summary style=color:#f05f3e>Learn more about the events widget here!</summary><div class="alert alert-warning" role=alert><h4 class=alert-heading>Note</h4>This dependency value may not be up-to-date so be sure to check it out on our <a href=https://pub.dev/packages/at_backupkey_flutter>pub.dev</a>!</div><h4 id=use-this-package-as-a-library-5>Use this package as a library</h4><pre><code>at_onboarding_flutter: ^1.0.0+4
</code></pre><p>You may notice that in order to get the at_backupKeys_flutter package, you can simply pull from the at_onboarding_flutter widget which houses the at_backupkeys_flutter widget! See below the process of at_onboarding_flutter to see where at_backupkeys_flutter comes into play!</p><div class=row><div class=column style=float:left;width:33.33%;padding-left:50px><img src=/Widgets/enterAtsign.png alt=at_cookbook style=width:89%></div><div class=column style=float:left;width:33.33%;padding-left:25px><img src=/Widgets/qrCodeUpload.png alt=at_cookbook style=width:82%></div><div class=column style=float:left;width:33.33%><img src=/Widgets/backupKeys_save.png alt=at_cookbook style=width:75%></div></div><p>After inputting what @sign you wish to pair, you will need to upload the QR code retrieved from atsign.com. The emulator in the picture is not hooked up to a camera, so a small GIF of a house is there to fill where the camera would be. After successfully uploading and authenticating with the QR code, the backup key widget will be introduced to you! From the save option, you will be prompted to either save your keys to the files folder of the device or upload the keys to an associated Google Drive.</p><p>Fortunately, implementing the backup key widget is painless as it is a part of the onboarding widget! If you have already implemented the onboarding widget, there’s no code you need to write!</p></details><h3 id=at_onboarding_flutter>at_onboarding_flutter</h3><p>A flutter plugin project for onboarding any @sign in @protocol apps with ease. Provides QRscanner and upload key file option to authenticate.</p><p><a href=https://pub.dev/packages/at_onboarding_flutter>Learn more</a></p><h3 id=at_chat_flutter>at_chat_flutter</h3><p>A flutter plugin project to provide chat feature using atsigns and atprotocol.</p><p><a href=https://pub.dev/packages/at_chat_flutter>Learn more</a></p><h3 id=at_common_flutter>at_common_flutter</h3><p>A flutter package to provide common widgets used by other atsign flutter packages.</p><p><a href=https://pub.dev/packages/at_common_flutter>Learn more</a></p><h3 id=at_backupkey_flutter>at_backupkey_flutter</h3><p>A flutter plugin project for saving backup key of any @sign that is being onboarded with @protocol apps. Backup key can used to authenticate in any @protocol apps.</p><p><a href=https://pub.dev/packages/at_backupkey_flutter>Learn more</a></p><h3 id=at_contacts_flutter>at_contacts_flutter</h3><p>A flutter plugin project to provide ease of managing contacts for an atsign using atprotocol.</p><p><a href=https://pub.dev/packages/at_contacts_flutter>Learn more</a></p><h3 id=at_contacts_group_flutter>at_contacts_group_flutter</h3><p>A flutter plugin project to provide the group functionality with contacts using atprotocol.</p><p><a href=https://pub.dev/packages/at_contacts_group_flutter>Learn more</a></p><h3 id=at_location_flutter>at_location_flutter</h3><p>A flutter plugin project to share location between two atsigns and track them on OSM (open street maps).</p><p><a href=https://pub.dev/packages/at_location_flutter>Learn more</a></p><h3 id=at_events_flutter>at_events_flutter</h3><p>A flutter plugin project to manage events using the atprotocol.</p><p><a href=https://pub.dev/packages/at_events_flutter>Learn more</a></p></div><div class=td-content style=page-break-before:always><h1 id=pg-05e970a937284e7f80b1fe8d3dd780c8>5 - @protocol verbs</h1><div class=lead>There is a lot that goes on at the protocol level within the @platform. If you are interested in learning more about the key verbs that are in action, you can find details on how these verbs come to life.</div><h3 id=from>from</h3><h3 id=pkam>pkam</h3><h3 id=cram>cram</h3><h3 id=scan>scan</h3><h3 id=lookup>lookup</h3><h3 id=plookup>plookup</h3><h3 id=lloookup>lloookup</h3><h3 id=update>update</h3><h3 id=delete>delete</h3><h3 id=notify>notify</h3><h3 id=monitor>monitor</h3><h3 id=stats>stats</h3><h3 id=sync>sync</h3><h3 id=config>config</h3><h3 id=pol>pol</h3></div></main></div></div><footer class="bg-dark py-5 row d-print-none"><div class="container-fluid mx-sm-5"><div class=row><div class="col-6 col-sm-4 text-xs-center order-sm-2"><ul class="list-inline mb-0"><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title=YouTube aria-label=YouTube><a class=text-white target=_blank rel=noopener href=https://www.youtube.com/channel/UCzjSJbPmIEDXFbHb2RIj9Gg aria-label=YouTube><i class="fab fa-youtube"></i></a></li><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title=LinkedIn aria-label=LinkedIn><a class=text-white target=_blank rel=noopener href=https://linkedin.com/company/atsigncompany aria-label=LinkedIn><i class="fab fa-linkedin"></i></a></li><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title=Medium aria-label=Medium><a class=text-white target=_blank rel=noopener href=https://atsigncompany.medium.com aria-label=Medium><i class="fab fa-medium"></i></a></li><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title=Twitter aria-label=Twitter><a class=text-white target=_blank rel=noopener href=https://twitter.com/atsigncompany aria-label=Twitter><i class="fab fa-twitter"></i></a></li><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title=Facebook aria-label=Facebook><a class=text-white target=_blank rel=noopener href=https://facebook.com/atsigncompany aria-label=Facebook><i class="fab fa-facebook"></i></a></li><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title=Instagram aria-label=Instagram><a class=text-white target=_blank rel=noopener href=https://instagram.com/atsigncompany aria-label=Instagram><i class="fab fa-instagram"></i></a></li></ul></div><div class="col-6 col-sm-4 text-right text-xs-center order-sm-3"><ul class="list-inline mb-0"><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title=GitHub aria-label=GitHub><a class=text-white target=_blank rel=noopener href=https://github.com/atsign-foundation aria-label=GitHub><i class="fab fa-github"></i></a></li><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title=Discord aria-label=Discord><a class=text-white target=_blank rel=noopener href=https://discord.gg/55sHTQFxfz aria-label=Discord><i class="fab fa-discord"></i></a></li><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title=Hashnode aria-label=Hashnode><a class=text-white target=_blank rel=noopener href=https://blog.atsign.dev/ aria-label=Hashnode><i class="fas fa-blog"></i></a></li><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title=Reddit aria-label=Reddit><a class=text-white target=_blank rel=noopener href=https://www.reddit.com/r/EctoGammat aria-label=Reddit><i class="fab fa-reddit"></i></a></li><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title="Developer email group" aria-label="Developer email group"><a class=text-white target=_blank rel=noopener href=https://groups.google.com/a/atsign.com/g/dev aria-label="Developer email group"><i class="fa fa-envelope"></i></a></li><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title=Meetup aria-label=Meetup><a class=text-white target=_blank rel=noopener href=https://www.meetup.com/Ektogamant-Open-Source-Developers-for-Internet-Optimism aria-label=Meetup><i class="fab fa-meetup"></i></a></li></ul></div><div class="col-12 col-sm-4 text-center py-2 order-sm-2"><small class=text-white>&copy; 2021 The @ Company All Rights Reserved</small>
<small class=ml-1><a href=https://atsign.com/privacy-policy target=_blank rel=noopener>Privacy Policy</a></small></div></div></div></footer></div><script src=https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js integrity=sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN crossorigin=anonymous></script><script src=https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/js/bootstrap.min.js integrity=sha384-+YQ4JLhjyBLPDQt//I+STsc9iw4uQqACwlvpslubQzn4u2UU2UFM80nGisd026JF crossorigin=anonymous></script><script src=/js/main.min.3b172c13b62c2bea8b1c9d2599cddc8cf89718a92d792c680871c81ba43d8c85.js integrity="sha256-OxcsE7YsK+qLHJ0lmc3cjPiXGKkteSxoCHHIG6Q9jIU=" crossorigin=anonymous></script></body></html>