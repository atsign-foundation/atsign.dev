<!doctype html><html lang=en class=no-js><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=generator content="Hugo 0.83.1"><link rel=canonical type=text/html href=https://devstaging.atsign.wtf/docs/><meta name=ROBOTS content="NOINDEX, NOFOLLOW"><link rel="shortcut icon" href=/favicons/favicon.ico><link rel=apple-touch-icon href=/favicons/apple-touch-icon-180x180.png sizes=180x180><link rel=icon type=image/png href=/favicons/favicon-16x16.png sizes=16x16><link rel=icon type=image/png href=/favicons/favicon-32x32.png sizes=32x32><link rel=icon type=image/png href=/favicons/android-36x36.png sizes=36x36><link rel=icon type=image/png href=/favicons/android-48x48.png sizes=48x48><link rel=icon type=image/png href=/favicons/android-72x72.png sizes=72x72><link rel=icon type=image/png href=/favicons/android-96x96.png sizes=96x96><link rel=icon type=image/png href=/favicons/android-144x144.png sizes=144x144><link rel=icon type=image/png href=/favicons/android-192x192.png sizes=192x192><title>The @platform(at_platform or AtPlatform) documentation</title><meta name=description content="The @platform docs for building end-to-end encrypted apps"><meta name=”og:image content="https://devstaging.atsign.wtf/landing_page/atplatform-banner.png"><meta property="og:image" content="https://devstaging.atsign.wtf/landing_page/atplatform-banner.png"><meta property="og:title" content="The @platform documentation"><meta property="og:description" content="All the documentation you need for building apps on the @platform"><meta property="og:type" content="website"><meta property="og:url" content="https://devstaging.atsign.wtf/docs/"><meta property="og:site_name" content="Build end-to-end encrypted apps quickly on the @platform"><meta name=twitter:card content="summary"><meta name=twitter:title content="The @platform documentation"><meta name=twitter:description content="All the documentation you need for building apps on the @platform"><meta name=twitter:image content="https://devstaging.atsign.wtf/landing_page/atplatform-banner.png"><link rel=preload href=/scss/main.min.0b1bf21f47a7a6fecabe316df3dcd238f3e69553f6adbe9769ab37e59a58b550.css as=style><link href=/scss/main.min.0b1bf21f47a7a6fecabe316df3dcd238f3e69553f6adbe9769ab37e59a58b550.css rel=stylesheet integrity><link rel=preconnect href=https://fonts.googleapis.com><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css2?family=Poppins:wght@400&display=swap"><script src=https://code.jquery.com/jquery-3.5.1.min.js integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin=anonymous></script><script src=https://unpkg.com/lunr@2.3.8/lunr.min.js integrity=sha384-vRQ9bDyE0Wnu+lMfm57BlYLO0/XauFuKpVsZPs7KEDwYKktWi5+Kz3MP8++DFlRY crossorigin=anonymous></script><script type=text/javascript>var _paq=window._paq=window._paq||[];_paq.push(['trackPageView']),_paq.push(['enableLinkTracking']),function(){var d="https://atsign.matomo.cloud/",b,a,c;_paq.push(['setTrackerUrl',d+'matomo.php']),_paq.push(['setSiteId','2']),b=document,a=b.createElement('script'),c=b.getElementsByTagName('script')[0],a.type='text/javascript',a.async=!0,a.src='//cdn.matomo.cloud/atsign.matomo.cloud/matomo.js',c.parentNode.insertBefore(a,c)}()</script></head><body class=td-section><header><style>.btn-primary{border-radius:.4rem}</style><a id=announcement-bar href="https://www.youtube.com/watch?v=L3L86vtEa8M" target=_blank class="fixed-top py-2 text-center text-bold text-white" style=background-color:#ffad00>Happy Holidays from all of us at The @ Company</a><nav class="js-navbar-scroll navbar navbar-expand navbar-dark flex-column flex-md-row td-navbar"><a class=navbar-brand href=/><span class=navbar-logo><svg id="_platform-logo-final" data-name="platform-logo-final" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 856.23 156"><g id="platform" style="isolation:isolate"><g style="isolation:isolate"><path d="M157.28 147.51v-104c0-5 2.75-7.78 7.78-7.78h9.55c5 0 7.78 2.75 7.78 7.78v3.88c6-9.23 15.71-13.44 26.73-13.44 23.33.0 40 18.95 40 43.42s-16.68 43.41-40 43.41c-11 0-20.74-4.21-26.73-13.61v40.34c0 5-2.75 7.78-7.78 7.78h-9.55C160 155.29 157.28 152.53 157.28 147.51zM224 77.37C224 64.57 216.41 54 203.29 54c-12.8.0-21.22 10-21.22 23.33s8.42 23.32 21.22 23.32C216.41 100.69 224 90.33 224 77.37z" style="fill:#fff"/><path d="M264.52 111.22V9.65c0-5 2.75-7.78 7.78-7.78h9.39c5 0 7.94 2.76 7.94 7.78V111.22c0 5-2.91 7.78-7.94 7.78H272.3C267.27 119 264.52 116.25 264.52 111.22z" style="fill:#fff"/><path d="M304.86 77.37c0-24.47 16.68-43.42 40-43.42 11 0 20.74 4.21 26.73 13.61V43.51c0-5 2.76-7.78 7.78-7.78h9.56c5 0 7.77 2.75 7.77 7.78v67.71c0 5-2.75 7.78-7.77 7.78h-9.56c-5 0-7.78-2.75-7.78-7.78v-3.88c-6 9.23-15.71 13.44-26.73 13.44-23.32.0-40-18.78-40-43.41zm67.07.0c0-13.29-8.43-23.33-21.22-23.33C337.58 54 330 64.57 330 77.37c0 13 7.61 23.32 20.74 23.32 12.76.0 21.19-10.04 21.19-23.32z" style="fill:#fff"/><path d="M422.15 91.3V54.36h-8.27c-2.59.0-4.21-1.46-4.21-4V39.78c0-2.59 1.62-4.05 4.21-4.05h10.21l2.75-16.85a5.91 5.91.0 016.32-5.18h7.94c3.73.0 5.67 2.1 5.67 5.67V35.73h18.79a3.67 3.67.0 014.05 4.05V50.31a3.67 3.67.0 01-4.05 4H446.77v37.8c0 6.15 3.08 8.58 6.8 8.58 4.22.0 7-3.24 7-7.61a20 20 0 00-.16-2.92c-.33-2.91.65-4.37 3.4-4.37h9.88c2.11.0 3.89.81 4.54 3.24a28.43 28.43.0 011 6.32c0 18-12.8 25.43-27.86 25.43-14.16.0-29.22-6.48-29.22-29.48z" style="fill:#fff"/><path d="M495.85 111.22V54.36H488.4a3.67 3.67.0 01-4-4V40.92c0-2.6 1.46-4.06 4-4.06h7.45V31.52C495.85 6.08 512.7.09 526.63.09c14.58.0 27.87 6.8 27.87 22.19a13.61 13.61.0 01-.33 2.6A3.6 3.6.0 01550.29 28H538.62c-2.1.0-3.4-1.29-3.4-2.91v-1c0-3.08-3.08-5.35-7-5.35-5.18.0-7.93 3.56-7.93 9.56v8.58H534.9c2.59.0 4.05 1.46 4.05 4.06v9.39a3.67 3.67.0 01-4.05 4H520.8v56.86c0 5-2.91 7.78-7.94 7.78h-9.23C498.61 119 495.85 116.25 495.85 111.22z" style="fill:#fff"/><path d="M545.75 77.37c0-24 19.76-43.42 46.17-43.42s46.17 19.44 46.17 43.42-19.76 43.41-46.17 43.41-46.17-19.28-46.17-43.41zm68.53.16c0-13.12-9.89-23.17-22.36-23.17-12.64.0-22.36 10-22.36 23.17.0 13 9.72 23 22.36 23 12.47.0 22.36-10.04 22.36-23z" style="fill:#fff"/><path d="M652.83 111.22V43.51c0-5 2.75-7.78 7.78-7.78h8.91c5 0 7.77 2.75 7.77 7.78V53.87C680.05 38.65 691.71 34 698.84 34l2.75.16c3.89.32 4.7 3.4 4.7 6.64V52.09c0 4.54-2.27 6.48-5.67 6a35.17 35.17.0 00-4-.33c-9.72.0-18.63 6.32-18.63 27.22v26.24c0 5-2.75 7.78-7.77 7.78h-9.56C655.58 119 652.83 116.25 652.83 111.22z" style="fill:#fff"/><path d="M718.12 111.22V43.51c0-5 2.75-7.78 7.77-7.78h9.56c5 0 7.78 2.75 7.78 7.78V49C746.47 39.46 755.38 34 765.75 34c9.55.0 18.79 4 24.13 14.42C797.66 36.05 807.22 34 816.61 34c21.55.0 30.62 17.66 30.62 37.26v40c0 5-2.91 7.78-7.94 7.78H829.9c-5 0-7.78-2.75-7.78-7.78V72.34c0-11.66-4.53-18-12-18-7 0-14.58 5.67-14.9 20.9v36c0 5-2.75 7.78-7.78 7.78H777.9c-5 0-7.78-2.75-7.78-7.78V72.34c0-11.66-4.37-18-11.83-18s-15.06 6.16-15.06 21.71v35.15c0 5-2.76 7.78-7.78 7.78h-9.56C720.87 119 718.12 116.25 718.12 111.22z" style="fill:#fff"/></g></g><path id="Path_13" data-name="Path 13" d="M64.71 148.23c10.19.0 21.52-1.84 30.3-5.52 1.7-.57 2-2 1.13-3.68l-1.56-3.11c-.85-1.7-2.12-2-3.82-1.42-7.5 3-17.13 4.39-26.05 4.39-32.85.0-54.94-25.35-54.94-58.47.0-33.56 24.21-58.9 57.49-58.9S123.32 43.89 123.32 75c0 22.65-7.22 33.41-17.84 33.55-2.83.15-5.8-1.55-5.8-7.78V53.37c0-3.12-1.84-4.95-5-4.95H85c-3.11.0-5 1.84-5 4.95v5.1C75.18 50.54 67.53 47 58.89 47c-18.4.0-31.43 14.87-31.43 34.41s13.18 34.12 31.16 34.12c7.93.0 18.26-3.54 23.22-12l.28 2c2.13 9.35 9.91 14 21.38 14 17.13.0 29.59-14.44 29.59-44.46.0-36.95-26.47-62.87-65.84-62.87C28.46 12.17.0 41.33.0 80.42c0 38.93 25.91 67.81 64.71 67.81zm-1-48.42c-10.06.0-16.29-8.21-16.29-18.41S53.52 63 63.72 63s16.42 7.93 16.42 18.54-6.66 18.27-16.42 18.27z" style="fill:#f05f3e"/></svg></span></a><div class="td-navbar-nav-scroll ml-md-auto" id=main_navbar><ul class="navbar-nav mt-2 mt-lg-0"><li class="nav-item mr-3 mb-2 mb-lg-0"><a class="nav-link active" href=/docs/><span class=active>Docs</span></a></li><li class="nav-item mr-3 mb-2 mb-lg-0"><a class=nav-link href=/showcase/><span>Showcase</span></a></li><li class="nav-item mr-3 mb-2 mb-lg-0"><a class=nav-link href=/community/><span>Community</span></a></li><li class="nav-item mr-3 mb-2 mb-lg-0"><a class=nav-link href=/docs/archives/guides/pricing/><span>Pricing</span></a></li><li class="nav-item mr-3 mb-2 mb-lg-0"><a class=nav-link href=/dev_tools/><span>@dev Program</span></a></li><a class="btn btn-primary nav-item mr-2 mb-2 mb-lg-0" href=/docs/get-started role=button>Get started</a><div class="site-header__social navbar-nav flex-row"><a class="nav-item nav-link nav-item mr-2mb-2 mb-lg-0" href=https://github.com/atsign-foundation/ aria-label=Github><i class="fab fa-github fa-primary"></i></a>
<a class="nav-item nav-link nav-item mr-2 mb-2 mb-lg-0" href=https://discord.gg/55sHTQFxfz aria-label=Discord><i class="fab fa-discord fa-primary"></i></a></div></ul></div></nav></header><div class="container-fluid td-outer"><div class=td-main><div class="row flex-xl-nowrap"><div class="col-12 col-md-3 col-xl-2 td-sidebar d-print-none"></div><div class="d-none d-xl-block col-xl-2 td-toc d-print-none"></div><main class="col-12 col-md-9 col-xl-8 pl-md-5" role=main><div class=td-content><div class="pageinfo pageinfo-primary d-print-none"><p>This the multi-page printable view of this section.
<a href=# onclick="return print(),!1">Click here to print</a>.</p><p><a href=/docs/>Return to the regular view of this page</a>.</p></div><h1 class=title>The @platform documentation</h1><div class=lead>All the documentation you need for building apps on the @platform</div><ul><li>1: <a href=#pg-32334c5884a48957b73abc8c334f496d>This page needs rework : Need to describe the overall flow</a></li><ul><li>1.1: <a href=#pg-1dff8d5fdb7d5f1fbef308f11b246f44>Try your own @platform project</a></li><li>1.2: <a href=#pg-dd1ed9c27af02342009c5a19286a218a>Needs work : Explain the building blocks</a></li><ul><li>1.2.1: <a href=#pg-698a0ba973f02dd62fabc75dc489965d>Namespaces</a></li><li>1.2.2: <a href=#pg-d2a795c4715b9a0b2481884fd510682a>Data Architecture</a></li><li>1.2.3: <a href=#pg-770f7294cf2d58b2aed1827a37eb76cc>No Backend</a></li><li>1.2.4: <a href=#pg-543abbf6508c847091dc2f5e85f01493>Privacy</a></li><li>1.2.5: <a href=#pg-8d83ba3d972fd23b9a4e744597076c2f>Encryption</a></li><li>1.2.6: <a href=#pg-cb70f7750ebd32f8729e07ac1c6d9daf>Polymorphism</a></li></ul></ul><li>2: <a href=#pg-2457895d2af042c0ea96fcc427a36604>Sample Applications</a></li><ul><li>2.1: <a href=#pg-ace81117034856d8f22f45760a3c7f27>SnackBar</a></li><li>2.2: <a href=#pg-472a6c917165ab6d5203f8042e648954>Chit_Chat</a></li></ul><li>3: <a href=#pg-bdfc362e7be92e740fd6f885cff03378>pub.dev packages</a></li><ul><li>3.1: <a href=#pg-f7cdc052fe40f8346e884424f16c7b3d>Dart packages</a></li><li>3.2: <a href=#pg-f15899ff1ec48adb170736df288e11d7>Flutter packages</a></li></ul><li>4: <a href=#pg-443b9e401291820c3558a1e7f9589780>Core Technology of the @platform</a></li><ul><li>4.1: <a href=#pg-5574a3255a423fa15148f788e6cc9ef2>Services provided by the @platform</a></li><li>4.2: <a href=#pg-fe5c4f776167cc70f1b506cf0afe8ca9>Libraries</a></li><li>4.3: <a href=#pg-00bbcf4ae95f97ea2ba1b152bc5c5666>The @platform widgets</a></li><li>4.4: <a href=#pg-05e970a937284e7f80b1fe8d3dd780c8>The @protocol verbs</a></li><li>4.5: <a href=#pg-8b88fadfb3bc5de4e7318095f6e9d5e7>SDK?</a></li><ul><li>4.5.1: <a href=#pg-e426690aa2677cb2694fb2eba48ed580>What are the changes?</a></li><li>4.5.2: <a href=#pg-158133c17f4af06700b0da99f0ceb313>How to migrate?</a></li><li>4.5.3: <a href=#pg-5fcdae0e6f76e33fd283f33b48116b88>What's new with rSDK?</a></li><li>4.5.4: <a href=#pg-3908ff537786b98d9380da6674e2e960>What's deprecated in rSDK?</a></li><li>4.5.5: <a href=#pg-abbed016398a769d211e988929e38e61>What are the best practices?</a></li></ul></ul><li>5: <a href=#pg-6557438925ac398717df86f494c6abb8>The @sign foundation overview</a></li><ul><li>5.1: <a href=#pg-c7b302df42148ecf03927ed97e3d4e8a>Specification</a></li><li>5.2: <a href=#pg-8ffee41928abe9462c5a96450207731a>New to Flutter?</a></li><li>5.3: <a href=#pg-6a20f2aace73774705865847a767b7d3>The @platform FAQs</a></li><ul><li>5.3.1: <a href=#pg-75fd71fbf5a5230ce5713336625d8ea6>The @platform FAQs</a></li><li>5.3.2: <a href=#pg-d9ba54ccde0ac927e8a29bb8637c7b4e>Flutter FAQs</a></li><li>5.3.3: <a href=#pg-ef74df6d58c1c96898fe88754da1c1a6>at_app FAQs</a></li></ul></ul></ul><div class=content><style>.video_box{position:relative;top:0;left:-20px;width:750px;height:400px}@media only screen and (max-width:762px){.video_box{margin-left:40px;margin-top:-100px;margin-bottom:-100px;height:500px;width:500px}}@media only screen and (max-width:500px){.video_box{width:400px}}@media only screen and (max-width:400px){.video_box{width:300px}}</style><p>As the heart of the @platform, we developed the @protocol in <a href=https://dart.dev/>Dart</a>, a powerful language that can be used to develop mobile apps with <a href=https://flutter.dev/>Flutter</a>, Google’s increasingly popular UI software framework. If you are new to Flutter or Dart, no problem! Many of our first developers knew nothing about these languages coming in. For guidance on Flutter installation and development, please visit <a href=https://flutter.dev>flutter.dev</a>. Regardless of your coding knowledge, we recommend that you begin with “<a href=/docs/get-started/>Get Started</a>.”</p><h3 id=welcome-to-the-platform>Welcome to the @platform:</h3><p>Our Co-Founder/CTO, <a href=https://www.linkedin.com/in/colinconstable/>Colin Constable</a>, and Co-Founder/CPO, <a href=https://www.linkedin.com/in/nickelskevin/>Kevin Nickels</a> discusses how the @platform has come to be and what it is, for you!</p><iframe src="https://player.vimeo.com/video/664406475?h=62b7237cf2&title=false&dnt=true&byline=false" class="video-frame video_box" frameborder=0 allow="autoplay; fullscreen" allowfullscreen></iframe><h2 id=where-should-i-go-next>Where should I go next?</h2><ul><li><a href=/docs/get-started/>Get Started</a>: Start setting up your machine.</li></ul></div></div><div class=td-content style=page-break-before:always><h1 id=pg-32334c5884a48957b73abc8c334f496d>1 - This page needs rework : Need to describe the overall flow</h1><div class=lead>The fastest way to get started developing your privacy-first app on the @platform</div><style>.ItemCard{width:200px;height:150px;border:1px solid gray}.row{display:flex;flex-direction:row;justify-content:center}.Column{flex:1}</style><p>The <a href=/docs/resources/glossary/#@platform>@platform</a> was open-sourced in November of 2020 and we’ve been working hard to make your onboarding experience as smooth as possible ever since.</p><p>We’re excited to help you get your very own @platform environment up and running!</p><h2 id=not-sure-where-to-go-next>Not sure where to go next?</h2><div class=column><div class=row><a href=/docs/get-started/create-a-project/><div class=ItemCard><center><h5><b>Try the @platform</b></h5></center><hr><center>Seeing the platform in action is the best way to understand it!</center></div></a><div style=margin:10px></div><a href=/docs/functional_architecture/><div class=ItemCard><center><h5><b>Learn the SDK</b></h5></center><hr><center>Interested in seeing what's behind the curtains?</center></div></a><div style=margin:10px></div><a href=/docs/sample_apps/><div class=ItemCard><center><h5><b>Our Sample Apps</b></h5></center><hr><center>See some features and capabilities of the @platform!</center></div></a><div style=margin:10px></div><a href=https://docs.flutter.dev/get-started/install target=_blank><div class=ItemCard><center><h5><b>New to Flutter?</b></h5></center><hr><center>Learn all about Flutter and have it installed on your machine!</center></div></a></div></div></div><div class=td-content style=page-break-before:always><h1 id=pg-1dff8d5fdb7d5f1fbef308f11b246f44>1.1 - Try your own @platform project</h1><div class=lead>Seeing the @platform in action with the Snackbar application</div><style>.receiver{height:550px;width:25vw}@media only screen and (min-width:950px){.content{row-gap:20px;display:grid;grid-template-areas:"header header" "left right";grid-template-columns:1fr 1fr}.header{grid-area:header}.left{grid-area:left}.right{grid-area:right;position:-webkit-sticky;position:sticky;top:4em;align-self:start}}@media only screen and (max-width:950px){.receiver{height:550px;width:100%}}</style><div class=content><div class=header>Below are two columns, the left side includes steps in setting up an application that utilizes the @platform to send simple data to the right hand side which will display the simple data sent.</div><div class=right><div><center><h3>Receiver</h3><iframe src=https://cconstab.github.io/snackbar/#/ title="Snackbar Code" class=receiver></iframe></center></div></div><div class=left><h3>Create your own data sender app</h3><br><h4>Step 1: Install the command line toolkit (at_app)</h4><pre style=height:40px;width:400px;overflow:hidden>
  <div style=margin-left:-15px;margin-top:-50px>
  <code style=overflow:hidden>flutter pub global activate at_app</code>
  </div>
  <div style=margin-top:-105px;margin-left:275px title="Copy to clipboard" onclick=copyText()>
        <i id=copyIcon class="fas fa-copy"></i>
      </div>
  </pre><br><h4>Step 2: Create the project</h4>Using code format (Read more on at_app <a href=https://pub.dev/packages/at_app/example target=_blank>here</a>):<pre style=height:40px;width:400px;overflow:hidden>
  <div style=margin-left:-15px;margin-top:-50px>
  <code> at_app create -d snackbar_sender ... </code>
  
  </div>
  <div style=margin-top:-125px;margin-left:275px title="Copy to clipboard" onclick=copyText2()>
        <i id=copyIcon2 class="fas fa-copy"></i>
      </div>
  </pre><b>Note:</b> Replace "..." with the folder you wish to create your project in.<br><br><h4>Step 3: Onboard an @sign</h4>Watch the GIF below to see how to get a free @sign within the app itself! If you'd like to purchase an @sign or would simply like to create and receive any type of @sign on the website, feel free to go to <a href=https://my.atsign.com/go>atsign.com</a>.<br></br><img src=/Sample_Apps/croppedWT.gif style=height:600px><p><br></br></p><h4>Step 4: Send a snack!</h4>Enter an @sign that will receive the sent snack. Be sure that it is the same @sign that you have entered in the receiver on the right hand side of this screen!</div></div><script>function copyText(){navigator.clipboard.writeText('flutter pub global activate at_app'),toggleIcon("copyIcon"),window.setTimeOut(()=>toggleIcon("copyIcon"),500)}function copyText2(){navigator.clipboard.writeText('at_app create -d snackbar_sender ...'),toggleIcon("copyIcon2")}function toggleIcon(b){let a=document.getElementById(b);a.classList.toggle("fa-copy"),a.classList.toggle("fa-check")}</script></div><div class=td-content style=page-break-before:always><h1 id=pg-dd1ed9c27af02342009c5a19286a218a>1.2 - Needs work : Explain the building blocks</h1><div class=lead>Meet the atsign-foundation organization</div><h1 id=the-atsign-foundation>The atsign-foundation</h1><p>This organization is the home for a number of open source projects and repositories. They generally fall into three basic categories:</p><ol><li>An open specification for The @protocol.</li><li>An open source platform(i.e @platform) implementation of the protocol.</li><li>Documentation, samples and examples of how to use and implement the @platform.</li></ol><h2 id=the-protocol>The @protocol</h2><p>The @protocol is a new internet protocol which is defined by an open specification document which is maintained in <a href=https://github.com/atsign-foundation/at_protocol>our Github repo</a>.</p><p><img src=/at_protocol_images/protocol_definition.svg alt="Protocol Definition"></p><p>To learn more about the @protocol, check out the <a href=/docs/overview/at_protocol_spec/>full spec document</a></p><h2 id=the-platform>The @platform</h2><p>The @platform is designed to help developers create end-to-end encrypted mobile applications. A <a href=https://github.com/atsign-foundation/>full stack platform</a> written in Dart and Flutter, it includes a wide range of libraries, services and widgets specifically designed for creating privacy-first applications on any platform.</p><p><img src=/at_platform_images/platform_definition.svg alt="Platform Definition"></p></div><div class=td-content style=page-break-before:always><h1 id=pg-698a0ba973f02dd62fabc75dc489965d>1.2.1 - Namespaces</h1><div class=lead>Easily setup your own @platform secondary server for free!</div><h2 id=getting-signs-and-keys>Getting @signs and keys.</h2><p>Your first step is to get a couple of @signs, it is best to get at least two, so you can experiment with sharing end-to-end
encrypted data across the @platform.</p><h3 id=there-are-two-methods-to-get-signs>There are two methods to get @signs.</h3><h4 id=the-first>The first</h4><p>Go to <a href=https://atsign.com>atsign.com</a> and clicking <a href=https://atsign.com/get-an-sign/>Get an @sign</a>. If you go
this route then you have more influence on your free @sign or pay for one of your choosing. Once you have your @signs,
do not forget to activate them.</p><p><img src=/docs/Get-Started/get-an-atsign/images/activate-ui.png alt="activate @sign"></p><p>Activating creates a microservice (we call the secondary server) and once
that is spun up on The @ Company infrastructure you will see a QR-Code to scan with an @ enabled application.</p><p><img src=/docs/Get-Started/get-an-atsign/images/activated.png alt="activated @sign"></p><p>The pairing consists of your device creating cryptographic
keys and sharing the public keys to the secondary server, you will be asked to store your private keys.
Storing your keys is vitally important as only you have the keys.</p><h4 id=the-second>The second</h4><p>The experience of getting a @sign via the website is great for developers as you have advanced options available, to reset
@signs and to point your @sign to your own infrastructure. For getting people onboarded quickly, a better experience would
be to get a free @sign within the app itself, this is option 2.</p><p><img src=/docs/Get-Started/get-an-atsign/images/generate-free-@sign.png alt="generate @sign"></p><p>The <a href=https://pub.dev/packages/at_onboarding_flutter>onboarding widget</a> together with an API key provides a button
marked &ldquo;Generate Free @sign&rdquo;.</p><p><img src=/docs/Get-Started/get-an-atsign/images/generate-free-@sign-pair.png alt="generate @sign-pair"></p><p>When selected a number of free @signs given to chose from, once selected it is quickly activated,
then once again you will be asked to store the cryptographic keys for the @sign.</p><h3 id=once-you-have-your-signs-and-keys>Once you have your @signs and keys</h3><p>You are ready to start using the @platform! We have a number <a href=https://github.com/atsign-foundation/at_demos>demo apps</a> that are constantly being updated, feel free to
fork or clone and try them.
There is also another nice app in development by <a href=https://github.com/XavierChanth/chit_chat>xavierchanth</a> which is a
chat app using the @platform. It is a nice example to follow as it uses the <a href=https://pub.dev/packages/at_contact>contacts</a>
combined with the <a href=https://pub.dev/packages/at_chat_flutter>at_chat_flutter</a> widgets to create a simple chat app between
@signs.</p><p><img src=/docs/Get-Started/get-an-atsign/images/ChitCh@t-low.png alt=ChitCh@t></p><p>Each @ enabled application will ask you once for your @sign and then your keys, so it can synchronize with your secondary server.
This means you might like to store your keys on a personal network drive or service (e.g. gdrive/idrive/onedrive) so
you can connect other @ enabled apps to your @sign easily. Remember not to share and protect your keys.</p><h3 id=other-widgets-and-the-platformprotocol-source-code>Other widgets and the @platform/@protocol source code</h3><p>We have an ever-growing number of widgets on <a href=https://pub.dev/publishers/atsign.org/packages>pub.dev</a>
The @plaform and the @protocol are open source projects on <a href=https://github.com/atsign-foundation>GitHub</a>. If you see something missing,
or not working let us know or better still contribute with a PR!</p><h2 id=where-should-i-go-next>Where should I go next?</h2><p>First, if you haven&rsquo;t setup Flutter, do that <a href=/docs/get-started/setup-your-env/>here</a>.</p><p>Otherwise, continue to building your first app <a href=/docs/get-started/create-a-project/>here</a>.</p></div><div class=td-content style=page-break-before:always><h1 id=pg-d2a795c4715b9a0b2481884fd510682a>1.2.2 - Data Architecture</h1><div class=lead>Run your @platform secondary server on your own infrastructure</div><h2 id=1-what-is-dess>1. What is dess?</h2><p>dess is the self-hosted option for secondary servers,
and a great tool for developers to debug their applications!
You can run several secondary servers on a single instance of dess,
as each secondary scales to use 6MB of ram or less.</p><p>dess is an acronymn for:</p><blockquote><p>d. Distributed<br>e. Edge<br>s. Secondary<br>s. Server</p></blockquote><h2 id=2-how-to-get-started>2. How to get started</h2><p>There are two parts to setting up dess:</p><ol><li>First time setup (run once)</li><li>Setup an @‎sign (run for each @‎sign)</li></ol><h2 id=3-first-time-setup>3. First Time Setup</h2><h3 id=get-a-server>Get a server</h3><p>First get yourself a microserver to run dess on.</p><p>We recommend AWS, GCP, or IONOS for hosting.</p><p>1 Core + 1 GB is more than enough to run dess comfortably.</p><h3 id=install-dess-on-the-server>Install dess on the server</h3><p>dess will install everything you need to get up and running.<br>Run the following command to install dess:</p><p><code>curl -fsSL https://getdess.atsign.com | sudo bash</code></p><p>Alternatively, if you would like to save the installation script to your machine:</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-BASH data-lang=BASH>curl -fsSL https://getdess.atsign.com -o getdess.sh
sudo bash getdess.sh
</code></pre></div><p>The script will be saved as <span>getdess.sh</span></p><h3 id=setup-a-domain-for-your-server>Setup a domain for your server</h3><p>If you don&rsquo;t have a domain available you will have to purchase one to continue.</p><p>Once you have a domain available, set an A record pointing to the IP of your server.</p><p>For example:</p><pre><code>Domain: example.com
Server IP: 123.123.123.123
</code></pre><p>Example A record:</p><pre><code>A    dess    123.123.123.123
</code></pre><p>You may replace &ldquo;dess&rdquo; with any valid value for a subdomain.<br>In this example, my fully qualified domain name (fqdn) is:</p><pre><code>dess.example.com
</code></pre><p>Once you have completed these steps, please move on to setting up your secondary server!</p><h2 id=4-setup-a-secondary-server>4. Setup a secondary server</h2><h3 id=on-myatsigncomdashboard>On my.atsign.com/dashboard</h3><ol><li>Go to &ldquo;My @‎signs.&rdquo;</li><li>Select &ldquo;Manage&rdquo; for the @‎sign you would like to setup.</li><li>Open &ldquo;Advanced Settings&rdquo;.</li><li>If the atsign is activated, follow the steps to reset it. (Warning: this will erase your data!)</li><li>Under &ldquo;settings&rdquo; enter the fully qualified domain name from initial setup.</li><li>Enter an unused port number.</li><li>Press &ldquo;Activate&rdquo;</li></ol><h3 id=on-your-dess-server>On your dess server</h3><p>dess will show you the steps to setup a secondary server.</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>sudo dess-create
&gt; Usage sudo dess-create &lt;@‎sign&gt; &lt;fqdn&gt; &lt;port&gt; &lt;email&gt; &lt;service&gt;
&gt; Example sudo dess-create @‎bob bob.example.com <span style=color:#0000cf;font-weight:700>6464</span> bob@‎example.com bob
</code></pre></div><h4 id=arguments>Arguments</h4><p><code>@‎sign</code>: The @‎sign you want to setup.</p><p><code>fqdn</code>: Fully qualified domain name to use for dess.<br>(The same as entered in your atsign.com dashboard )</p><p><code>port</code>: The port to use for dess.<br>(The same as entered in your atsign.com dashboard)</p><p><code>email</code>: An email you own to sign the certificates with.</p><p><code>service</code>: A name for the docker service.</p><h2 id=5-os-support>5. OS Support</h2><table><thead><tr><th>Distribution</th><th>Version</th><th>x86</th><th>arm64</th><th>armv7</th></tr></thead><tbody><tr><td>Amazon Linux</td><td>2</td><td>✔</td><td>✔</td><td></td></tr><tr><td>Centos</td><td>7,8</td><td>✔</td><td>✔</td><td></td></tr><tr><td>Debian</td><td>10</td><td>✔</td><td>✔</td><td></td></tr><tr><td>Raspbian</td><td>10</td><td></td><td></td><td>✔</td></tr><tr><td>Rocky Linux</td><td>8</td><td>✔</td><td>✔</td><td></td></tr><tr><td>Ubuntu</td><td>20.04-21.04</td><td>✔</td><td>✔</td><td></td></tr></tbody></table><h2 id=6-dess-setup-guides>6. dess Setup Guides</h2><p>If you are ready to get started, please check to see if we have a <a href=/docs/guides/dess-setup/>specific guide</a> available for your platform of choice.</p><p>We have guides available for the following platforms:</p><ul><li><a href=/docs/guides/dess-setup/dess-gcp/>GCP (Google Cloud Platform)</a></li><li><a href=/docs/guides/dess-setup/dess-aws/>AWS (Amazon Web Services)</a></li><li>IONOS (Coming soon)</li></ul><h2 id=7-tips--tricks>7. Tips & Tricks</h2><h3 id=oops-i-forgot-to-save-my-qr-code>Oops! I forgot to save my QR code!</h3><p>Don&rsquo;t worry! dess includes a command to recover QR codes.<br>Simply run the following:</p><p><code>dess-reshowqr &lt;@‎sign></code></p><h3 id=debugging-applications-with-dess>Debugging Applications with Dess</h3><p>dess runs as a docker swarm, to debug an application first run the following:</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>docker service ls
</code></pre></div><p>Docker will list the services running:</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>ID             NAME                   MODE         REPLICAS   IMAGE                          PORTS
b61ty3y5g41a   secondaries_shepherd   replicated   1/1        mazzolino/shepherd:latest
ex2d0kmiqinn   wolverine_secondary    replicated   0/1        atsigncompany/secondary:dess   *:6464-&gt;6464/tcp
</code></pre></div><p>For example, I have the service called &ldquo;wolverine_secondary&rdquo; running.<br>To debug this secondary using docker:</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>docker service logs -f &lt;service_name&gt;
<span style=color:#8f5902;font-style:italic># OR</span>
docker service logs -f wolverine_secondary
</code></pre></div><p>While this is running, you will be able to see the secondary in action.</p><h2 id=where-should-i-go-next>Where should I go next?</h2><p>First, if you haven&rsquo;t setup Flutter, do that <a href=/docs/get-started/setup-your-env/>here</a>.</p><p>Otherwise, continue to building your first app <a href=/docs/get-started/create-a-project/>here</a>.</p></div><div class=td-content style=page-break-before:always><h1 id=pg-770f7294cf2d58b2aed1827a37eb76cc>1.2.3 - No Backend</h1><div class=lead>Run your @platform secondary server on your own infrastructure</div></div><div class=td-content style=page-break-before:always><h1 id=pg-543abbf6508c847091dc2f5e85f01493>1.2.4 - Privacy</h1><div class=lead>Run your @platform secondary server on your own infrastructure</div></div><div class=td-content style=page-break-before:always><h1 id=pg-8d83ba3d972fd23b9a4e744597076c2f>1.2.5 - Encryption</h1><div class=lead>Run your @platform secondary server on your own infrastructure</div></div><div class=td-content style=page-break-before:always><h1 id=pg-cb70f7750ebd32f8729e07ac1c6d9daf>1.2.6 - Polymorphism</h1><div class=lead>Understanding Polymorphism on the @platform</div></div><div class=td-content style=page-break-before:always><h1 id=pg-2457895d2af042c0ea96fcc427a36604>2 - Sample Applications</h1><div class=lead>Seeing the @platform in action with demo applications</div></div><div class=td-content><h1 id=pg-ace81117034856d8f22f45760a3c7f27>2.1 - SnackBar</h1><div class=lead>Understand the inner-workings of the Snackbar app</div></div><div class=td-content style=page-break-before:always><h1 id=pg-472a6c917165ab6d5203f8042e648954>2.2 - Chit_Chat</h1><div class=lead>Understand the inner-workings of the Chit_Chat app</div></div><div class=td-content style=page-break-before:always><h1 id=pg-bdfc362e7be92e740fd6f885cff03378>3 - pub.dev packages</h1><div class=lead>Get your environment ready to develop a Flutter app</div></div><div class=td-content><h1 id=pg-f7cdc052fe40f8346e884424f16c7b3d>3.1 - Dart packages</h1><div class=lead>Get your environment ready to develop a Flutter app</div></div><div class=td-content style=page-break-before:always><h1 id=pg-f15899ff1ec48adb170736df288e11d7>3.2 - Flutter packages</h1><div class=lead>Get your environment ready to develop a Flutter app</div></div><div class=td-content style=page-break-before:always><h1 id=pg-443b9e401291820c3558a1e7f9589780>4 - Core Technology of the @platform</h1><div class=lead>The components of the @platform architecture</div><p>The picture below provides a great way to visualize just how much thought has gone into making the life of a developer on the @platform that much easier!
<img src=/Func_Arch_images/Functional_Arch.png alt="Functional Architecture"></p><p>If you&rsquo;re wondering what the difference between what the @platform consists of and what the @protocol consists of, look no further!</p><p>The @platform, which has been created on top of the @protocol consists of three major segments of developer tools. These segments consists of; <a href=/docs/functional_architecture/services/>Services</a>, <a href=/docs/functional_architecture/libraries/>Libraries</a>, and <a href=/docs/functional_architecture/widgets/>Widgets</a></p></div><div class=td-content style=page-break-before:always><h1 id=pg-5574a3255a423fa15148f788e6cc9ef2>4.1 - Services provided by the @platform</h1><div class=lead>Important services provided by the @platform</div><h3 id=data-caching--encryption>Data Caching & Encryption</h3><p>Data that others have shared with an @sign owner is cached on the @sign owner&rsquo;s device’s local keystore if permitted.</p><p><a href=https://atsigncompany.medium.com/data-encryption-caching-with-the-protocol-debe9efc0f49>Learn more</a></p><h3 id=notification>Notification</h3><p>Notification is a mechanism which enables an @sign to share data with another @sign. The data shared is end to end encrypted. @sign owner can query the status of the notification.</p><p><a href=https://blog.atsign.dev/part-1-the-notify-verb-cko97bv8f00l5gws13umb0nvz>Learn more</a></p><h3 id=onboarding>Onboarding</h3><p>The onboarding process is responsible for creating the authenticating keys for a new @sign or retrieving the authenticating keys of an existing @sign from the keys file provided by the @sign owner. It also synchronizes the data between mobile apps and the cloud secondary server.</p><p><a href=https://pub.dev/packages/at_onboarding_flutter>Learn more</a></p><h3 id=peer-to-peer-streams>Peer-to-Peer Streams</h3><p>Streams enable transferring of files between the @sign&rsquo;s through a secure and dedicated socket between sender and receiver. The files can be a text documents, images, audio-video files etc. The stream transfers are end to end encrypted.</p><p><a href=https://blog.atsign.dev/the-stream-verb-protocol-ckmwi28is01aqd2s184bien2q>Learn more</a></p><h3 id=persistence>Persistence</h3><p>The persistence defines the interfaces on how the data in @protocol is stored.</p><p><a href=https://pub.dev/packages/at_persistence_spec>Learn more</a></p><h3 id=synchronization>Synchronization</h3><p>Synchronization is a process to keep the data in mobile apps and @sign server identical.</p><p><a href=https://atsigncompany.medium.com/the-protocol-synchronization-77b00ca5341b>Learn more</a></p></div><div class=td-content style=page-break-before:always><h1 id=pg-fe5c4f776167cc70f1b506cf0afe8ca9>4.2 - Libraries</h1><div class=lead>Find the list of libraries the @platform has to offer here!</div><h3 id=at_persistence_spec>at_persistence_spec</h3><p>A Dart library containing abstract classes that defines what an implementation of the persistence layer is responsible for. This can be used to guide implementation of other persistence solutions for servers or SDKs as desired.</p><p><a href=https://pub.dev/packages/at_persistence_spec>Learn more</a></p><h3 id=at_commons>at_commons</h3><p>A library of Dart and Flutter utility classes that are used across other components of the @‎platform.</p><p><a href=https://pub.dev/packages/at_commons>Learn more</a></p><h3 id=at_common_flutter>at_common_flutter</h3><p>A Flutter package to provide common widgets used by other @‎platform Flutter packages.</p><p><a href=https://pub.dev/packages/at_common_flutter>Learn more</a></p><h3 id=at_client>at_client</h3><p>The at_client library is the non-platform specific Client SDK which provides the essential methods for building an app using the @protocol.</p><p><a href=https://pub.dev/packages/at_client>Learn more</a></p><h3 id=at_lookup>at_lookup</h3><p>A Dart library that contains the core commands that can be used with a secondary server (scan, update, lookup, llookup, plookup, etc.)</p><p><a href=https://pub.dev/packages/at_lookup>Learn more</a></p><h3 id=at_persistence_secondary_server>at_persistence_secondary_server</h3><p>A Dart library with the implementation classes for the persistence layer of the secondary server.</p><p><a href=https://pub.dev/packages/at_persistence_secondary_server>Learn more</a></p><h3 id=at_server_status>at_server_status</h3><p>A Dart library that provides a means to check on the status of the @‎root server as well as the secondary server for any particular @‎sign.</p><p><a href=https://pub.dev/packages/at_server_status>Learn more</a></p><h3 id=at_utils>at_utils</h3><p>A Dart library that contains various utility classes such as atSign, atmetadata, configuration, and logger.</p><p><a href=https://pub.dev/packages/at_utils>Learn more</a></p><h3 id=at_backupkey_flutter>at_backupkey_flutter</h3><p>A Flutter plugin project for saving the backup key of any @‎sign that is being onboarded with @‎platform apps. The backup key can be used to authenticate in other @‎platform apps.</p><p><a href=https://pub.dev/packages/at_backupkey_flutter>Learn more</a></p><h3 id=at_onboarding_flutter>at_onboarding_flutter</h3><p>A Flutter plugin project for onboarding any @‎sign in @‎platform apps with ease. Provides a QRscanner option and an upload key file option to authenticate.</p><p><a href=https://pub.dev/packages/at_onboarding_flutter>Learn more</a></p><h3 id=at_client_mobile>at_client_mobile</h3><p>A Flutter extension to the at_client library which adds support for mobile, desktop and IoT devices.</p><p><a href=https://pub.dev/packages/at_client_mobile>Learn more</a></p><h3 id=at_contacts_flutter>at_contacts_flutter</h3><p>A Flutter plugin project to provide ease of managing contacts for an @‎sign using @p‎latform.</p><p><a href=https://pub.dev/packages/at_contacts_flutter>Learn more</a></p><h3 id=at_chat_flutter>at_chat_flutter</h3><p>A Flutter plugin project to provide a chat feature between @‎signs built on the @‎platform to any Flutter application.</p><p><a href=https://pub.dev/packages/at_chat_flutter>Learn more</a></p><h3 id=at_demo_data>at_demo_data</h3><p>A Dart library that contains test data, testable @‎sign credentials and demo environment variables that can be used for writing demo apps and testing with the local test environment.</p><p><a href=https://pub.dev/packages/at_demo_data>Learn more</a></p><h3 id=at_contacts_group_flutter>at_contacts_group_flutter</h3><p>A Flutter plugin project to provide group functionality with contacts using @‎platform.</p><p><a href=https://pub.dev/packages/at_contacts_group_flutter>Learn more</a></p><h3 id=at_location_flutter>at_location_flutter</h3><p>A Flutter plugin project to share locations between two @‎signs and track them on OSM (OpenStreetMap).</p><p><a href=https://pub.dev/packages/at_location_flutter>Learn more</a></p><h3 id=at_utf7>at_utf7</h3><p>Provides methods to encode/decode strings to/from the utf7 format as defined in rfc 2152</p><p><a href=https://pub.dev/packages/at_utf7>Learn more</a></p><h3 id=at_contact>at_contact</h3><p>A Dart library for managing contact data that developers can use for their applications.</p><p><a href=https://pub.dev/packages/at_contact>Learn more</a></p><h3 id=at_events_flutter>at_events_flutter</h3><p>A Flutter plugin project to manage events (time, place and attendees) using the @‎platform.</p><p><a href=https://pub.dev/packages/at_events_flutter>Learn more</a></p><h3 id=at_base2e15>at_base2e15</h3><p>binary-to-text encoding schemes that represent binary data in an unicode string format, each unicode character represent 15 bits of binary data.</p><p><a href=https://pub.dev/packages/at_base2e15>Learn more</a></p><h3 id=at_follows_flutter>at_follows_flutter</h3><p>A Flutter plugin project that provides a basic social &ldquo;follows&rdquo; functionality for @signs. Provides a list of followers and following for @signs with the option to unfollow them.</p><p><a href=https://pub.dev/packages/at_follows_flutter>Learn more</a></p><h3 id=at_server_spec>at_server_spec</h3><p>A Dart library containing abstract classes that defines what implementations of the root and secondary servers are responsible for.</p><p><a href=https://pub.dev/packages/at_server_spec>Learn more</a></p><h3 id=at_map>at_map</h3><p>A new Flutter plugin.</p><p><a href=https://pub.dev/packages/at_map>Learn more</a></p></div><div class=td-content style=page-break-before:always><h1 id=pg-00bbcf4ae95f97ea2ba1b152bc5c5666>4.3 - The @platform widgets</h1><div class=lead>Build your app more quickly with these @platform widgets</div><h3 id=the-onboarding-widget>The Onboarding Widget</h3><p>Onboarding for the first time with the @platform isn’t as simple as choosing your @sign from a dropdown menu and clicking “Login” (after all, how would the application know where to retrieve your authentication keys from a given @sign?).</p><p>Implementing onboarding from scratch would be painstakingly difficult. Not only would you have to code the PKAM logic, but you would also have to build your own QR code scanner to extract the CRAM (Challenge-Response Authentication Mechanism) key from your @sign’s QR code generated on our website! The @ Company realized this very quickly, so we developed the at_onboarding_flutter widget to help developers who want to build production-level apps that onboard real @signs (AKA @signs that you get from our .com site).</p><details><summary style=color:#f05f3e>Learn more about the onboarding widget here!</summary><div class="alert alert-warning" role=alert><h4 class=alert-heading>Note</h4>This dependency value may not be up-to-date so be sure to check it out on our <a href=https://pub.dev/packages/at_onboarding_flutter>pub.dev</a>!</div><h4 id=use-this-package-as-a-library>Use this package as a library</h4><pre><code>at_onboarding_flutter: ^1.0.0+4
</code></pre><p>The “Onboarding” widget is very handy in that you do not need to call the “onboard” or “authenticate” methods from the service file of the application to get it running. Instead, it will ask us to specify the following parameters (descriptions for each parameter are written in the comments):</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-dart data-lang=dart><span style=color:#204a87;font-weight:700>class</span> <span style=color:#000>Onboarding</span> <span style=color:#000;font-weight:700>{</span>
 <span style=color:#8f5902;font-style:italic>///Required field as for navigation.
</span><span style=color:#8f5902;font-style:italic></span> <span style=color:#204a87;font-weight:700>final</span> <span style=color:#000>BuildContext</span> <span style=color:#000>context</span><span style=color:#000;font-weight:700>;</span>

 <span style=color:#8f5902;font-style:italic>///Onboards the given [atsign] if not null.
</span><span style=color:#8f5902;font-style:italic></span> <span style=color:#8f5902;font-style:italic>///If [atsign] is null then it takes the atsign from keychain.
</span><span style=color:#8f5902;font-style:italic></span> <span style=color:#8f5902;font-style:italic>///If [atsign] is empty then it directly jumps into authenticate 
</span><span style=color:#8f5902;font-style:italic></span> <span style=color:#8f5902;font-style:italic>///without performing onboarding. (or)
</span><span style=color:#8f5902;font-style:italic></span> <span style=color:#8f5902;font-style:italic>///If [atsign] is empty then it just presents pairAtSign screen 
</span><span style=color:#8f5902;font-style:italic></span> <span style=color:#8f5902;font-style:italic>///without onboarding the atsign. (or)
</span><span style=color:#8f5902;font-style:italic></span> <span style=color:#8f5902;font-style:italic>///Just provide an empty string for ignoring existing atsign in 
</span><span style=color:#8f5902;font-style:italic></span> <span style=color:#8f5902;font-style:italic>///keychain or app&#39;s atsign.
</span><span style=color:#8f5902;font-style:italic></span> <span style=color:#204a87;font-weight:700>final</span> <span style=color:#204a87;font-weight:700>String</span> <span style=color:#000>atsign</span><span style=color:#000;font-weight:700>;</span>

 <span style=color:#8f5902;font-style:italic>///The atClientPreference [required] to continue with the onboarding.   
</span><span style=color:#8f5902;font-style:italic></span> <span style=color:#8f5902;font-style:italic>///atClientPreference is an instance of a class in the  
</span><span style=color:#8f5902;font-style:italic></span> <span style=color:#8f5902;font-style:italic>///at_client_mobile library that stores a number of important 
</span><span style=color:#8f5902;font-style:italic></span> <span style=color:#8f5902;font-style:italic>///attributes like the namespace of the application, the CRAM key of  
</span><span style=color:#8f5902;font-style:italic></span> <span style=color:#8f5902;font-style:italic>///an @sign, the root domain we want the project to communicate 
</span><span style=color:#8f5902;font-style:italic></span> <span style=color:#8f5902;font-style:italic>///with, and so on. 
</span><span style=color:#8f5902;font-style:italic></span> <span style=color:#204a87;font-weight:700>final</span> <span style=color:#000>AtClientPreference</span> <span style=color:#000>atClientPreference</span><span style=color:#000;font-weight:700>;</span>

 <span style=color:#8f5902;font-style:italic>///The root domain for our project. By default, the plugin connects 
</span><span style=color:#8f5902;font-style:italic></span> <span style=color:#8f5902;font-style:italic>///to [root.atsign.org] to perform onboarding.
</span><span style=color:#8f5902;font-style:italic></span> <span style=color:#204a87;font-weight:700>final</span> <span style=color:#204a87;font-weight:700>String</span> <span style=color:#000>domain</span><span style=color:#000;font-weight:700>;</span>

 <span style=color:#8f5902;font-style:italic>///The color of the screen to match with the app&#39;s aesthetics. 
</span><span style=color:#8f5902;font-style:italic></span> <span style=color:#8f5902;font-style:italic>///default it is [black].
</span><span style=color:#8f5902;font-style:italic></span> <span style=color:#204a87;font-weight:700>final</span> <span style=color:#000>Color</span> <span style=color:#000>appColor</span><span style=color:#000;font-weight:700>;</span>

 <span style=color:#8f5902;font-style:italic>///If logo is not null, then it displays the widget on the left side 
</span><span style=color:#8f5902;font-style:italic></span> <span style=color:#8f5902;font-style:italic>///of appbar. Else, it displays nothing.
</span><span style=color:#8f5902;font-style:italic></span> <span style=color:#204a87;font-weight:700>final</span> <span style=color:#000>Widget</span> <span style=color:#000>logo</span><span style=color:#000;font-weight:700>;</span>

 <span style=color:#8f5902;font-style:italic>///Function returns atClientServiceMap on successful onboarding along 
</span><span style=color:#8f5902;font-style:italic></span> <span style=color:#8f5902;font-style:italic>///with onboarded @sign. Assign these returned values to the relevant 
</span><span style=color:#8f5902;font-style:italic></span> <span style=color:#8f5902;font-style:italic>///variables in your project’s service file.
</span><span style=color:#8f5902;font-style:italic></span> <span style=color:#204a87;font-weight:700>final</span> <span style=color:#000>Function</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>Map</span><span style=color:#ce5c00;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>String</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>AtClientService</span><span style=color:#ce5c00;font-weight:700>&gt;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#204a87;font-weight:700>String</span><span style=color:#000;font-weight:700>)</span> <span style=color:#000>onboard</span><span style=color:#000;font-weight:700>;</span>

 <span style=color:#8f5902;font-style:italic>///Function returns error if onboarding fails for an @sign.
</span><span style=color:#8f5902;font-style:italic></span> <span style=color:#204a87;font-weight:700>final</span> <span style=color:#000>Function</span><span style=color:#000;font-weight:700>(</span><span style=color:#204a87;font-weight:700>Object</span><span style=color:#000;font-weight:700>)</span> <span style=color:#000>onError</span><span style=color:#000;font-weight:700>;</span>

 <span style=color:#8f5902;font-style:italic>///After successful onboarding, the app will be redirected to this 
</span><span style=color:#8f5902;font-style:italic></span> <span style=color:#8f5902;font-style:italic>///screen if it is not null.
</span><span style=color:#8f5902;font-style:italic></span> <span style=color:#204a87;font-weight:700>final</span> <span style=color:#000>Widget</span> <span style=color:#000>nextScreen</span><span style=color:#000;font-weight:700>;</span>

 <span style=color:#8f5902;font-style:italic>///After the first successful onboarding, the app will get redirected 
</span><span style=color:#8f5902;font-style:italic></span> <span style=color:#8f5902;font-style:italic>///to this screen if not null.
</span><span style=color:#8f5902;font-style:italic></span> <span style=color:#204a87;font-weight:700>final</span> <span style=color:#000>Widget</span> <span style=color:#000>fistTimeAuthNextScreen</span><span style=color:#000;font-weight:700>;</span>

 <span style=color:#204a87;font-weight:700>final</span> <span style=color:#000>AtSignLogger</span> <span style=color:#000>_logger</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>AtSignLogger</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#39;At Onboarding Flutter&#39;</span><span style=color:#000;font-weight:700>);</span>

 <span style=color:#000>Onboarding</span><span style=color:#000;font-weight:700>({</span><span style=color:#000>Key</span> <span style=color:#000>key</span><span style=color:#000;font-weight:700>,</span>
   <span style=color:#a40000>@</span><span style=color:#000>required</span> <span style=color:#204a87;font-weight:700>this</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>context</span><span style=color:#000;font-weight:700>,</span>
   <span style=color:#204a87;font-weight:700>this</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>atsign</span><span style=color:#000;font-weight:700>,</span>
   <span style=color:#a40000>@</span><span style=color:#000>required</span> <span style=color:#204a87;font-weight:700>this</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>onboard</span><span style=color:#000;font-weight:700>,</span>
   <span style=color:#a40000>@</span><span style=color:#000>required</span> <span style=color:#204a87;font-weight:700>this</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>onError</span><span style=color:#000;font-weight:700>,</span>
   <span style=color:#204a87;font-weight:700>this</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>nextScreen</span><span style=color:#000;font-weight:700>,</span>
   <span style=color:#204a87;font-weight:700>this</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>fistTimeAuthNextScreen</span><span style=color:#000;font-weight:700>,</span>
   <span style=color:#a40000>@</span><span style=color:#000>required</span> <span style=color:#204a87;font-weight:700>this</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>atClientPreference</span><span style=color:#000;font-weight:700>,</span>
   <span style=color:#204a87;font-weight:700>this</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>appColor</span><span style=color:#000;font-weight:700>,</span>
   <span style=color:#204a87;font-weight:700>this</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>logo</span><span style=color:#000;font-weight:700>,</span>
   <span style=color:#204a87;font-weight:700>this</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>domain</span><span style=color:#000;font-weight:700>})</span>
 <span style=color:#000;font-weight:700>...</span>
<span style=color:#000;font-weight:700>}</span>
</code></pre></div><p>To see an actual implementation of the onboarding widget, let’s revisit the _login function in the at_hello_world app with some updated code:</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-dart data-lang=dart><span style=color:#8f5902;font-style:italic>/// Return an “Onboarding” widget that walks the individual through
</span><span style=color:#8f5902;font-style:italic>/// the onboarding procedure for any real @sign.
</span><span style=color:#8f5902;font-style:italic></span><span style=color:#000>_login</span><span style=color:#000;font-weight:700>()</span> <span style=color:#204a87;font-weight:700>async</span> <span style=color:#000;font-weight:700>{</span>
 <span style=color:#204a87;font-weight:700>return</span> <span style=color:#000>Onboarding</span><span style=color:#000;font-weight:700>(</span>
     <span style=color:#f57900>context:</span> <span style=color:#000>context</span><span style=color:#000;font-weight:700>,</span>
     <span style=color:#8f5902;font-style:italic>/// Ensure that the “root” attribute is assigned to 
</span><span style=color:#8f5902;font-style:italic></span>     <span style=color:#8f5902;font-style:italic>/// “root.atsign.org” 
</span><span style=color:#8f5902;font-style:italic></span>     <span style=color:#f57900>domain:</span> <span style=color:#000>AtConfig</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>root</span>
     <span style=color:#f57900>atClientPreference:</span> <span style=color:#204a87;font-weight:700>await</span> 
        <span style=color:#000>_serverDemoService</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>getAtClientPreference</span><span style=color:#000;font-weight:700>(),</span>
     <span style=color:#f57900>appColor:</span> <span style=color:#000>Color</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>fromARGB</span><span style=color:#000;font-weight:700>(</span><span style=color:#0000cf;font-weight:700>255</span><span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>240</span><span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>94</span><span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>62</span><span style=color:#000;font-weight:700>),</span>
     <span style=color:#f57900>onboard:</span> <span style=color:#000;font-weight:700>(</span><span style=color:#000>atClientServiceMap</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>atsign</span><span style=color:#000;font-weight:700>)</span> <span style=color:#000;font-weight:700>{</span>
       <span style=color:#000>_serverDemoService</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>atClientServiceMap</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>atClientServiceMap</span><span style=color:#000;font-weight:700>;</span>
       <span style=color:#000>_serverDemoService</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>atSign</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>atsign</span><span style=color:#000;font-weight:700>;</span>
     <span style=color:#000;font-weight:700>},</span>
     <span style=color:#f57900>onError:</span> <span style=color:#000;font-weight:700>(</span><span style=color:#000>error</span><span style=color:#000;font-weight:700>)</span> <span style=color:#000;font-weight:700>{</span>
       <span style=color:#000>print</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>error</span><span style=color:#000;font-weight:700>);</span>
     <span style=color:#000;font-weight:700>},</span>
     <span style=color:#8f5902;font-style:italic>/// Remove the constructor in HomeScreen. You can call the @sign
</span><span style=color:#8f5902;font-style:italic></span>     <span style=color:#8f5902;font-style:italic>/// with the getAtSign() method in the service file. 
</span><span style=color:#8f5902;font-style:italic></span>     <span style=color:#f57900>nextScreen:</span> <span style=color:#000>HomeScreen</span><span style=color:#000;font-weight:700>(),</span>
 <span style=color:#000;font-weight:700>);</span>
<span style=color:#000;font-weight:700>}</span>
</code></pre></div><p>All of the parameters in the “Onboarding” widget can be populated very easily with either methods from the project’s service file (e.g. getAtClientPreference()) or special variables from the app itself (e.g. context). “Onboarding” is capable of handling all instances of an @sign (e.g. a particular @sign does not exist, a particular @sign exists but needs to be paired with a QR code to the device, a particular @sign exists and its keys are already in the device’s keychain manager). By using this widget, what would have taken several screens and many lines of code can be completely bypassed with a single return statement!</p><p>That’s all for the “Onboarding” widget. Before moving on from this subsection, we highly recommend implementing the widget in your own application and onboarding a real @sign to understand its intended user journey. If you’re interested, these are the steps to implement the “Onboarding” widget in the at_hello_world project:</p><p>Update your Android Studio, Flutter SDK, and Dart SDK to their latest versions. Place the at_onboarding_flutter dependency in pubspec.yaml.
Follow the setup procedure for the “Onboarding” widget in the “AndroidManifest” (android -> app -> src -> main -> AndroidManifest.xml) and “gradle” file (android -> app -> build.gradle) of the at_hello_world project. You may also need to update the “classpath” of the android gradle build tool to 3.5.4 (this can be done by going to android -> gradle -> build.gradle and editing the first classpath in the “dependencies” brackets). This must be completed in order to set up the permission for the QR code scanner to access your camera. Find those steps on the pub.dev site for at_onboarding_flutter here.
Get a free @sign from atsign.com. Generate its QR code, and drag/drop the created file directly into the emulator. Confirm that the QR code image appears in the “Files” or “Drive” app of the emulator you’re using (assuming that it is an Android emulator).
In “at_conf.dart”, update the “root” variable from &lsquo;vip.ve.atsign.zone&rsquo; to &lsquo;root.atsign.org&rsquo;. This ensures that the project points to the domain that is used in production as opposed to the one for the virtual environment.
Replace the existing code in the <em>login() function with what we wrote above. Double-check that no errors arise (you’ll likely have to tweak the names of a couple of methods in the service file, because some of them begin with the “</em>” private designation).
Fire the app on your emulator. Although the dropdown menu will still appear (since we didn’t change any of that code), we will not be authenticating with any of the testable @signs. If you’d like, simply remove the “DropdownButton” widget so that we can eliminate the list of testable @signs. Click on the “Login” button.
Assuming that you haven’t previously authenticated with a real @sign, the “Onboarding” widget should prompt you with a request to upload your QR code. Upload the QR code you saved onto the emulator earlier and wait for the authentication to complete.
If no errors form, the “Onboarding” widget should take you seamlessly to the “Home” screen, where you can add & retrieve key/value pairs directly from your very own secondary server! The next time you authenticate (i.e. restart the application), the “Onboarding” widget should detect the authentication keys placed in your device’s keychain manager and guide you directly to the “Home” screen.</p></details><h3 id=the-chatting-widget>The Chatting Widget</h3><p>One of the many things you can do after successfully authenticating an @sign is providing one-to-one text messaging! To do this, you’ll need the at_chat_flutter widget.</p><p>The at_chat_flutter widget offers a messaging experience that is unique to the @platform. In a traditional messaging application, your texts are stored in a remote database and the person you’re pinging pulls the texts from there (a bit unsettling if you think about it). Of course, there is no such thing as a remote database in the @platform, so we had to be a bit clever coming up with a messaging scheme. In a nutshell, your text messages are not “sent” but rather “shared” with another @sign. All your texts are stored securely in your secondary server and never leave; if you decide to send a message to someone, that person is given permission to view that text via the notify verb, which will be covered in the next section on advanced @platform verbs.</p><details><summary style=color:#f05f3e>Learn more about the chatting widget here!</summary><div class="alert alert-warning" role=alert><h4 class=alert-heading>Note</h4>This dependency value may not be up-to-date so be sure to check it out on our <a href=https://pub.dev/packages/at_chat_flutter>pub.dev</a>!</div><h4 id=use-this-package-as-a-library-1>Use this package as a library</h4><pre><code>at_chat_flutter: ^1.0.1
</code></pre><p>Although this messaging dynamic might sound a bit involved, set up is quite easy! To get a feel for using the “Chatting” widget, it’s best to follow along with the at_chats demo application.</p><p>The general flow of all @platform widgets is onboarding an @sign => initializing the service object => creating the actual widgets. Assuming we’ve already onboarded an @sign, let’s look at the steps to initialize our chat service:</p><p>(The following code snippets are taken directly from at_chats. While there will be explanations, don’t worry too much about all the variables!)</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-dart data-lang=dart><span style=color:#000>getAtSignAndInitializeChat</span><span style=color:#000;font-weight:700>()</span> <span style=color:#204a87;font-weight:700>async</span> <span style=color:#000;font-weight:700>{</span>
 <span style=color:#8f5902;font-style:italic>/// In the at_chats app, the onboarded @sign is displayed at the top 
</span><span style=color:#8f5902;font-style:italic></span> <span style=color:#8f5902;font-style:italic>/// of the Second Screen. We set that @sign to [currentAtSign].
</span><span style=color:#8f5902;font-style:italic></span> <span style=color:#204a87;font-weight:700>String</span> <span style=color:#000>currentAtSign</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#204a87;font-weight:700>await</span> <span style=color:#000>clientSdkService</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>getAtSign</span><span style=color:#000;font-weight:700>();</span>
 <span style=color:#8f5902;font-style:italic>/// Set [activeAtSign], which is the variable that gets displayed, to
</span><span style=color:#8f5902;font-style:italic></span> <span style=color:#8f5902;font-style:italic>/// [currentAtSign] using setState(() {}).
</span><span style=color:#8f5902;font-style:italic></span> <span style=color:#000>setState</span><span style=color:#000;font-weight:700>(()</span> <span style=color:#000;font-weight:700>{</span>
   <span style=color:#000>activeAtSign</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>currentAtSign</span><span style=color:#000;font-weight:700>;</span>
 <span style=color:#000;font-weight:700>});</span>
 <span style=color:#8f5902;font-style:italic>/// Initialize a List of Strings called [allAtSigns] that we will 
</span><span style=color:#8f5902;font-style:italic></span> <span style=color:#8f5902;font-style:italic>/// eventually display in the dropdown on the Second Screen. Here, we 
</span><span style=color:#8f5902;font-style:italic></span> <span style=color:#8f5902;font-style:italic>/// simply pull an existing List from the at_demo_data dependency.
</span><span style=color:#8f5902;font-style:italic></span> <span style=color:#000>List</span><span style=color:#ce5c00;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>String</span><span style=color:#ce5c00;font-weight:700>&gt;</span> <span style=color:#000>allAtSigns</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>at_demo_data</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>allAtsigns</span><span style=color:#000;font-weight:700>;</span>
 <span style=color:#8f5902;font-style:italic>/// We want to remove the [activeAtSign] from this List because we 
</span><span style=color:#8f5902;font-style:italic></span> <span style=color:#8f5902;font-style:italic>/// can&#39;t chat with ourselves!
</span><span style=color:#8f5902;font-style:italic></span> <span style=color:#000>allAtSigns</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>remove</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>activeAtSign</span><span style=color:#000;font-weight:700>);</span>
 <span style=color:#8f5902;font-style:italic>/// Again, call setState(() {}) to assign [allAtSigns] to the 
</span><span style=color:#8f5902;font-style:italic></span> <span style=color:#8f5902;font-style:italic>/// variable [atSigns] that will be used in the dropdown widget.
</span><span style=color:#8f5902;font-style:italic></span> <span style=color:#000>setState</span><span style=color:#000;font-weight:700>(()</span> <span style=color:#000;font-weight:700>{</span>
   <span style=color:#000>atSigns</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>allAtSigns</span><span style=color:#000;font-weight:700>;</span>
 <span style=color:#000;font-weight:700>});</span>
 <span style=color:#8f5902;font-style:italic>/// This is the only at_chat_flutter related function! 
</span><span style=color:#8f5902;font-style:italic></span> <span style=color:#8f5902;font-style:italic>/// initializeChatService takes in an AtClientImpl instance, the 
</span><span style=color:#8f5902;font-style:italic></span> <span style=color:#8f5902;font-style:italic>/// currently onboarded @sign, and the root domain for this project. 
</span><span style=color:#8f5902;font-style:italic></span> <span style=color:#8f5902;font-style:italic>/// As its name suggest, this function will prepare the chat service 
</span><span style=color:#8f5902;font-style:italic></span> <span style=color:#8f5902;font-style:italic>/// for us.
</span><span style=color:#8f5902;font-style:italic></span> <span style=color:#000>initializeChatService</span><span style=color:#000;font-weight:700>(</span>
     <span style=color:#000>clientSdkService</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>atClientServiceInstance</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>atClient</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>activeAtSign</span><span style=color:#000;font-weight:700>,</span>
     <span style=color:#f57900>rootDomain:</span> <span style=color:#000>MixedConstants</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>ROOT_DOMAIN</span><span style=color:#000;font-weight:700>);</span>
<span style=color:#000;font-weight:700>}</span>


<span style=color:#000>Because</span> <span style=color:#000>getAtSignandInitializeChat</span><span style=color:#000;font-weight:700>()</span> <span style=color:#204a87;font-weight:700>is</span> <span style=color:#000>an</span> <span style=color:#000>initialization</span> <span style=color:#000>function</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>it</span> <span style=color:#204a87;font-weight:700>is</span> <span style=color:#000>best</span> <span style=color:#000>to</span> <span style=color:#000>call</span> <span style=color:#000>it</span> <span style=color:#204a87;font-weight:700>in</span> <span style=color:#000>the</span> <span style=color:#000>initState</span><span style=color:#000;font-weight:700>()</span> <span style=color:#000>function</span> <span style=color:#000>at</span> <span style=color:#000>the</span> <span style=color:#000>top</span> <span style=color:#000>of</span> <span style=color:#000>the</span> <span style=color:#000>_SecondScreenState</span> <span style=color:#000>class</span><span style=color:#000;font-weight:700>.</span> <span style=color:#000>The</span> <span style=color:#000>only</span> <span style=color:#000>other</span> <span style=color:#000>thing</span> <span style=color:#000>we</span> <span style=color:#000>need</span> <span style=color:#000>to</span> <span style=color:#204a87;font-weight:700>do</span> <span style=color:#000>before</span> <span style=color:#000>calling</span> <span style=color:#000>the</span> <span style=color:#a40000>“</span><span style=color:#000>Chatting</span><span style=color:#a40000>”</span> <span style=color:#000>widget</span> <span style=color:#204a87;font-weight:700>is</span> <span style=color:#000>deciding</span> <span style=color:#000>who</span> <span style=color:#000>we</span><span style=color:#a40000>’</span><span style=color:#000>d</span> <span style=color:#000>like</span> <span style=color:#000>to</span> <span style=color:#000>chat</span> <span style=color:#204a87;font-weight:700>with</span><span style=color:#000;font-weight:700>.</span>

<span style=color:#000>setAtsignToChatWith</span><span style=color:#000;font-weight:700>()</span> <span style=color:#000;font-weight:700>{</span>
 <span style=color:#8f5902;font-style:italic>/// This function is as simple as calling the setChatWithAtSign() 
</span><span style=color:#8f5902;font-style:italic></span> <span style=color:#8f5902;font-style:italic>/// function from the at_chat_flutter dependency with 
</span><span style=color:#8f5902;font-style:italic></span> <span style=color:#8f5902;font-style:italic>/// [chatWithAtSign] passed in! [chatWithAtSign] is simply the @sign 
</span><span style=color:#8f5902;font-style:italic></span> <span style=color:#8f5902;font-style:italic>/// that a user selects from the dropdown on the screen.
</span><span style=color:#8f5902;font-style:italic></span> <span style=color:#000>setChatWithAtSign</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>chatWithAtSign</span><span style=color:#000;font-weight:700>);</span>
<span style=color:#000;font-weight:700>}</span>
</code></pre></div><p>We won’t want to call setAtsignToChatWith() in initState() because the function won’t know which @sign we’re communicating with until the individual selects it from the dropdown widget. Instead, it makes the most sense to place this function in the button (FlatButton for the at_chats app) that determines the navigation to the next screen. For at_chats, clicking the “Chat options” FlatButton will check to make sure that the “chatWithAtSign” variable is populated before it calls setAtsignToChatWith() and switches the “showOptions” variable to true, which allows the individual to see the two options for viewing the chatbox.</p><p>Now, for the moment of truth: once we’ve initialized the chat service, how do we create the actual chat screen? In most tutorials, you’ll probably be guided through a UI-heavy demo of different chatbox components and pairing a backend service. With the @platform, however, it’s really just one line of code:</p><p>(This snippet is directly from third_screen.dart in the at_chats project!)</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-dart data-lang=dart><span style=color:#204a87;font-weight:700>class</span> <span style=color:#000>_ThirdScreenState</span> <span style=color:#204a87;font-weight:700>extends</span> <span style=color:#000>State</span><span style=color:#ce5c00;font-weight:700>&lt;</span><span style=color:#000>ThirdScreen</span><span style=color:#ce5c00;font-weight:700>&gt;</span> <span style=color:#000;font-weight:700>{</span>
 <span style=color:#a40000>@</span><span style=color:#000>override</span>
 <span style=color:#000>Widget</span> <span style=color:#000>build</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>BuildContext</span> <span style=color:#000>context</span><span style=color:#000;font-weight:700>)</span> <span style=color:#000;font-weight:700>{</span>
   <span style=color:#204a87;font-weight:700>return</span> <span style=color:#000>Scaffold</span><span style=color:#000;font-weight:700>(</span>
     <span style=color:#f57900>appBar:</span> <span style=color:#000>AppBar</span><span style=color:#000;font-weight:700>(</span><span style=color:#f57900>title:</span> <span style=color:#000>Text</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#39;Chat&#39;</span><span style=color:#000;font-weight:700>)),</span>
     <span style=color:#8f5902;font-style:italic>/// You can simply set the body parameter of Scaffold widget
</span><span style=color:#8f5902;font-style:italic></span>     <span style=color:#8f5902;font-style:italic>/// to the ChatScreen widget from the at_chat_flutter dependency!
</span><span style=color:#8f5902;font-style:italic></span>     <span style=color:#f57900>body:</span> <span style=color:#000>ChatScreen</span><span style=color:#000;font-weight:700>(</span>
       <span style=color:#8f5902;font-style:italic>/// Optional parameters to customize your ChatScreen widget.
</span><span style=color:#8f5902;font-style:italic></span>       <span style=color:#8f5902;font-style:italic>/// You can find the full list of parameters in our Github 
</span><span style=color:#8f5902;font-style:italic></span>       <span style=color:#8f5902;font-style:italic>/// under the at_widgets repository.
</span><span style=color:#8f5902;font-style:italic></span>       <span style=color:#f57900>height:</span> <span style=color:#000>MediaQuery</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>of</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>context</span><span style=color:#000;font-weight:700>).</span><span style=color:#000>size</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>height</span><span style=color:#000;font-weight:700>,</span>
       <span style=color:#f57900>incomingMessageColor:</span> <span style=color:#000>Colors</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>blue</span><span style=color:#000;font-weight:700>[</span><span style=color:#0000cf;font-weight:700>100</span><span style=color:#000;font-weight:700>],</span>
       <span style=color:#f57900>outgoingMessageColor:</span> <span style=color:#000>Colors</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>green</span><span style=color:#000;font-weight:700>[</span><span style=color:#0000cf;font-weight:700>100</span><span style=color:#000;font-weight:700>],</span>
       <span style=color:#f57900>isScreen:</span> <span style=color:#204a87;font-weight:700>true</span><span style=color:#000;font-weight:700>,</span>
     <span style=color:#000;font-weight:700>),</span>
   <span style=color:#000;font-weight:700>);</span>
 <span style=color:#000;font-weight:700>}</span>
<span style=color:#000;font-weight:700>}</span>
</code></pre></div><p>By initializing the chat service and calling the ChatScreen() widget, you can make a fully-functioning one-to-one messaging application! While the ChatScreen widget offers a number of ways to customize your chatbox, if you’d like to build your own widget from scratch, you can use the at_chat_flutter dependency as a basis for creating your personal chat library that works with the @platform.</p></details><h3 id=the-contacts-widget>The Contacts Widget</h3><p>Too many @signs to keep track of? That’s no problem with the at_contacts_flutter widget! Simply add the at_contacts_flutter dependency to your project, and you’ll be capable of performing several actions with your @sign contacts.</p><details><summary style=color:#f05f3e>Learn more about the contacts widget here!</summary><div class="alert alert-warning" role=alert><h4 class=alert-heading>Note</h4>This dependency value may not be up-to-date so be sure to check it out on our <a href=https://pub.dev/packages/at_contacts_flutter>pub.dev</a>!</div><h4 id=use-this-package-as-a-library-2>Use this package as a library</h4><pre><code>at_contacts_flutter: ^1.0.0
</code></pre><p>In order to implement the at_contacts_flutter widget, you must first, of course, create an AtClientService instance and authenticate an @sign.</p><p>After you have successfully onboarded an @sign, you can add a page where you may choose to show your contacts or show your blocked contacts. On load of this page, you will want to initialize the contacts service, similar to initializing the at_chats service. The contacts service needs to be initialised with the atClient from the AtClientService, current @sign, and the root domain.</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-dart data-lang=dart><span style=color:#000>initializeContactsService</span><span style=color:#000;font-weight:700>(</span>
<span style=color:#000>clientSdkService</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>atClientServiceInstance</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>atClient</span><span style=color:#000;font-weight:700>,</span>
<span style=color:#000>activeAtSign</span><span style=color:#000;font-weight:700>,</span>
<span style=color:#f57900>rootDomain:</span> <span style=color:#000>MixedConstants</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>ROOT_DOMAIN</span><span style=color:#000;font-weight:700>);</span>
</code></pre></div><p>After successfully initializing the contact service, you will now be capable of getting the list of contacts that exist for the authenticated @sign. This is as easy as simply passing the contacts into a variable.</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-dart data-lang=dart><span style=color:#204a87;font-weight:700>var</span> <span style=color:#000>_result</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#204a87;font-weight:700>await</span> <span style=color:#000>_contactService</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>fetchContacts</span><span style=color:#000;font-weight:700>();</span>
</code></pre></div><p>This fetchContacts() function exists in the _contactService file, which can be found within the at_contact’s ‘services’ folder. If you want to do more than just get the list of contacts, you have the capability of adding more contacts to this list, in addition to removing or blocking any.
In order to retrieve the list of blocked contacts, it is similar to retrieving the regular list of contacts. The code from the example app demonstrates this well.</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-dart data-lang=dart><span style=color:#000>Class</span> <span style=color:#000>BlockedScreen</span> <span style=color:#204a87;font-weight:700>extends</span> <span style=color:#000>StatefulWidget</span><span style=color:#000;font-weight:700>{</span>
  <span style=color:#a40000>@</span><span style=color:#000>override</span>
  <span style=color:#000>_BlockedScreenState</span> <span style=color:#000>createState</span><span style=color:#000;font-weight:700>()</span> <span style=color:#ce5c00;font-weight:700>=&gt;</span> <span style=color:#000>_BlockedScreenState</span><span style=color:#000;font-weight:700>();</span>
<span style=color:#000;font-weight:700>}</span>

<span style=color:#204a87;font-weight:700>class</span> <span style=color:#000>_BlockedScreenState</span> <span style=color:#204a87;font-weight:700>extends</span> <span style=color:#000>State</span><span style=color:#ce5c00;font-weight:700>&lt;</span><span style=color:#000>BlockedScreen</span><span style=color:#ce5c00;font-weight:700>&gt;</span> <span style=color:#000;font-weight:700>{</span>
  <span style=color:#8f5902;font-style:italic>// Here, we are initializing a ContactService object in order
</span><span style=color:#8f5902;font-style:italic></span>  <span style=color:#8f5902;font-style:italic>// to call our list of blocked contacts later within our widget.
</span><span style=color:#8f5902;font-style:italic></span>  <span style=color:#8f5902;font-style:italic>// Refer to how the list is populated within the example app
</span><span style=color:#8f5902;font-style:italic></span>  <span style=color:#000>ContactService</span> <span style=color:#000>_contactService</span><span style=color:#000;font-weight:700>;</span>
  <span style=color:#a40000>@</span><span style=color:#000>override</span> 
  <span style=color:#204a87;font-weight:700>void</span> <span style=color:#000>initState</span><span style=color:#000;font-weight:700>()</span> <span style=color:#000;font-weight:700>{</span>
    <span style=color:#000>_contactService</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>ContactService</span><span style=color:#000;font-weight:700>();</span>
    <span style=color:#000>_contactService</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>fetchBlockContactList</span><span style=color:#000;font-weight:700>();</span>
    <span style=color:#204a87;font-weight:700>super</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>initState</span><span style=color:#000;font-weight:700>();</span>
<span style=color:#000;font-weight:700>}</span>
</code></pre></div><p>To block a contact, it is as easy as calling the blockUnblock method. If a contact is blocked, it will unblock the contact. If the contact is not blocked, it will block it for you.</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-dart data-lang=dart><span style=color:#204a87;font-weight:700>await</span> <span style=color:#000>_contactService</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>blockUnblockContact</span><span style=color:#000;font-weight:700>(</span><span style=color:#f57900>contact:</span> <span style=color:#000>_atSign_you_wish_toBlockUnblock</span><span style=color:#000;font-weight:700>);</span>
</code></pre></div><p>After you block a contact, you may wish to have that contact removed from the list. All you have to do is simply implement the code below:</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-dart data-lang=dart><span style=color:#204a87;font-weight:700>await</span> <span style=color:#000>_contactService</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>deleteAtSign</span><span style=color:#000;font-weight:700>(</span><span style=color:#f57900>atSign:</span> <span style=color:#000>_atSign_you_wish_toRemove</span><span style=color:#000;font-weight:700>);</span>
</code></pre></div><p>Along with the previously stated functionalities, the at_contacts_flutter package also provides the UI so there’s no need to set up a separate page to house these functions!</p></details><h3 id=the-location-widget>The Location Widget</h3><p>One of the more common mobile application features is geolocation. Even if your app doesn’t explicitly use a map, with an individual’s permission, you can use their location for a variety of relevant recommendations like shops, restaurants, and nearby events. The at_location_flutter dependency is a powerful abstraction for geolocation with the @platform, and we’ll see some use cases of its most common functions.</p><details><summary style=color:#f05f3e>Learn more about the contacts widget here!</summary><div class="alert alert-warning" role=alert><h4 class=alert-heading>Note</h4>This dependency value may not be up-to-date so be sure to check it out on our <a href=https://pub.dev/packages/at_location_flutter>pub.dev</a>!</div><h4 id=use-this-package-as-a-library-3>Use this package as a library</h4><pre><code>at_location_flutter: ^1.0.3
</code></pre><p>Once we’ve successfully onboarded an @sign, let’s initialize our location service. For this subsection, we’ll base our code off of the example app in the Github directory for at_location_flutter.</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-dart data-lang=dart><span style=color:#000>initService</span><span style=color:#000;font-weight:700>()</span> <span style=color:#000;font-weight:700>{</span>
 <span style=color:#8f5902;font-style:italic>/// A different way to call the currently onboarded @sign. In 
</span><span style=color:#8f5902;font-style:italic></span> <span style=color:#8f5902;font-style:italic>/// practice, it is better to write a getAtSign() method in your 
</span><span style=color:#8f5902;font-style:italic></span> <span style=color:#8f5902;font-style:italic>/// project&#39;s service file. This variable is used to display the 
</span><span style=color:#8f5902;font-style:italic></span> <span style=color:#8f5902;font-style:italic>/// onboarded @sign at the top of the screen.
</span><span style=color:#8f5902;font-style:italic></span> <span style=color:#000>activeAtSign</span> <span style=color:#ce5c00;font-weight:700>=</span>
     <span style=color:#000>clientSdkService</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>atClientServiceInstance</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>atClient</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>currentAtSign</span><span style=color:#000;font-weight:700>;</span>
 <span style=color:#8f5902;font-style:italic>/// initializeLocationService() is a function from 
</span><span style=color:#8f5902;font-style:italic></span> <span style=color:#8f5902;font-style:italic>/// at_location_flutter that&#39;s located in init_location_service.dart. 
</span><span style=color:#8f5902;font-style:italic></span> <span style=color:#8f5902;font-style:italic>/// This function takes  in an AtClientImpl instance, the currently
</span><span style=color:#8f5902;font-style:italic></span> <span style=color:#8f5902;font-style:italic>/// onboarded @sign, a GlobalKey to access the NavigatorState (for 
</span><span style=color:#8f5902;font-style:italic></span> <span style=color:#8f5902;font-style:italic>/// navigating between routes), and the domain we want to point our 
</span><span style=color:#8f5902;font-style:italic></span> <span style=color:#8f5902;font-style:italic>/// project to.
</span><span style=color:#8f5902;font-style:italic></span> <span style=color:#000>initializeLocationService</span><span style=color:#000;font-weight:700>(</span>
     <span style=color:#000>clientSdkService</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>atClientServiceInstance</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>atClient</span><span style=color:#000;font-weight:700>,</span>
     <span style=color:#000>activeAtSign</span><span style=color:#000;font-weight:700>,</span>
     <span style=color:#000>NavService</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>navKey</span><span style=color:#000;font-weight:700>,</span>
     <span style=color:#f57900>rootDomain:</span> <span style=color:#000>MixedConstants</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>ROOT_DOMAIN</span>
 <span style=color:#000;font-weight:700>);</span>
<span style=color:#000;font-weight:700>}</span>
</code></pre></div><p>As is the case with most @platform widgets, you can call this initialization function in the initState() function of your class.</p><p>Once our location service is ready to go, you can let the authenticated individual freely send and request locations to/from other @sign customers. These capabilities are made possible with the “sendShareLocationNotification” and “send RequestLocationNotification” functions (which exist in the init_location_service.dart file).</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-dart data-lang=dart><span style=color:#000>ElevatedButton</span><span style=color:#000;font-weight:700>(</span>
 <span style=color:#f57900>onPressed:</span> <span style=color:#000;font-weight:700>()</span> <span style=color:#204a87;font-weight:700>async</span> <span style=color:#000;font-weight:700>{</span>
   <span style=color:#8f5902;font-style:italic>/// checkAtsign() is a helper functions that ensures the entered 
</span><span style=color:#8f5902;font-style:italic></span>   <span style=color:#8f5902;font-style:italic>/// @sign (for sending/requesting a location) is valid. It is
</span><span style=color:#8f5902;font-style:italic></span>   <span style=color:#8f5902;font-style:italic>/// unique to the example app in the at_location_flutter Github
</span><span style=color:#8f5902;font-style:italic></span>   <span style=color:#8f5902;font-style:italic>/// directory.
</span><span style=color:#8f5902;font-style:italic></span>   <span style=color:#204a87;font-weight:700>bool</span> <span style=color:#000>result</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#204a87;font-weight:700>await</span> <span style=color:#000>checkAtsign</span><span style=color:#000;font-weight:700>();</span>
   <span style=color:#204a87;font-weight:700>if</span> <span style=color:#000;font-weight:700>(</span><span style=color:#ce5c00;font-weight:700>!</span><span style=color:#000>result</span><span style=color:#000;font-weight:700>)</span> <span style=color:#000;font-weight:700>{</span>
     <span style=color:#000>CustomToast</span><span style=color:#000;font-weight:700>().</span><span style=color:#000>show</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#39;@sign not valid&#39;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>context</span><span style=color:#000;font-weight:700>);</span>
     <span style=color:#204a87;font-weight:700>return</span><span style=color:#000;font-weight:700>;</span>
   <span style=color:#000;font-weight:700>}</span>
   <span style=color:#8f5902;font-style:italic>/// This function takes in the @sign receiving the location
</span><span style=color:#8f5902;font-style:italic></span>   <span style=color:#8f5902;font-style:italic>/// notification as well as the duration (in minutes) of
</span><span style=color:#8f5902;font-style:italic></span>   <span style=color:#8f5902;font-style:italic>/// how long this shared location persists on the receiving
</span><span style=color:#8f5902;font-style:italic></span>   <span style=color:#8f5902;font-style:italic>/// @sign&#39;s secondary server.
</span><span style=color:#8f5902;font-style:italic></span>   <span style=color:#204a87;font-weight:700>await</span> <span style=color:#000>sendShareLocationNotification</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>receiver</span><span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>30</span><span style=color:#000;font-weight:700>);</span>
 <span style=color:#000;font-weight:700>},</span>
 <span style=color:#f57900>child:</span> <span style=color:#000>Text</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#39;Send Location&#39;</span><span style=color:#000;font-weight:700>),</span>
<span style=color:#000;font-weight:700>),</span>
<span style=color:#000>ElevatedButton</span><span style=color:#000;font-weight:700>(</span>
 <span style=color:#f57900>onPressed:</span> <span style=color:#000;font-weight:700>()</span> <span style=color:#204a87;font-weight:700>async</span> <span style=color:#000;font-weight:700>{</span>
   <span style=color:#204a87;font-weight:700>bool</span> <span style=color:#000>result</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#204a87;font-weight:700>await</span> <span style=color:#000>checkAtsign</span><span style=color:#000;font-weight:700>();</span>
   <span style=color:#204a87;font-weight:700>if</span> <span style=color:#000;font-weight:700>(</span><span style=color:#ce5c00;font-weight:700>!</span><span style=color:#000>result</span><span style=color:#000;font-weight:700>)</span> <span style=color:#000;font-weight:700>{</span>
     <span style=color:#000>CustomToast</span><span style=color:#000;font-weight:700>().</span><span style=color:#000>show</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#39;@sign not valid&#39;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>context</span><span style=color:#000;font-weight:700>);</span>
     <span style=color:#204a87;font-weight:700>return</span><span style=color:#000;font-weight:700>;</span>
   <span style=color:#000;font-weight:700>}</span>
   <span style=color:#8f5902;font-style:italic>/// Similar to the previous function,
</span><span style=color:#8f5902;font-style:italic></span>   <span style=color:#8f5902;font-style:italic>/// &#34;sendRequestLocationNotification&#34; needs the @sign to
</span><span style=color:#8f5902;font-style:italic></span>   <span style=color:#8f5902;font-style:italic>/// request a location from.
</span><span style=color:#8f5902;font-style:italic></span>   <span style=color:#204a87;font-weight:700>await</span> <span style=color:#000>sendRequestLocationNotification</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>receiver</span><span style=color:#000;font-weight:700>);</span>
 <span style=color:#000;font-weight:700>},</span>
 <span style=color:#f57900>child:</span> <span style=color:#000>Text</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#39;Request Location&#39;</span><span style=color:#000;font-weight:700>),</span>
<span style=color:#000;font-weight:700>),</span>
</code></pre></div><p>While the above two functions are certainly useful, there is another widget in the at_location_flutter dependency that offers a more elegant UI for sending your location, requesting locations, and even visualizing your current position. That widget is called “HomeScreen”.</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-dart data-lang=dart><span style=color:#8f5902;font-style:italic>/// When an individual clicks on the ElevatedButton that says “Show 
</span><span style=color:#8f5902;font-style:italic>/// map”, the Navigator will lead them to the HomeScreen().
</span><span style=color:#8f5902;font-style:italic></span><span style=color:#000>ElevatedButton</span><span style=color:#000;font-weight:700>(</span>
 <span style=color:#f57900>onPressed:</span> <span style=color:#000;font-weight:700>()</span> <span style=color:#000;font-weight:700>{</span>
   <span style=color:#000>Navigator</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>of</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>context</span><span style=color:#000;font-weight:700>).</span><span style=color:#000>push</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>MaterialPageRoute</span><span style=color:#000;font-weight:700>(</span>
     <span style=color:#f57900>builder:</span> <span style=color:#000;font-weight:700>(</span><span style=color:#000>BuildContext</span> <span style=color:#000>context</span><span style=color:#000;font-weight:700>)</span> <span style=color:#ce5c00;font-weight:700>=&gt;</span> <span style=color:#000>HomeScreen</span><span style=color:#000;font-weight:700>(),</span>
   <span style=color:#000;font-weight:700>));</span>
 <span style=color:#000;font-weight:700>},</span>
 <span style=color:#f57900>child:</span> <span style=color:#000>Text</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#39;Show map&#39;</span><span style=color:#000;font-weight:700>),</span>
<span style=color:#000;font-weight:700>),</span>
</code></pre></div><p>The HomeScreen displays a map with your location and offers two options (contained in “Task” widgets) that provide more user-friendly versions of the “sendShareLocationNotification” and “send RequestLocationNotification” functions (if you’re curious, these more elegant widgets are called ShareLocationSheet() and RequestLocationSheet() respectively). When you click on one of these tasks, a popup will appear to enter a receiving @sign (and duration for sharing a location), and any task you complete will appear in the bottom white region of the screen with its current status.</p><p>That’s all for the “Location” widget! If you want to test the at_location_flutter dependency for yourself, feel free to start by cloning the example app from the at_location_flutter Github repository. For more intricate functions like the location notification stream, our Github would be an excellent place to learn more.</p></details><h3 id=the-events-widget>The Events Widget</h3><p>Like how we regularly share calendar items between our friends, family, and colleagues, it would be very convenient to have a data structure for events that works with the @platform. This is where the at_events_flutter dependency comes into play.</p><details><summary style=color:#f05f3e>Learn more about the events widget here!</summary><div class="alert alert-warning" role=alert><h4 class=alert-heading>Note</h4>This dependency value may not be up-to-date so be sure to check it out on our <a href=https://pub.dev/packages/at_events_flutter>pub.dev</a>!</div><h4 id=use-this-package-as-a-library-4>Use this package as a library</h4><pre><code>at_events_flutter: ^1.0.0
</code></pre><p>The first step, as you very well may have guessed, is the initialization of the event service. Like the previous few widgets discussed above, we’ll be examining snippets from the <a href=https://github.com/atsign-foundation/at_widgets/tree/trunk/at_events_flutter/example>example app</a> in the at_event_flutter Github directory throughout this subsection.</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-dart data-lang=dart><span style=color:#000>initService</span><span style=color:#000;font-weight:700>()</span> <span style=color:#000;font-weight:700>{</span>
 <span style=color:#000>activeAtSign</span> <span style=color:#ce5c00;font-weight:700>=</span>
     <span style=color:#000>clientSdkService</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>atClientServiceInstance</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>atClient</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>currentAtSign</span><span style=color:#000;font-weight:700>;</span>
 <span style=color:#8f5902;font-style:italic>/// Unlike most of the initialization functions, our event 
</span><span style=color:#8f5902;font-style:italic></span> <span style=color:#8f5902;font-style:italic>/// initializer only needs an AtClientImpl instance and an optional 
</span><span style=color:#8f5902;font-style:italic></span> <span style=color:#8f5902;font-style:italic>/// argument for the root domain.
</span><span style=color:#8f5902;font-style:italic></span><span style=color:#000>initialiseEventService</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>clientSdkService</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>atClientServiceInstance</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>atClient</span><span style=color:#000;font-weight:700>,</span>
     <span style=color:#f57900>rootDomain:</span> <span style=color:#000>MixedConstants</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>ROOT_DOMAIN</span><span style=color:#000;font-weight:700>);</span>
<span style=color:#000;font-weight:700>}</span>

</code></pre></div><p>The most important function in the at_event_flutter library is CreateEvent(), which builds an instance of a CreateEvent that can be customized and shared across different @signs:</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-dart data-lang=dart><span style=color:#000>TextButton</span><span style=color:#000;font-weight:700>(</span>
 <span style=color:#f57900>onPressed:</span> <span style=color:#000;font-weight:700>()</span> <span style=color:#000;font-weight:700>{</span>
   <span style=color:#8f5902;font-style:italic>/// bottomSheet will return a pop up screen that takes up 90%
</span><span style=color:#8f5902;font-style:italic></span>   <span style=color:#8f5902;font-style:italic>/// of the screen height. 
</span><span style=color:#8f5902;font-style:italic></span>   <span style=color:#000>bottomSheet</span><span style=color:#000;font-weight:700>(</span>
       <span style=color:#000>CreateEvent</span><span style=color:#000;font-weight:700>(),</span> <span style=color:#000>MediaQuery</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>of</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>context</span><span style=color:#000;font-weight:700>).</span><span style=color:#000>size</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>height</span> <span style=color:#ce5c00;font-weight:700>*</span> <span style=color:#0000cf;font-weight:700>0.9</span><span style=color:#000;font-weight:700>);</span>
 <span style=color:#000;font-weight:700>},</span>
 <span style=color:#f57900>child:</span> <span style=color:#000>Container</span><span style=color:#000;font-weight:700>(</span>
   <span style=color:#f57900>height:</span> <span style=color:#0000cf;font-weight:700>40</span><span style=color:#000;font-weight:700>,</span>
   <span style=color:#f57900>child:</span>
       <span style=color:#000>Text</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#39;Create event&#39;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#f57900>style:</span> <span style=color:#000>TextStyle</span><span style=color:#000;font-weight:700>(</span><span style=color:#f57900>color:</span> <span style=color:#000>Colors</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>black</span><span style=color:#000;font-weight:700>)),</span>
 <span style=color:#000;font-weight:700>),</span>
</code></pre></div><p>CreateEvent() is a separate screen in the application that guides an individual through a list of fields they can populate to provide information about their event. If you look into the CreateEvent class, you’ll see that these fields are stored in an object called “eventData”, which is an instance of an <a href=https://github.com/atsign-foundation/at_widgets/blob/trunk/at_events_flutter/lib/models/event_notification.dart>EventNotificationModel</a>. It’s full list of attributes is below (the ones with comments are used in the CreateEvent class):</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-dart data-lang=dart><span style=color:#204a87;font-weight:700>class</span> <span style=color:#000>EventNotificationModel</span> <span style=color:#000;font-weight:700>{</span>
 <span style=color:#000>EventNotificationModel</span><span style=color:#000;font-weight:700>();</span>
 <span style=color:#204a87;font-weight:700>String</span> <span style=color:#000>atsignCreator</span><span style=color:#000;font-weight:700>;</span>
 <span style=color:#204a87;font-weight:700>bool</span> <span style=color:#000>isCancelled</span><span style=color:#000;font-weight:700>;</span>
 <span style=color:#8f5902;font-style:italic>/// The title of the event.
</span><span style=color:#8f5902;font-style:italic></span> <span style=color:#204a87;font-weight:700>String</span> <span style=color:#000>title</span><span style=color:#000;font-weight:700>;</span>
 <span style=color:#8f5902;font-style:italic>/// A location serving as the event&#39;s venue.
</span><span style=color:#8f5902;font-style:italic></span> <span style=color:#000>Venue</span> <span style=color:#000>venue</span><span style=color:#000;font-weight:700>;</span>
 <span style=color:#8f5902;font-style:italic>/// An object that stores info like event date, start time, and repeat duration.
</span><span style=color:#8f5902;font-style:italic></span> <span style=color:#000>Event</span> <span style=color:#000>event</span><span style=color:#000;font-weight:700>;</span>
 <span style=color:#204a87;font-weight:700>String</span> <span style=color:#000>key</span><span style=color:#000;font-weight:700>;</span>
 <span style=color:#000>AtGroup</span> <span style=color:#000>group</span><span style=color:#000;font-weight:700>;</span>
 <span style=color:#204a87;font-weight:700>bool</span> <span style=color:#000>isSharing</span><span style=color:#000;font-weight:700>;</span>
 <span style=color:#204a87;font-weight:700>bool</span> <span style=color:#000>isUpdate</span><span style=color:#000;font-weight:700>;</span> <span style=color:#8f5902;font-style:italic>//when an event data is being updated , this should be true.
</span><span style=color:#8f5902;font-style:italic></span> <span style=color:#000;font-weight:700>...</span>
<span style=color:#000;font-weight:700>}</span>
</code></pre></div><p>“eventData” is a crucial data structure that’s used not just in creating an event but updating and deleting events as well. The init_events_service.dart file illustrates a variety of functions that can be used to perform useful actions on these objects.</p><p>One important feature of the example app is its EventList class, which doesn’t come directly with the at_events_flutter dependency:</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-dart data-lang=dart><span style=color:#000>TextButton</span><span style=color:#000;font-weight:700>(</span>
 <span style=color:#f57900>onPressed:</span> <span style=color:#000;font-weight:700>()</span> <span style=color:#000;font-weight:700>{</span>
   <span style=color:#000>Navigator</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>push</span><span style=color:#000;font-weight:700>(</span>
     <span style=color:#000>context</span><span style=color:#000;font-weight:700>,</span>
     <span style=color:#000>MaterialPageRoute</span><span style=color:#000;font-weight:700>(</span>
       <span style=color:#f57900>builder:</span> <span style=color:#000;font-weight:700>(</span><span style=color:#000>context</span><span style=color:#000;font-weight:700>)</span> <span style=color:#ce5c00;font-weight:700>=&gt;</span> <span style=color:#000>EventList</span><span style=color:#000;font-weight:700>(),</span>
     <span style=color:#000;font-weight:700>),</span>
   <span style=color:#000;font-weight:700>);</span>
 <span style=color:#000;font-weight:700>},</span>
</code></pre></div><p>This seemingly harmless class is actually doing quite a bit of work behind the scenes! EventList listens to an event stream that comes from an EventService object (a class within the at_event_flutter dependency) and displays them in a ListView format. Clicking on one of these events, you’ll be navigated to a popup of a CreateEvent instance with its “isUpdate” parameter set to true. This allows you to edit and save any event of your choice!</p></details><h3 id=the-backup-keys-widget>The Backup Keys Widget</h3><p>When someone uses their @sign for the first time with an @platform app, it is important to have them authenticate with their generated QR code and create a set of backup keys just in case the ones in the keychain manager are lost or if you want to use the same @sign on a different device. The backup keys widget occurs during the “Onboarding” widget.</p><details><summary style=color:#f05f3e>Learn more about the events widget here!</summary><div class="alert alert-warning" role=alert><h4 class=alert-heading>Note</h4>This dependency value may not be up-to-date so be sure to check it out on our <a href=https://pub.dev/packages/at_backupkey_flutter>pub.dev</a>!</div><h4 id=use-this-package-as-a-library-5>Use this package as a library</h4><pre><code>at_onboarding_flutter: ^1.0.0+4
</code></pre><p>You may notice that in order to get the at_backupKeys_flutter package, you can simply pull from the at_onboarding_flutter widget which houses the at_backupkeys_flutter widget! See below the process of at_onboarding_flutter to see where at_backupkeys_flutter comes into play!</p><div class=row><div class=column style=float:left;width:33.33%;padding-left:50px><img src=/Widgets/enterAtsign.png alt=at_cookbook style=width:89%></div><div class=column style=float:left;width:33.33%;padding-left:25px><img src=/Widgets/qrCodeUpload.png alt=at_cookbook style=width:82%></div><div class=column style=float:left;width:33.33%><img src=/Widgets/backupKeys_save.png alt=at_cookbook style=width:75%></div></div><p>After inputting what @sign you wish to pair, you will need to upload the QR code retrieved from atsign.com. The emulator in the picture is not hooked up to a camera, so a small GIF of a house is there to fill where the camera would be. After successfully uploading and authenticating with the QR code, the backup key widget will be introduced to you! From the save option, you will be prompted to either save your keys to the files folder of the device or upload the keys to an associated Google Drive.</p><p>Fortunately, implementing the backup key widget is painless as it is a part of the onboarding widget! If you have already implemented the onboarding widget, there’s no code you need to write!</p></details><h3 id=at_onboarding_flutter>at_onboarding_flutter</h3><p>A flutter plugin project for onboarding any @sign in @protocol apps with ease. Provides QRscanner and upload key file option to authenticate.</p><p><a href=https://pub.dev/packages/at_onboarding_flutter>Learn more</a></p><h3 id=at_chat_flutter>at_chat_flutter</h3><p>A flutter plugin project to provide chat feature using atsigns and atprotocol.</p><p><a href=https://pub.dev/packages/at_chat_flutter>Learn more</a></p><h3 id=at_common_flutter>at_common_flutter</h3><p>A flutter package to provide common widgets used by other atsign flutter packages.</p><p><a href=https://pub.dev/packages/at_common_flutter>Learn more</a></p><h3 id=at_backupkey_flutter>at_backupkey_flutter</h3><p>A flutter plugin project for saving backup key of any @sign that is being onboarded with @protocol apps. Backup key can used to authenticate in any @protocol apps.</p><p><a href=https://pub.dev/packages/at_backupkey_flutter>Learn more</a></p><h3 id=at_contacts_flutter>at_contacts_flutter</h3><p>A flutter plugin project to provide ease of managing contacts for an atsign using atprotocol.</p><p><a href=https://pub.dev/packages/at_contacts_flutter>Learn more</a></p><h3 id=at_contacts_group_flutter>at_contacts_group_flutter</h3><p>A flutter plugin project to provide the group functionality with contacts using atprotocol.</p><p><a href=https://pub.dev/packages/at_contacts_group_flutter>Learn more</a></p><h3 id=at_location_flutter>at_location_flutter</h3><p>A flutter plugin project to share location between two atsigns and track them on OSM (open street maps).</p><p><a href=https://pub.dev/packages/at_location_flutter>Learn more</a></p><h3 id=at_events_flutter>at_events_flutter</h3><p>A flutter plugin project to manage events using the atprotocol.</p><p><a href=https://pub.dev/packages/at_events_flutter>Learn more</a></p></div><div class=td-content style=page-break-before:always><h1 id=pg-05e970a937284e7f80b1fe8d3dd780c8>4.4 - The @protocol verbs</h1><div class=lead>Understand the @platform verbs and their functions</div><h3 id=from>from</h3><p>The “from” verb is used to tell the secondary server what @sign you claim to be, and the secondary server will respond with a challenge. The challenge will be in the form of a full @ address and a cookie to place at that address. Before giving the challenge it will verify the client SSL certificate. The client SSL certificate has to match the FQDN list in the root server for that @sign in either the CN or SAN fields in the certificate.
<a href=https://pub.dev/documentation/at_server_spec/latest/verbs/From-class.html>Learn More</a></p><h3 id=cram>cram</h3><p>The cram verb is used to authenticate the @sign to the secondary server. On successful request, binds the @sign to the secondary server. The secret is appended to the challenge (response of from verb) and gives a SHA512 digest which serves as an input to the CRAM verb. On successful cram verb request, the @sign is successfully authenticated to the secondary server and allows user to Add/Update, Delete and lookup the keys in their respective secondary servers.
We use &ldquo;cram&rdquo; authentication for the first time and will create a public/private key pair for pkam authentication for subsequent logins.
<a href=https://pub.dev/documentation/at_server_spec/latest/verbs/Cram-class.html>Learn more</a></p><h3 id=pkam>pkam</h3><p>The pkam( Public Key Authentication Mechanism) verb is used to authenticate the @sign to the secondary server. This is similar to how ssh authentication works. On successful request, binds the @sign to the secondary server.On successful pkam verb request, the @sign is successfully authenticated to the secondary server and allows user to Add/Update, Delete and lookup the keys in their respective secondary servers.
<a href=https://pub.dev/documentation/at_server_spec/latest/verbs/Pkam-class.html>Learn more</a></p><h3 id=scan>scan</h3><p>The &ldquo;scan&rdquo; verb scans the available keys. The scan verb when used by unauthenticated @sign user, scans for keys that are publicly available to you.The scan when used by an authenticated user via the cram verb, scans all the available keys on the secondary server.
You can use scan verb with regex if you want to get keys matches with the regex.
<a href=https://pub.dev/documentation/at_server_spec/latest/verbs/Scan-class.html>Learn more</a></p><h3 id=lookup>lookup</h3><p>The “lookup” verb allows the lookup of a particular address in the @ handles namespace. The “lookup” verb provides public lookups and specific key look ups when authenticated as a particular @ handle using the “from” and “pol” verbs. If a lookup is valid the resulting information is returned with the data: header and a carriage return and a further @ prompt ready for further commands. If the lookup is not valid then a null is returned again with the data: header.
The @sign should be authenticated using the cram verb prior to use the lookup verb.
<a href=https://pub.dev/documentation/at_server_spec/latest/verbs/Lookup-class.html>Learn more</a></p><h3 id=plookup>plookup</h3><p>The &ldquo;plookup&rdquo; verb, provides a proxied public lookups for a resolver that perhaps is behind a firewall. This will allow a resolver to contact a @ server and have the @ server lookup both public @ handles information. This will be useful in large enterprise environments where they would want all lookups going through a single secondary server for the entity or where a single port needs to be opened through a firewall to lookup @ handles.
The @sign should be authenticated using cram verb prior to use the plookup verb.
<a href=https://pub.dev/documentation/at_server_spec/latest/verbs/ProxyLookup-class.html>Learn more</a></p><h3 id=llookup>llookup</h3><p>The &ldquo;llookup&rdquo; verb can be used to locally lookup keys stored on our secondary server. To perform local look up, the user should be successfully authenticated via the &ldquo;cram&rdquo; verb.
<a href=https://pub.dev/documentation/at_server_spec/latest/verbs/LocalLookup-class.html>Learn more</a></p><h3 id=update>update</h3><p>The &ldquo;update&rdquo; verb is used to create/update the keys in the secondary server. We can create/update both public and private keys. kThe update verb is used to set public responses and specific responses for a particular authenticated users after using the pol verb.
The @sign should be authenticated using cram verb prior to use the update verb.
<a href=https://pub.dev/documentation/at_server_spec/latest/verbs/Update-class.html>Learn more</a></p><h3 id=delete>delete</h3><p>The &ldquo;update&rdquo; verb is used to delete the keys in the secondary server. A delete request must contain the distinguished name of the key to be deleted. The @sign should be authenticated using the cram/pkam verb prior to use the delete verb.
<a href=https://pub.dev/documentation/at_server_spec/latest/verbs/Delete-class.html>Learn more</a></p><h3 id=notify>notify</h3><p>The “notify” verb used to notify a key to another atsign. The @sign should be authenticated using the cram/pkam verb prior to use the notify verb.
You can send a notification to multiple users using &ldquo;notify:all&rdquo; command. Also you can list out all the notifications using &ldquo;notify:list&rdquo;.
<a href=https://pub.dev/documentation/at_server_spec/latest/verbs/Notify-class.html>Learn more</a></p><h3 id=monitor>monitor</h3><p>The “monitor:” verb is used to monitor either all or specific notification events that are sent using the “notify:” verb. Notifications are both queued and managed by the secondary server, and the status of an individual notification can also be seen.
<a href=https://pub.dev/documentation/at_server_spec/latest/verbs/Monitor-class.html>Learn more</a></p><h3 id=stats>stats</h3><p>The &ldquo;stats&rdquo; verb used to get all the available metrics. We can get specific metrics by providing &lsquo;,&rsquo; separated list like stats:1,2. If we didn&rsquo;t provide anything it will return all the metrics information.
<a href=https://pub.dev/documentation/at_server_spec/latest/verbs/Stats-class.html>Learn more</a></p><h3 id=sync>sync</h3><p>The &ldquo;sync&rdquo; verb is used to fetch all the changes after a given commit sequence number from the commit log on the server. This verb is helpful when local and remote secondary servers are not in sync. We can sync only specific keys by providing regex pattern
<a href=https://pub.dev/documentation/at_server_spec/latest/verbs/Sync-class.html>Learn more</a></p><h3 id=config>config</h3><p>The &ldquo;config&rdquo; verb is used for configuring or viewing an @sign&rsquo;s block/allow list. &lsquo;from&rsquo; verb functionality is dertermined by using the configurations of &lsquo;config&rsquo; verb. If an atsign is in block list, secondary server won&rsquo;t allow it for authentication.
<a href=https://pub.dev/documentation/at_server_spec/latest/verbs/Config-class.html>Learn more</a></p><h3 id=pol>pol</h3><p>The &ldquo;pol&rdquo; verb allows to switch as another @sign user. To switch as another user, use from:&lt;@sign>(The another @sign user) verb which gives a response as proof:<key>; then use pol verb. On successful authentication, the prompt changes to the another @sign user. If we authenticate to other atsign using pol, we can only access public information available.
<a href=https://pub.dev/documentation/at_server_spec/latest/verbs/Pol-class.html>Learn more</a></p></div><div class=td-content style=page-break-before:always><h1 id=pg-8b88fadfb3bc5de4e7318095f6e9d5e7>4.5 - SDK?</h1><p>Resilient SDK (rSDK) is a new major release of the @platform with several
changes to make apps using the SDK more resilient and fault tolerant. This
guide is intended to help app developers with the use of rSDK.</p><h2 id=whats-new>What&rsquo;s new?</h2><p>rSDK offers three major changes:</p><ol><li>Simpler abstractions</li><li>Better feedback on the status of an operation</li><li>Resilience from network failures</li></ol><h2 id=high-level-architecture>High Level Architecture</h2><p><img src=/rSDK/high_level_architecture.png alt="high level architecture"></p><h2 id=key-abstractions>Key Abstractions</h2><h4 id=atclientmanager><strong>AtClientManager</strong></h4><p>Factory class responsible for giving the instances of AtClient and other
services for a given @sign.</p><h4 id=atclient><strong>AtClient</strong></h4><p>AtClient should be used to perform Create, Read, Update or Delete (CRUD)
operations on the secondary server.</p><h4 id=notificationservice><strong>NotificationService</strong></h4><p>NotificationService should be used to send and receive notifications from
the secondary server.</p><h4 id=syncservice><strong>SyncService</strong></h4><p>SyncService should be used to keep local and cloud secondary data in sync.</p><h2 id=sync>Sync</h2><p>Sync in the @protocol is a process to pull or push data between local and
cloud secondary servers to make sure that the data is in sync.</p><p>For example, if an app creates a key called phone@bob and saves it to the
local secondary, the Sync process will push that to the cloud secondary server
and make it available to be consumed by another @app on another device.</p><h2 id=sync-triggers>Sync triggers</h2><p>Sync process is triggered in two ways:</p><ol><li>App sync</li><li>System sync</li></ol><p><strong>App sync</strong></p><p>Apps on @protocol can request for an invocation of a Sync process by calling
the “sync” method on “SyncService”. Calling “sync” would not immediately
trigger the Sync process, rather it is taken as a request that needs to be
fulfilled later. For example when a Sync process is requested an app could be
offline but SyncService still accepts the request through the “sync” method
call and fulfills it when the conditions are right for the data transfer.</p><p><strong>System sync</strong></p><p>SDK initiates a Sync process without any apps requesting when SDK detects
that the local and the cloud secondaries are out of sync.</p><p>Please look at <a href=https://github.com/atsign-foundation/at_client_sdk/blob/trunk/at_client/lib/src/service/sync_service.dart>SyncService Dart code docs</a> for more details on the usage.</p><h2 id=sync-trigger-conditions>Sync trigger conditions</h2><p>When a sync request is submitted, SyncService waits for the following
conditions to be fulfilled for the Sync process to be triggered:</p><ol><li>Number of sync requests should be greater than 3</li><li>Time difference between the first sync request and now is greater than 5 seconds</li></ol><p><strong>Note:</strong> These internals are subject to change in future versions of SDK</p></div><div class=td-content style=page-break-before:always><h1 id=pg-e426690aa2677cb2694fb2eba48ed580>4.5.1 - What are the changes?</h1><div class=lead>Refernce documentation for rSDK changes.</div><h2 id=get-instances-of-atclient-and-other-services>Get instances of AtClient and other services.</h2><ol><li>To initialize AtClient Instance call setCurrentAtSign method on
<code>AtClientManager.getInstance()</code>.</li></ol><ul><li><p><code>setCurrentAtSign</code> accepts the following arguments: currentAtSign,
namespace and the preferences.</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-dart data-lang=dart><span style=color:#000>AtClientManager</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>getInstance</span><span style=color:#000;font-weight:700>().</span><span style=color:#000>setCurrentAtSign</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#39;@alice&#39;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#4e9a06>&#39;wavi&#39;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#ce5c00;font-weight:700>&lt;</span><span style=color:#000>preferences</span><span style=color:#ce5c00;font-weight:700>&gt;</span><span style=color:#000;font-weight:700>);</span>
</code></pre></div></li></ul><ol start=2><li><p>The <code>AtClientManger</code> Instance has getter <code>atClient</code> which returns an
instance of <code>AtClient</code>.</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-dart data-lang=dart><span style=color:#000>AtClient</span> <span style=color:#000>atClient</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>atClientManager</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>atClient</span><span style=color:#000;font-weight:700>;</span>
</code></pre></div></li><li><p>The <code>AtClientManager</code> instance has a late initialized variable
<code>notificationService</code> which is for accessing notification service methods.</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-dart data-lang=dart><span style=color:#000>NotificationService</span> <span style=color:#000>notificationService</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>atClientManager</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>notificationService</span><span style=color:#000;font-weight:700>;</span>
</code></pre></div></li><li><p>The <code>AtClientManager</code> instance has a late initialized variable <code>syncService</code>
which is for invoking the sync.</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-dart data-lang=dart><span style=color:#000>SyncService</span> <span style=color:#000>syncService</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>atClientManager</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>syncService</span><span style=color:#000;font-weight:700>;</span>
</code></pre></div></li></ol><p><strong>Note</strong>: Above code should be executed every time when the @sign is switched to
get the right instances representing the new @sign.</p><h2 id=sending-and-receiving-notifications>Sending and receiving notifications.</h2><ol><li><p>Get the <code>AtClientManager</code> instance initially.</p></li><li><p>Access the <code>notificationService</code> variable using atClientManager instance.</p></li><li><p>Listen to notifications via callback and no filter. Ideally you don&rsquo;t
want to do this.</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-dart data-lang=dart><span style=color:#8f5902;font-style:italic>/// AtClientManager instance.
</span><span style=color:#8f5902;font-style:italic></span><span style=color:#000>AtClientManager</span> <span style=color:#000>atClientManager</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>AtClientManager</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>getInstance</span><span style=color:#000;font-weight:700>();</span>

<span style=color:#8f5902;font-style:italic>/// NotificationService variable.
</span><span style=color:#8f5902;font-style:italic></span><span style=color:#000>NotificationService</span> <span style=color:#000>notificationService</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>atClientManager</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>notificationService</span><span style=color:#000;font-weight:700>;</span>

<span style=color:#8f5902;font-style:italic>/// Listen to notifications.
</span><span style=color:#8f5902;font-style:italic></span><span style=color:#000>notificationService</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>subscribe</span><span style=color:#000;font-weight:700>().</span><span style=color:#000>listen</span><span style=color:#000;font-weight:700>((</span><span style=color:#000>notification</span><span style=color:#000;font-weight:700>)</span> <span style=color:#000;font-weight:700>{</span>
<span style=color:#000>_notificationCallback</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>notification</span><span style=color:#000;font-weight:700>);</span>
<span style=color:#000;font-weight:700>});</span>
</code></pre></div></li><li><p>Listen to notifications via callback and filter notification key by regex.
You can also come up with regexes that match other types of keys. Ex:
&lsquo;wavi | buzz&rsquo; or alternatively multiple listeners can also be registered.</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-dart data-lang=dart><span style=color:#000>notificationService</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>subscribe</span><span style=color:#000;font-weight:700>(</span><span style=color:#f57900>regex:</span> <span style=color:#4e9a06>&#39;.wavi&#39;</span><span style=color:#000;font-weight:700>).</span><span style=color:#000>listen</span><span style=color:#000;font-weight:700>((</span><span style=color:#000>notification</span><span style=color:#000;font-weight:700>)</span> <span style=color:#000;font-weight:700>{</span>
<span style=color:#000>_notificationCallback</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>notification</span><span style=color:#000;font-weight:700>);</span>
<span style=color:#000;font-weight:700>});</span>
</code></pre></div></li><li><p>Send notification. Await variant.</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-dart data-lang=dart><span style=color:#8f5902;font-style:italic>/// AtKey
</span><span style=color:#8f5902;font-style:italic></span><span style=color:#000>AtKey</span> <span style=color:#000>phoneKey</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>AtKey</span><span style=color:#000;font-weight:700>()</span>
    <span style=color:#000;font-weight:700>..</span><span style=color:#000>key</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#4e9a06>&#39;phone&#39;</span>
    <span style=color:#000;font-weight:700>..</span><span style=color:#000>sharedWith</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#4e9a06>&#39;@bob🛠&#39;</span>
    <span style=color:#000;font-weight:700>..</span><span style=color:#000>sharedBy</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#4e9a06>&#39;@alice🛠&#39;</span><span style=color:#000;font-weight:700>;</span>

<span style=color:#8f5902;font-style:italic>/// AtKey&#39;s Value (String)
</span><span style=color:#8f5902;font-style:italic></span><span style=color:#204a87;font-weight:700>String</span> <span style=color:#000>atValue</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#4e9a06>&#39;+1 100 200 300&#39;</span><span style=color:#000;font-weight:700>;</span>

<span style=color:#8f5902;font-style:italic>/// Update the value and capture the notification result.
</span><span style=color:#8f5902;font-style:italic></span><span style=color:#000>NotificationResult</span> <span style=color:#000>notificationResponse</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#204a87;font-weight:700>await</span> <span style=color:#000>notificationService</span>
            <span style=color:#000;font-weight:700>.</span><span style=color:#000>notify</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>NotificationParams</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>forUpdate</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>phoneKey</span><span style=color:#000;font-weight:700>,</span> <span style=color:#f57900>value:</span> <span style=color:#000>atValue</span><span style=color:#000;font-weight:700>));</span>
</code></pre></div></li><li><p>Validating if a notification failed in the await variant.</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-dart data-lang=dart><span style=color:#204a87;font-weight:700>if</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>notificationResponse</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>notificationStatusEnum</span> <span style=color:#ce5c00;font-weight:700>==</span> <span style=color:#000>NotificationStatusEnum</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>undelivered</span><span style=color:#000;font-weight:700>)</span> <span style=color:#000;font-weight:700>{</span>
    <span style=color:#8f5902;font-style:italic>// Do something on notification error.
</span><span style=color:#8f5902;font-style:italic></span>    <span style=color:#000>print</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>notificationResponse</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>atClientException</span><span style=color:#000;font-weight:700>);</span>
<span style=color:#000;font-weight:700>}</span> <span style=color:#204a87;font-weight:700>else</span><span style=color:#000;font-weight:700>{</span>
    <span style=color:#8f5902;font-style:italic>// Do something on successful delivery response.
</span><span style=color:#8f5902;font-style:italic></span>    <span style=color:#000>print</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#39;Successfully delivered notification.&#39;</span><span style=color:#000;font-weight:700>);</span>
<span style=color:#000;font-weight:700>}</span>
</code></pre></div></li><li><p>The other notifications are as follows -</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-dart data-lang=dart><span style=color:#8f5902;font-style:italic>/// Delete notification
</span><span style=color:#8f5902;font-style:italic></span><span style=color:#000>NotificationResult</span> <span style=color:#000>notificationResponse</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#204a87;font-weight:700>await</span> <span style=color:#000>notificationService</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>notify</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>NotificationParams</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>forDelete</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>phoneKey</span><span style=color:#000;font-weight:700>));</span>

<span style=color:#8f5902;font-style:italic>/// Text notify
</span><span style=color:#8f5902;font-style:italic></span><span style=color:#000>NotificationResult</span> <span style=color:#000>notificationResponse</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#204a87;font-weight:700>await</span> <span style=color:#000>notificationService</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>notify</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>NotificationParams</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>forText</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#39;phone&#39;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#4e9a06>&#39;@bob🛠&#39;</span><span style=color:#000;font-weight:700>));</span>
</code></pre></div></li><li><p>Send notification using Callback.</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-dart data-lang=dart><span style=color:#000>notificationService</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>notify</span><span style=color:#000;font-weight:700>(</span>
      <span style=color:#000>NotificationParams</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>forUpdate</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>atKey</span><span style=color:#000;font-weight:700>,</span> <span style=color:#f57900>value:</span> <span style=color:#000>atValue</span><span style=color:#000;font-weight:700>),</span>
      <span style=color:#f57900>onDone:</span> <span style=color:#000>_onSuccessCallback</span><span style=color:#000;font-weight:700>,</span>
      <span style=color:#f57900>onError:</span> <span style=color:#000>_onErrorCallback</span><span style=color:#000;font-weight:700>,</span>
      <span style=color:#000;font-weight:700>);</span>

<span style=color:#204a87;font-weight:700>void</span> <span style=color:#000>_onSuccessCallback</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>notificationResult</span><span style=color:#000;font-weight:700>){</span>
    <span style=color:#8f5902;font-style:italic>// Do something on successful delivery response.
</span><span style=color:#8f5902;font-style:italic></span>    <span style=color:#000>print</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>notificationResult</span><span style=color:#000;font-weight:700>);</span>
<span style=color:#000;font-weight:700>}</span>

<span style=color:#204a87;font-weight:700>void</span> <span style=color:#000>_onErrorCallback</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>notificationResult</span><span style=color:#000;font-weight:700>){</span>
    <span style=color:#8f5902;font-style:italic>// Do something on notification error
</span><span style=color:#8f5902;font-style:italic></span>    <span style=color:#000>print</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>notificationResponse</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>atClientException</span><span style=color:#000;font-weight:700>);</span>
<span style=color:#000;font-weight:700>}</span>
</code></pre></div></li></ol><h2 id=syncing-the-data>Syncing the data.</h2><ol><li><p>The <code>atClientManger</code> instance has getter <code>atClient</code> which returns an instance
of <code>AtClient</code>.</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-dart data-lang=dart><span style=color:#204a87;font-weight:700>final</span> <span style=color:#000>AtClient</span> <span style=color:#000>atClient</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>atClientManager</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>atClient</span><span style=color:#000;font-weight:700>;</span>
</code></pre></div></li><li><p>CRUD operations</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-dart data-lang=dart><span style=color:#000>atClient</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>put</span><span style=color:#000;font-weight:700>(</span><span style=color:#ce5c00;font-weight:700>&lt;</span><span style=color:#000>params</span><span style=color:#ce5c00;font-weight:700>&gt;</span><span style=color:#000;font-weight:700>)</span>
<span style=color:#000>atClient</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>delete</span><span style=color:#000;font-weight:700>(</span><span style=color:#ce5c00;font-weight:700>&lt;</span><span style=color:#000>params</span><span style=color:#ce5c00;font-weight:700>&gt;</span><span style=color:#000;font-weight:700>)</span>
</code></pre></div></li><li><p>Syncing the data. Apps no longer have to use <code>SyncStrategy</code> or
<code>isDedicated</code> flag or manually call <code>sync</code>. All sync requests will be
internally kept in a queue and synced to the server at periodic time
interval (approx. 15 seconds). If remote server is updated from some other
device, then those changes will be also synced at periodic intervals.</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-dart data-lang=dart><span style=color:#000>syncService</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>atClientManager</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>syncService</span><span style=color:#000;font-weight:700>;</span>
</code></pre></div><ul><li>Optionally, Register to onDone callbacks to get SyncResult when run asynchronously.</li></ul><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-dart data-lang=dart><span style=color:#000>syncService</span><span style=color:#000;font-weight:700>.</span><span style=color:#204a87;font-weight:700>sync</span><span style=color:#000;font-weight:700>(</span><span style=color:#f57900>onDone:</span> <span style=color:#000>_onSuccessCallback</span><span style=color:#000;font-weight:700>);</span>
<span style=color:#204a87;font-weight:700>void</span> <span style=color:#000>_onSuccessCallback</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>syncResult</span><span style=color:#000;font-weight:700>){</span>
    <span style=color:#000>print</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>syncResult</span><span style=color:#000;font-weight:700>);</span>
<span style=color:#000;font-weight:700>}</span>
</code></pre></div></li><li><p>Optionally, call <code>setOnDone</code> for global onDone callback. Call this method
to set the Global onDone callback. This method will be called when a sync is
completed. When a specific onDone function is passed to the sync function,
then the specific onDone is called.</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-dart data-lang=dart><span style=color:#000>syncService</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>setOnDone</span><span style=color:#000;font-weight:700>(</span><span style=color:#f57900>onDone:</span> <span style=color:#000>_onSuccessCallback</span><span style=color:#000;font-weight:700>);</span>
</code></pre></div></li></ol></div><div class=td-content style=page-break-before:always><h1 id=pg-158133c17f4af06700b0da99f0ceb313>4.5.2 - How to migrate?</h1><div class=lead>Documentation referring how to migrate your project to latest rSDK.</div><p>If you have gone through the <a href=/docs/rsdk_migration/changes>rSDK changes</a>,
migrating your app will be easy. If you are ready to migrate your project to
latest rSDK changes, then you are good to go.</p><h2 id=get-instance-of-atclient>Get instance of atClient.</h2><ul><li><p><code>AtClientImpl</code> has been replace with <code>AtClientManager</code> instance.</p></li><li><p><code>createClient</code> method has been removed and replaced with <code>setCurrentAtSign</code>.</p></li><li><p><code>atClient</code> instance can be obtained through <code>atClientManager</code> instance.</p></li></ul><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-dart data-lang=dart><span style=color:#8f5902;font-style:italic>/// **SDK 2.X**
</span><span style=color:#8f5902;font-style:italic></span>
<span style=color:#204a87;font-weight:700>await</span> <span style=color:#000>AtClientImpl</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>createClient</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#39;@alice&#39;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#4e9a06>&#39;wavi&#39;</span><span style=color:#000;font-weight:700>,</span>  <span style=color:#ce5c00;font-weight:700>&lt;</span><span style=color:#000>preference</span><span style=color:#ce5c00;font-weight:700>&gt;</span><span style=color:#000;font-weight:700>);</span>
<span style=color:#204a87;font-weight:700>var</span> <span style=color:#000>atClient</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#204a87;font-weight:700>await</span> <span style=color:#000;font-weight:700>(</span><span style=color:#000>AtClientImpl</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>getClient</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>atsign</span><span style=color:#000;font-weight:700>));</span>
</code></pre></div><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-dart data-lang=dart><span style=color:#8f5902;font-style:italic>/// **SDK 3.X**
</span><span style=color:#8f5902;font-style:italic></span>
<span style=color:#204a87;font-weight:700>var</span> <span style=color:#000>atClientManager</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#204a87;font-weight:700>await</span> <span style=color:#000>AtClientManager</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>getInstance</span><span style=color:#000;font-weight:700>().</span><span style=color:#000>setCurrentAtSign</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#39;@alice&#39;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#4e9a06>&#39;wavi&#39;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#ce5c00;font-weight:700>&lt;</span><span style=color:#000>preference</span><span style=color:#ce5c00;font-weight:700>&gt;</span><span style=color:#000;font-weight:700>);</span>
<span style=color:#204a87;font-weight:700>final</span> <span style=color:#000>atClient</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>atClientManager</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>atClient</span><span style=color:#000;font-weight:700>;</span>
</code></pre></div><h2 id=starting-listening-to-notifications>Starting listening to notifications.</h2><ul><li><p><code>startMonitor</code> method has been removed. With rSDK you must subscribe and listen to <code>atClient</code> instance&rsquo;s <code>NotificationService</code>.</p></li><li><p><code>subscribe</code> method takes a optional parameter <code>regex</code> to filter the notifications.</p></li><li><p>Decoding the response on callback function is not required.</p></li></ul><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-dart data-lang=dart><span style=color:#8f5902;font-style:italic>/// **SDK 2.X**
</span><span style=color:#8f5902;font-style:italic></span>
<span style=color:#204a87;font-weight:700>await</span> <span style=color:#000>atClient</span><span style=color:#ce5c00;font-weight:700>!</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>startMonitor</span><span style=color:#000;font-weight:700>(</span><span style=color:#ce5c00;font-weight:700>&lt;</span><span style=color:#000>private_key</span><span style=color:#ce5c00;font-weight:700>&gt;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>_notificationCallBack</span><span style=color:#000;font-weight:700>,</span> <span style=color:#f57900>regex:</span> <span style=color:#4e9a06>&#39;atmosphere&#39;</span><span style=color:#000;font-weight:700>);</span>

<span style=color:#204a87;font-weight:700>void</span> <span style=color:#000>_notificationCallBack</span><span style=color:#000;font-weight:700>(</span><span style=color:#204a87;font-weight:700>var</span> <span style=color:#000>response</span><span style=color:#000;font-weight:700>)</span> <span style=color:#000;font-weight:700>{</span>
    <span style=color:#000>response</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>response</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>replaceFirst</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#39;notification:&#39;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#4e9a06>&#39;&#39;</span><span style=color:#000;font-weight:700>);</span>
    <span style=color:#204a87;font-weight:700>var</span> <span style=color:#000>responseJson</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>jsonDecode</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>response</span><span style=color:#000;font-weight:700>);</span>
    <span style=color:#204a87;font-weight:700>var</span> <span style=color:#000>notificationKey</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>responseJson</span><span style=color:#000;font-weight:700>[</span><span style=color:#4e9a06>&#39;key&#39;</span><span style=color:#000;font-weight:700>];</span>
    <span style=color:#204a87;font-weight:700>var</span> <span style=color:#000>fromAtSign</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>responseJson</span><span style=color:#000;font-weight:700>[</span><span style=color:#4e9a06>&#39;from&#39;</span><span style=color:#000;font-weight:700>];</span>
    <span style=color:#8f5902;font-style:italic>// ....... REST CODE .......
</span><span style=color:#8f5902;font-style:italic></span><span style=color:#000;font-weight:700>}</span>
</code></pre></div><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-dart data-lang=dart><span style=color:#8f5902;font-style:italic>/// **SDK 3.X**
</span><span style=color:#8f5902;font-style:italic></span>
<span style=color:#000>atClientManager</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>notificationService</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>subscribe</span><span style=color:#000;font-weight:700>(</span><span style=color:#f57900>regex:</span> <span style=color:#4e9a06>&#39;wavi&#39;</span><span style=color:#000;font-weight:700>).</span><span style=color:#000>listen</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>_notificationCallBack</span><span style=color:#000;font-weight:700>);</span>

<span style=color:#204a87;font-weight:700>void</span> <span style=color:#000>_notificationCallBack</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>AtNotification</span> <span style=color:#000>atNotification</span><span style=color:#000;font-weight:700>)</span> <span style=color:#000;font-weight:700>{</span>
    <span style=color:#204a87;font-weight:700>var</span> <span style=color:#000>notificationKey</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>atNotification</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>key</span><span style=color:#000;font-weight:700>;</span>
    <span style=color:#204a87;font-weight:700>var</span> <span style=color:#000>fromAtSign</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>atNotification</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>from</span><span style=color:#000;font-weight:700>;</span>
    <span style=color:#8f5902;font-style:italic>// ....... REST CODE .......
</span><span style=color:#8f5902;font-style:italic></span><span style=color:#000;font-weight:700>}</span>
</code></pre></div><h2 id=send-notifications>Send notifications.</h2><ul><li><p>To send notification, you must use <code>AtClientManager</code> instance&rsquo;s
<code>NotificationService</code> to access <code>notify</code> method.</p></li><li><p><code>notify</code> method takes a positional parameter <code>NotificationParams</code>.</p></li><li><p>The <code>NotificationParams</code> has all the methods depending to the operation you
do.</p><ul><li><code>forUpdate()</code> - To send update notification.</li><li><code>forDelete()</code> - To send delete notification.</li><li><code>forText()</code> - To send a text message to another atSign.</li></ul></li></ul><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-dart data-lang=dart><span style=color:#8f5902;font-style:italic>/// **SDK 2.X**
</span><span style=color:#8f5902;font-style:italic></span>
<span style=color:#204a87;font-weight:700>await</span> <span style=color:#000>AtClientImpl</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>createClient</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#39;@alice&#39;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#4e9a06>&#39;wavi&#39;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#ce5c00;font-weight:700>&lt;</span><span style=color:#000>preference</span><span style=color:#ce5c00;font-weight:700>&gt;</span><span style=color:#000;font-weight:700>);</span>
<span style=color:#000>atClient</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#204a87;font-weight:700>await</span> <span style=color:#000;font-weight:700>(</span><span style=color:#000>AtClientImpl</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>getClient</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#39;@alice&#39;</span><span style=color:#000;font-weight:700>));</span> 
<span style=color:#000>AtKey</span> <span style=color:#000>atKey</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>AtKey</span><span style=color:#000;font-weight:700>()..</span><span style=color:#000>key</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#4e9a06>&#39;phone&#39;</span>
                   <span style=color:#000;font-weight:700>..</span><span style=color:#000>sharedWith</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#4e9a06>&#39;@bob&#39;</span>
                   <span style=color:#000;font-weight:700>..</span><span style=color:#000>sharedBy</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#4e9a06>&#39;@alice&#39;</span><span style=color:#000;font-weight:700>;</span>
<span style=color:#204a87;font-weight:700>String</span> <span style=color:#000>atValue</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#4e9a06>&#39;+1 445 446 7879&#39;</span><span style=color:#000;font-weight:700>;</span>
<span style=color:#000>atClient</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>notify</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>atKey</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>atValue</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>OperationEnum</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>update</span><span style=color:#000;font-weight:700>);</span>
</code></pre></div><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-dart data-lang=dart><span style=color:#8f5902;font-style:italic>/// **SDK 3.X**
</span><span style=color:#8f5902;font-style:italic></span>
<span style=color:#000>AtClientManager</span> <span style=color:#000>atClientManager</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#204a87;font-weight:700>await</span> <span style=color:#000>AtClientManager</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>getInstance</span><span style=color:#000;font-weight:700>()</span>
    	<span style=color:#000;font-weight:700>.</span><span style=color:#000>setCurrentAtSign</span><span style=color:#000;font-weight:700>(</span><span style=color:#a40000>‘@</span><span style=color:#000>alice</span><span style=color:#a40000>’</span><span style=color:#000;font-weight:700>,</span> <span style=color:#4e9a06>&#39;wavi&#39;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#ce5c00;font-weight:700>&lt;</span><span style=color:#000>preference</span><span style=color:#ce5c00;font-weight:700>&gt;</span><span style=color:#000;font-weight:700>);</span>
<span style=color:#000>AtClient</span> <span style=color:#000>atClient</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>atClientManager</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>atClient</span><span style=color:#000;font-weight:700>;</span>
<span style=color:#000>AtKey</span> <span style=color:#000>atKey</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>AtKey</span><span style=color:#000;font-weight:700>()..</span><span style=color:#000>key</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#4e9a06>&#39;phone&#39;</span>
                   <span style=color:#000;font-weight:700>..</span><span style=color:#000>sharedWith</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#4e9a06>&#39;@bob&#39;</span>
                   <span style=color:#000;font-weight:700>..</span><span style=color:#000>sharedBy</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#4e9a06>&#39;@alice&#39;</span><span style=color:#000;font-weight:700>;</span>
<span style=color:#204a87;font-weight:700>String</span> <span style=color:#000>atValue</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#4e9a06>&#39;+1 445 446 7879&#39;</span><span style=color:#000;font-weight:700>;</span>
<span style=color:#000>NotificationResult</span> <span style=color:#000>result</span>  <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#204a87;font-weight:700>await</span> <span style=color:#000>atClientManager</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>notificationService</span>
                        <span style=color:#000;font-weight:700>.</span><span style=color:#000>notify</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>NotificationParams</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>forUpdate</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>atKey</span><span style=color:#000;font-weight:700>,</span> <span style=color:#f57900>value:</span> <span style=color:#000>atValue</span><span style=color:#000;font-weight:700>));</span>
</code></pre></div><h2 id=check-whether-local-and-remote-server-are-in-sync>Check whether local and remote server are in sync.</h2><ul><li><p>Instead of using <code>SyncManager</code>, use <code>SyncService</code> to access <code>isInSync</code>
method.</p></li><li><p>You must use <code>AtClientManager</code> instance&rsquo;s <code>SyncService</code> to access
<code>isInSync</code> method.</p></li></ul><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-dart data-lang=dart><span style=color:#8f5902;font-style:italic>/// **SDK 2.X**
</span><span style=color:#8f5902;font-style:italic></span>
<span style=color:#204a87;font-weight:700>final</span> <span style=color:#000>syncManager</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>atClient</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>getSyncManager</span><span style=color:#000;font-weight:700>();</span>
<span style=color:#204a87;font-weight:700>bool</span> <span style=color:#000>isInSync</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#204a87;font-weight:700>await</span> <span style=color:#000>syncManager</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>isInSync</span><span style=color:#000;font-weight:700>();</span>
</code></pre></div><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-dart data-lang=dart><span style=color:#8f5902;font-style:italic>/// **SDK 3.X**
</span><span style=color:#8f5902;font-style:italic></span>
<span style=color:#204a87;font-weight:700>final</span> <span style=color:#000>syncService</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>atClientManager</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>syncService</span><span style=color:#000;font-weight:700>;</span>
<span style=color:#204a87;font-weight:700>bool</span> <span style=color:#000>isInSync</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#204a87;font-weight:700>await</span> <span style=color:#000>syncService</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>isInSync</span><span style=color:#000;font-weight:700>();</span>
</code></pre></div><h2 id=calling-on-demand-sync>Calling on demand sync.</h2><ul><li>This may not be needed by all apps with new SDK changes. sync is performed
automatically on any update/delete operation on atClient.</li></ul><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-dart data-lang=dart><span style=color:#8f5902;font-style:italic>/// **SDK 2.X**
</span><span style=color:#8f5902;font-style:italic></span>
<span style=color:#204a87;font-weight:700>final</span> <span style=color:#000>syncManager</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>atClient</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>getSyncManager</span><span style=color:#000;font-weight:700>();</span>
<span style=color:#204a87;font-weight:700>await</span> <span style=color:#000>syncManager</span><span style=color:#000;font-weight:700>.</span><span style=color:#204a87;font-weight:700>sync</span><span style=color:#000;font-weight:700>();</span>
</code></pre></div><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-dart data-lang=dart><span style=color:#8f5902;font-style:italic>/// **SDK 3.X**
</span><span style=color:#8f5902;font-style:italic></span>
<span style=color:#204a87;font-weight:700>final</span> <span style=color:#000>syncService</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>atClientManager</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>syncService</span><span style=color:#000;font-weight:700>;</span>
<span style=color:#000>syncService</span><span style=color:#000;font-weight:700>.</span><span style=color:#204a87;font-weight:700>sync</span><span style=color:#000;font-weight:700>();</span> 
</code></pre></div></div><div class=td-content style=page-break-before:always><h1 id=pg-5fcdae0e6f76e33fd283f33b48116b88>4.5.3 - What's new with rSDK?</h1><div class=lead>Documentation referring What is new with rSDK and how to use it.</div><h2 id=network-availability-callback-service>Network availability callback service.</h2><p>Apps can subscribe to the network availability callback service to know when
the network goes off and on. Some of the services offered by SDK is
subscribing to this service internally.</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-dart data-lang=dart><span style=color:#204a87;font-weight:700>final</span> <span style=color:#000>ConnectivityListener</span> <span style=color:#000>connectivityListener</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>ConnectivityListener</span><span style=color:#000;font-weight:700>();</span>
<span style=color:#000>connectivityListener</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>subscribe</span><span style=color:#000;font-weight:700>().</span><span style=color:#000>listen</span><span style=color:#000;font-weight:700>((</span><span style=color:#000>isConnected</span><span style=color:#000;font-weight:700>)</span> <span style=color:#000;font-weight:700>{</span>
<span style=color:#204a87;font-weight:700>if</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>isConnected</span><span style=color:#000;font-weight:700>)</span> <span style=color:#000;font-weight:700>{</span>
<span style=color:#000>print</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#39;connected&#39;</span><span style=color:#000;font-weight:700>);</span>
<span style=color:#000;font-weight:700>}</span> <span style=color:#204a87;font-weight:700>else</span> <span style=color:#000;font-weight:700>{</span>
<span style=color:#000>print</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#39;disconnected&#39;</span><span style=color:#000;font-weight:700>);</span>
<span style=color:#000;font-weight:700>}</span>
<span style=color:#000;font-weight:700>});</span>

<span style=color:#8f5902;font-style:italic>// call this when app is closed or you no longer need the subscription
</span><span style=color:#8f5902;font-style:italic></span><span style=color:#000>connectivityListener</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>unSubscribe</span><span style=color:#000;font-weight:700>()</span> 
</code></pre></div><h2 id=response-objects>Response objects.</h2><p>Notification Response Object.</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-dart data-lang=dart><span style=color:#204a87;font-weight:700>class</span> <span style=color:#000>AtNotification</span> <span style=color:#000;font-weight:700>{</span>
<span style=color:#000>late</span> <span style=color:#204a87;font-weight:700>String</span> <span style=color:#000>id</span><span style=color:#000;font-weight:700>;</span>
<span style=color:#000>late</span> <span style=color:#204a87;font-weight:700>String</span> <span style=color:#000>key</span><span style=color:#000;font-weight:700>;</span>
<span style=color:#000>late</span> <span style=color:#204a87;font-weight:700>String</span> <span style=color:#000>from</span><span style=color:#000;font-weight:700>;</span>
<span style=color:#000>late</span> <span style=color:#204a87;font-weight:700>String</span> <span style=color:#000>to</span><span style=color:#000;font-weight:700>;</span>
<span style=color:#000>late</span> <span style=color:#204a87;font-weight:700>int</span> <span style=color:#000>epochMillis</span><span style=color:#000;font-weight:700>;</span>
<span style=color:#204a87;font-weight:700>String</span><span style=color:#ce5c00;font-weight:700>?</span> <span style=color:#000>value</span><span style=color:#000;font-weight:700>;</span>
<span style=color:#204a87;font-weight:700>String</span><span style=color:#ce5c00;font-weight:700>?</span> <span style=color:#000>operation</span><span style=color:#000;font-weight:700>;</span>
<span style=color:#000;font-weight:700>}</span>
</code></pre></div><p>Sync Response Object</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-dart data-lang=dart><span style=color:#204a87;font-weight:700>class</span> <span style=color:#000>SyncResult</span> <span style=color:#000;font-weight:700>{</span>
<span style=color:#000>SyncStatus</span> <span style=color:#000>syncStatus</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>SyncStatus</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>not_started</span><span style=color:#000;font-weight:700>;</span>
<span style=color:#000>AtClientException</span><span style=color:#ce5c00;font-weight:700>?</span> <span style=color:#000>atClientException</span><span style=color:#000;font-weight:700>;</span>
<span style=color:#000>DateTime</span><span style=color:#ce5c00;font-weight:700>?</span> <span style=color:#000>lastSyncedOn</span><span style=color:#000;font-weight:700>;</span>
<span style=color:#204a87;font-weight:700>bool</span> <span style=color:#000>dataChange</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#204a87;font-weight:700>true</span><span style=color:#000;font-weight:700>;</span>
<span style=color:#000;font-weight:700>}</span>
<span style=color:#000>enum</span> <span style=color:#000>SyncStatus</span> <span style=color:#000;font-weight:700>{</span> <span style=color:#000>not_started</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>success</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>failure</span> <span style=color:#000;font-weight:700>}</span>
</code></pre></div></div><div class=td-content style=page-break-before:always><h1 id=pg-3908ff537786b98d9380da6674e2e960>4.5.4 - What's deprecated in rSDK?</h1><div class=lead>Documentation referring What are all the deprecations happened in rSDK.</div><h2 id=isdedicated-flag><strong>isDedicated</strong> flag</h2><p>Apps no longer have to use the <code>isDedicated</code> flag on <code>at_client</code> methods. Sync
will be called on a separate connection with the new SDK implementation. App
developers can remove references to the <code>isDedicated</code> flag.</p><h2 id=syncstrategy>SyncStrategy</h2><p>Apps no longer have to set <code>SyncStrategy</code> in the preferences. Sync will be
called automatically after any update or delete operation on the <code>at_client</code>;
Refer to the Sync section below for more details.</p><h2 id=notify-method><strong>notify</strong> method</h2><p>The method <code>notify</code> from <code>AtClient</code> is deprecated. Use
<code>AtClientManager.notificationService</code> instance to call <code>notify</code> method instead.
This method will be taking a positional argument of type <code>NotificationParams</code>.</p><p><strong>Usage :</strong></p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-dart data-lang=dart><span style=color:#8f5902;font-style:italic>/// Get [AtClientManager] instance.
</span><span style=color:#8f5902;font-style:italic></span><span style=color:#000>AtClientManager</span> <span style=color:#000>atClientManager</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>AtClientManager</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>getInstance</span><span style=color:#000;font-weight:700>();</span>

<span style=color:#8f5902;font-style:italic>/// From the [AtClientManager] instance access the `notificationService` instance.
</span><span style=color:#8f5902;font-style:italic>/// Using `NotificationService` instance call the `notify` method. 
</span><span style=color:#8f5902;font-style:italic></span><span style=color:#000>atClientManager</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>notificationService</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>notify</span><span style=color:#000;font-weight:700>(</span>
    <span style=color:#8f5902;font-style:italic>/// With respect to the operation type, 
</span><span style=color:#8f5902;font-style:italic></span>    <span style=color:#8f5902;font-style:italic>/// the notification will be sent to the server.
</span><span style=color:#8f5902;font-style:italic></span>    <span style=color:#000>NotificationParams</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>forUpdate</span><span style=color:#000;font-weight:700>(</span>
        <span style=color:#000>atKey</span><span style=color:#000;font-weight:700>,</span>
        <span style=color:#f57900>value:</span> <span style=color:#000>value</span><span style=color:#000;font-weight:700>,</span>
    <span style=color:#000;font-weight:700>),</span>
<span style=color:#000;font-weight:700>);</span>
</code></pre></div><h2 id=getsyncmanager-method><strong>getSyncManager</strong> method</h2><p>The method <code>getSyncManager</code> used to get the instance of <code>SynaManager</code> is
deprecated in favor of <code>SyncService</code>; Can be able to access from
<code>AtClientManager</code> instance.</p><p><strong>Usage :</strong></p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-dart data-lang=dart><span style=color:#8f5902;font-style:italic>/// Get [AtClientManager] instance.
</span><span style=color:#8f5902;font-style:italic></span><span style=color:#000>AtClientManager</span> <span style=color:#000>atClientManager</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>AtClientManager</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>getInstance</span><span style=color:#000;font-weight:700>();</span>

<span style=color:#8f5902;font-style:italic>/// Get [SyncService] instance.
</span><span style=color:#8f5902;font-style:italic>/// Use this sync service instance wherever 
</span><span style=color:#8f5902;font-style:italic>/// you want to perform sync operations.
</span><span style=color:#8f5902;font-style:italic></span><span style=color:#000>SyncService</span> <span style=color:#000>_syncServcie</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>atClientManager</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>syncService</span><span style=color:#000;font-weight:700>;</span>
</code></pre></div><h2 id=startmonitor-method><strong>startMonitor</strong> method</h2><p>The method <code>startMonitor()</code> from <code>AtClient</code> has been deprecated in favor
of <code>subscribe()</code> from <code>NotificationService</code>. This method gives a back stream
of notifications from the server to the subscribing client. Optionally pass a
regex to filter notification keys matching the regex.</p><p><strong>Usage :</strong></p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-dart data-lang=dart><span style=color:#8f5902;font-style:italic>/// Get [AtClientManager] instance.
</span><span style=color:#8f5902;font-style:italic></span><span style=color:#000>AtClientManager</span> <span style=color:#000>atClientManager</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>AtClientManager</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>getInstance</span><span style=color:#000;font-weight:700>();</span>

<span style=color:#8f5902;font-style:italic>/// Get [NotificationService] instance from [AtClientManager].
</span><span style=color:#8f5902;font-style:italic></span><span style=color:#000>NotificationService</span> <span style=color:#000>notificationService</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>atClientManager</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>notificationService</span><span style=color:#000;font-weight:700>;</span>

<span style=color:#8f5902;font-style:italic>/// Subscribe to notificationService.
</span><span style=color:#8f5902;font-style:italic>/// Pass optional regex to filter notification 
</span><span style=color:#8f5902;font-style:italic>/// keys matching the regex as namespace.
</span><span style=color:#8f5902;font-style:italic></span><span style=color:#000>notificationService</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>subscribe</span><span style=color:#000;font-weight:700>(</span><span style=color:#f57900>regex:</span> <span style=color:#4e9a06>&#39;.myatapp&#39;</span><span style=color:#000;font-weight:700>);</span>
</code></pre></div></div><div class=td-content style=page-break-before:always><h1 id=pg-abbed016398a769d211e988929e38e61>4.5.5 - What are the best practices?</h1><ul><li><p>Do not cache instances of <code>AtClient</code> or any other services in the app code.
Always make use of &ldquo;AtClientManager&rdquo; to get the right instance.</p></li><li><p>Subscribe to only specific notifications.</p><ul><li>Secondary servers send certain system-level notifications to the SDK.
All of these system notifications will not be of interest to the apps.</li></ul></li><li><p>Use response parsers where the app has to deal with raw responses from the
server.</p><ul><li>Secondary servers send responses in various forms for various verbs.
Ideally, app developers should not have to know the specific response
format. Response parsers are made available in SDK to parse these
responses and give back simple beans that the app can operate on.</li></ul></li><li><p>Build feedback loops into the apps when an operation fails</p><ul><li>For example, if @X wants to notify @Y, the operation might fail for
many reasons. The SDK would let the caller know the reason for the
failure. It is better to act on the failure in the app code. It could
be as simple as logging it.</li></ul></li><li><p>Do not write any services to optimize the SDK code. There is a good chance
that we are already working on it. Make sure that you raise an enhancement
request for any such requirement.</p></li><li><p>Use sync with regex with caution. It is advised to use without regex unless
you are sure about it.</p></li></ul></div><div class=td-content style=page-break-before:always><h1 id=pg-6557438925ac398717df86f494c6abb8>5 - The @sign foundation overview</h1><div class=lead>Meet the atsign-foundation organization</div><h1 id=the-atsign-foundation>The atsign-foundation</h1><p>This organization is the home for a number of open source projects and repositories. They generally fall into three basic categories:</p><ol><li>An open specification for The @protocol.</li><li>An open source platform(i.e @platform) implementation of the protocol.</li><li>Documentation, samples and examples of how to use and implement the @platform.</li></ol><h2 id=the-protocol>The @protocol</h2><p>The @protocol is a new internet protocol which is defined by an open specification document which is maintained in <a href=https://github.com/atsign-foundation/at_protocol>our Github repo</a>.</p><p><img src=/at_protocol_images/protocol_definition.svg alt="Protocol Definition"></p><p>To learn more about the @protocol, check out the <a href=/docs/overview/at_protocol_spec/>full spec document</a></p><h2 id=the-platform>The @platform</h2><p>The @platform is designed to help developers create end-to-end encrypted mobile applications. A <a href=https://github.com/atsign-foundation/>full stack platform</a> written in Dart and Flutter, it includes a wide range of libraries, services and widgets specifically designed for creating privacy-first applications on any platform.</p><p><img src=/at_platform_images/platform_definition.svg alt="Platform Definition"></p></div><div class=td-content style=page-break-before:always><h1 id=pg-c7b302df42148ecf03927ed97e3d4e8a>5.1 - Specification</h1><div class=lead>The @protocol specification repository contains the specification document as well as other supporting documentation.</div><h1 id=the-protocol-specification>The @protocol Specification</h1><br><table><tr><td><strong>Subject</strong></td><td>@protocol specification</td></tr><tr><td><strong>Author(s)</strong></td><td>Colin Constable, Kevin Nickels, Jagannadh Vanghuri</td></tr><tr><td><strong>Revision</strong></td><td>v0.1.0 (draft)</td></tr><tr><td><strong>Date</strong></td><td>July 5, 2021</td></tr></table><br><h2 id=root-server>Root Server</h2><p>A Root Server should provide a lookup of where a Secondary Server for an @sign is running. This is similar to a DNS server.</p><p>When asking a Root Server for the lookup of a particular @sign the Root Server should respond with a null if the name does not exist and if the name exists the DNS name or address of the @server and the IP port number for that @sign should be returned.</p><p><strong>Response:</strong></p><p><code>&lt;host>:&lt;port></code></p><p>The Root Server only has one verb - <code>@exit</code> and all other inputs are considered to be lookup requests.</p><h2 id=secondary-server>Secondary Server</h2><p>A Secondary Server is where an @sign user&rsquo;s personal data should be stored. One interacts with a secondary using the verbs exposed by the protocol.</p><p>A Secondary Server should have 4 major sub components:</p><ol><li>Key Store</li><li>Commit Log</li><li>Access Log</li><li>Notification Log</li></ol><p>Verbs described in the document should be used to create, update, delete and retrieve information from the above sub components.</p><h3 id=1-key-store>1. Key Store</h3><p>Key store is a place where user data in a Secondary Server should be saved as key and value pairs. Apart from the value, an @sign user should be able to add certain metadata for a key.</p><h4 id=key><strong>Key</strong></h4><p>A key in the @protocol can be formed by using any alphanumeric and special characters (UTF-8) excluding &ldquo;@&rdquo;, &ldquo;:&rdquo; and a white space (" &ldquo;). A key in a secondary can be any of the following 5 types:</p><ol><li><p>Public Key</p><ul><li><p>A public key is a key which can be looked up by any @sign user.</p></li><li><p>A public key should be part of the <em><span style=text-decoration:underline>scan</span></em> verb result.</p></li><li><p>Format of the public key should be <strong>public:<identifier>:&lt;@sign></strong>.</p></li></ul><p><strong>Example:</strong></p><p><code>public:location@alice</code></p><blockquote><p>The owner of the secondary should be allowed to update or delete the value of a public key.</p></blockquote></li><li><p>Private Key</p><ul><li><p>A private key is a key which cannot be looked up any @sign user other than the one created it.</p></li><li><p>A private key should not be returned in a <em><span style=text-decoration:underline>scan</span></em> verb result.</p></li><li><p>Format of the private key should be <strong>privatekey:<identifier>:&lt;@sign></strong>.</p></li></ul><p><strong>Example:</strong></p><p><code>privatekey:pk1@alice</code></p><blockquote><p>The owner of the secondary should be allowed to update or delete the value of a private key.</p></blockquote></li><li><p>User key</p><ul><li>A user key can only be looked up by an @sign user with whom the data has been shared.</li><li>A user key should be part of the <em><span style=text-decoration:underline>scan</span></em> verb result only for the user who created it and the specific user it has been shared with.</li><li>Format of the key shared with someone else should be <strong>&lt;Shared with @sign>:<identifier>:&lt;Created by @sign></strong></li></ul><p><strong>Example:</strong></p><p><code>@bob:phone@alice</code></p><blockquote><p>Note: Above Key should be part of scan verb result for only @alice and @bob</p></blockquote><blockquote><p>The owner of the secondary should be allowed to update or delete the value of a user key.</p></blockquote></li><li><p>Internal Key</p><ul><li>Internal keys start with an underscore(_) and are not displayed in scan results. Internal keys can be looked up only by the owner of the secondary</li></ul></li><li><p>Cached Key</p><ul><li>A cached key is a key that was originally created by another @sign user but is now cached on the Secondary Server of another user&rsquo;s @sign as he/she was given permission to cache it.</li></ul><ul><li><p>A cached key should be listed in the <em><span style=text-decoration:underline>scan</span></em> verb result for the @sign user who cached it.</p></li><li><p>Format of the key shared with someone else should be <strong>cached:&lt;Shared with @sign>:<identifier>:&lt;Created by @sign></strong></p></li></ul><p><strong>Example:</strong></p><p><code>cached:@bob:phone@alice</code></p><blockquote><p>The user who has cached the key should not be allowed to update the cached key.</p></blockquote><blockquote><p>An @sign user who has created and shared the key should be allowed to update a cached key, and if the &ldquo;autoNotify&rdquo; config parameters is set to true, the updated value should be notified (please refer to the <code>notify</code> verb) and the cached key updated with the new value.</p></blockquote><blockquote><p>If the user who originally shared the keys set the CCD (Cascade delete) to true, the cached key will be deleted when the original key is deleted.</p></blockquote></li></ol><h4 id=value><strong>Value</strong></h4><p>Text or binary values can be saved in a Secondary Server. The size of the value saved in a secondary is bound by the config parameter &ldquo;maxBufferSize&rdquo;.</p><blockquote><p>A user should be made aware of this limitation by using the <code>stats</code> verb.</p></blockquote><blockquote><p>If a binary value is being saved on a Secondary Server, the &ldquo;isBinary&rdquo; attribute on the metadata should be set to true by the convention.</p></blockquote><ol><li><p>Reference Value</p><p>A Secondary Server should support referencing another key&rsquo;s value.</p><p>A reference value should be in the format &ldquo;atsign://<key>&rdquo;.</p><p>For example, &lsquo;phone@bob(key)&rsquo; is 1234 (value). Now another key called altPhone@bob can refer to phone@bob by referencing it as altPhone@bob = atsign://phone@bob.</p><p>When the user does a lookup on the key that contains a reference, the Secondary Server should return a fully resolved value.</p></li><li><p>Metadata</p><p>Metadata of a key should describe the following properties of the value being inserted.</p><table><tr><td><strong>Meta Attribute</strong></td><td><strong>Auto create?</strong></td><td><strong>Description</strong></td></tr><tr><td>createdOn</td><td>Yes</td><td>Date and time when the key has been created.</td></tr><tr><td>createdBy</td><td>Yes</td><td>@sign that has created the key</td></tr><tr><td>updatedOn</td><td>Yes</td><td>Date and time when the key has been last updated.</td></tr><tr><td>sharedWith</td><td>No</td><td>@sign of the user with whom the key has been shared. Can be null if not shared with anyone.</td></tr><tr><td>ttl</td><td>No</td><td>Time to live in milliseconds.</td></tr><tr><td>expiresOn</td><td>Yes</td><td>A Date and Time derived from the ttl (now + ttl). A Key should be auto deleted once it expires.</td></tr><tr><td>ttb</td><td>No</td><td>Time to birth in milliseconds.</td></tr><tr><td>availableFrom</td><td>Yes</td><td>A Date and Time derived from the ttl (now + ttl). A Key should be only available after availableFrom.</td></tr><tr><td>isCached</td><td>No</td><td>True if the key can be cached by another @sign user.</td></tr><tr><td>ttr</td><td>No</td><td>Time in milliseconds after which the cached key needs to be refreshed. Ttr of -1 indicates that the key can be cached forever.</td></tr><tr><td>refreshAt</td><td>No</td><td>A Date and Time derived from the ttr. The time at which the key gets refreshed.</td></tr><tr><td>ccd</td><td>No</td><td>Indicates if a cached key needs to be deleted when the @sign user who has originally shared it deletes it.</td></tr><tr><td>isBinary</td><td>No</td><td>True if the value is a binary value.</td></tr><tr><td>isEncrypted</td><td>No</td><td>True if the value is encrypted</td></tr></table></li></ol><h3 id=2-commit-log>2. Commit Log</h3><p>A Secondary Server should record any create, update and delete operations in a commit log. The Commit Log should record these operations with a unique commit id so that users of the secondary can lookup operations that happened on or after a given commit id.</p><p>A Secondary Server should provide a way to compact the Commit Log based on time and size.</p><h3 id=3-access-log>3. Access Log</h3><p>A Secondary Server should record the following user actions: user login, user authentication and lookup. The Access Log should record these operations so that users of the secondary can retrieve various statistics such as the most visited @sign or most visited keys.</p><p>A Secondary Server should provide a way to compact the Access Log based on time and size.</p><h3 id=4-notification-log>4. Notification Log</h3><p>A Secondary Server should record any notifications that have been received and sent. Please check the <code>notify</code> verb specification for details on how a notification should be sent.</p><p>A Secondary Server should provide a way to compact the Notification Log based on time and size.</p><h2 id=standard-keys>Standard Keys</h2><p>A Secondary Server should have the following standard keys:</p><table><tr><td><strong>Key</strong></td><td><strong>Description</strong></td></tr><tr><td>public:publickey@<atsign></td><td>Public key used by other atsigns for encryption.</td></tr><tr><td>public:signing_publickey@<atsign></td><td>Public key used on a pol handler to verify a signed challenge</td></tr><tr><td><atsign>@signing_privatekey@<atsign></td><td>Private key used to sign a challenge on a pol request</td></tr><tr><td><atsign>:shared_key@<atsign></td><td>Symmetric key used to encrypt/decrypt self atsign data</td></tr></table><h2 id=configuration-parameters>Configuration Parameters</h2><p>A Secondary Server should honor the following configuration parameters.</p><table><tr><td><strong>Key</strong></td><td><strong>Valid Values</strong></td><td><strong>Description</strong></td></tr><tr><td><strong>autoNotify</strong></td><td>true/false</td><td>If set to true, a Secondary Server should automatically notify another @sign user when a key has been shared with him/her. Please refer to the <em><span style=text-decoration:underline>notify </span></em>verb spec for details.</td></tr><tr><td><strong>bufferLimit</strong></td><td>Number of bytes</td><td>Maximum size of a value for a key that can be transferred to a Secondary Server</td></tr><tr><td><strong>inbound_max_limit</strong></td><td>An Integer</td><td>Maximum number of inbound connections that a Secondary Server can accept</td></tr><tr><td><strong>outbound_max_limit</strong></td><td>An Integer</td><td>Maximum number of outbound connections that a secondary can make to another Secondary Server</td></tr><tr><td><strong>inbound_idle_time_millis</strong></td><td>Time in milliseconds</td><td>Maximum time the inbound connection can be active</td></tr><tr><td><strong>outbound_idle_time_millis</strong></td><td>Time in milliseconds</td><td>Maximum time the outbound connection can be active.</td></tr></table><h2 id=block-list>Block List</h2><p>A user of the Secondary Server should be able to decide who is allowed to connect to a Secondary Server. The <code>config</code> verb should be used to configure this. Once added, a Secondary Server should honor the list at the time of accepting new connections from an @sign user using the <code>from</code> verb.</p><h2 id=verbs>Verbs</h2><h3 id=the-from-verb>The <code>from</code> verb</h3><p><strong>Synopsis:</strong></p><p>The <code>from</code> verb is used to tell a secondary whom you claim to be.</p><p>Following regex represents the syntax of the <code>from</code> verb:</p><p><strong>Example:</strong></p><p><code>r'^from:(?&lt;@sign>@?[^@\s]+$)'</code></p><p><strong>Response:</strong></p><p>If the user who is trying to connect is the owner of the Secondary Server, then the <code>from</code> verb should respond with the following response.</p><p><code>key:&lt;sessionId@sign:uuid></code></p><p>If the user who is trying to connect is not the owner of the Secondary Server, then the <code>from</code> verb should respond with the following response.</p><p><code>proof:&lt;sessionid>@&lt;@sign>:&lt;UUID></code></p><p>If the user is not allowed to connect to the Secondary Server, then it should respond back with the following error and close the connection to the server.</p><p><code>error:AT0013-Connection Exception</code></p><p><strong>Description:</strong></p><p>The <code>from</code> verb is used to tell the Secondary Server what @sign you claim to be. With the <code>from</code> verb, one can connect to one&rsquo;s own Secondary Server or someone else&rsquo;s Secondary Server. In both cases, the Secondary Server responds back with a challenge to prove that you are who you claim to be. This is part of the authentication mechanism of the @protocol.</p><p>This authentication mechanism varies based on whether you are connecting to your own secondary (cram) or someone else&rsquo;s secondary (pol).</p><p><strong>OPTIONS:</strong></p><p><code>&lt;@sign></code>
Required: Yes
Description: @sign with which you are connecting to a Secondary Server.</p><h3 id=the-cram-verb>The <code>cram</code> verb</h3><p><strong>Synopsis:</strong></p><p>The <code>cram</code> verb is used to boostrap authenticate one&rsquo;s own self as an owner of a Secondary Server. It is
intended to be used once until a set of PKI keys are cut on the owner&rsquo;s mobile device and from then on
we use the <code>pkam</code> verb.</p><p>The following regex represents the syntax of the <code>cram</code> verb:</p><p><code>r'^cram:(?&lt;digest>.+$)'</code></p><p><strong>Response:</strong></p><p>If the user gets the challenge right, the prompt should change to the @sign of the user.</p><p><code>&lt;@sign>@</code></p><p>If the user gets the cram authentication wrong, then it should respond back with the following error and close the connection to the server.</p><p><code>error:AT0401-Client authentication failed</code></p><p><strong>Description:</strong></p><p>The <code>cram</code> verb follows the <code>from</code> verb. As an owner of the Secondary Server, you should be able to take the challenge thrown by the <code>from</code> verb and encrypt using the shared key that the server has been bound with. Upon receiving the <code>cram</code> verb along with the digest, the server decrypts the digest using the shared key and matches it with the challenge. If they are the same, then the secondary lets you connect to the Secondary Server and changes the prompt to your @sign.</p><p><strong>OPTIONS:</strong></p><p><code>&lt;digest></code>
Required: Yes
Description: Encrypted challenge</p><h3 id=the-pol-verb>The <code>pol</code> verb</h3><p><strong>Synopsis:</strong></p><p>The <code>pol</code> verb is part of the <code>pkam</code> process to authenticate oneself while connecting to someone else&rsquo;s Secondary Server. The term
&lsquo;pol&rsquo; means &lsquo;proof of life&rsquo; as it provides a near realtime assurance that the requestor is who it claims to be.</p><p>Following regex represents the syntax of the <code>pol</code> verb:</p><p><code>r'^pol$'</code></p><p><strong>Response:</strong></p><p>If the user gets the challenge right the prompt should change to the @sign of the user.</p><p><code>&lt;@sign>@</code></p><p>If the user gets the cram authentication wrong then it should respond back with the following error and close the connection to the server.</p><p><code>error:AT0401-Client authentication failed</code></p><p><strong>Description:</strong></p><p>The <code>pol</code> verb follows the <code>from</code> verb. &lsquo;pol&rsquo; indicates another secondary that the user who is trying to connect is ready to authenticate himself. For example, if @bob is trying to connect to @alice, @bob would take the key and value from the proof response of the verb and create a public key and value which then can be looked up by @alice. After @alice looks up @bob&rsquo;s secondary @alices secondary should change the prompt to @bob.</p><p><strong>OPTIONS:</strong></p><p>NA</p><h3 id=the-update-verb>The <code>update</code> verb</h3><p><strong>Synopsis:</strong></p><p>The <code>update</code> verb is used to insert key/value pairs into a Key Store. An update can only be run by the owner of a Secondary Server on his/her own Secondary Server.</p><p>Following regex represents the syntax of the <code>update</code> verb:</p><p><code>r'^update:(?:ttl:(?&lt;ttl>\d+):)?(?:ttb:(?&lt;ttb>\d+):)?(?:ttr:(?&lt;ttr>(-?)\d+):)?(ccd:(?&lt;ccd>true|false):)?((?:public:)|(@(?&lt;for@sign>[^@:\s]-):))?(?&lt;atKey>[^:@]((?!:{2})[^@])+)(?:@(?&lt;@sign>[^@\s]-))? (?&lt;value>.+$)'</code></p><p><strong>Response:</strong></p><p>The Secondary Server should return the commit id from Commit Log if the update is successful.</p><p><code>data:&lt;CommitId></code></p><p>If the user provides the invalid update command, then it should respond with the following error and close the connection to the server</p><p><code>error:AT0003-Invalid Syntax</code></p><p><strong>Description:</strong></p><p>The <code>update</code> verb should be used to perform create/update operations on the Secondary Server. The <code>update</code> verb requires the owner of the secondary to authenticate himself/herself to the Secondary Server using <code>from</code> and <code>cram</code> verbs.</p><p>If a key has been created for another @sign user, the Secondary Server should honor &ldquo;autoNotify&rdquo; configuration parameter.</p><p><strong>OPTIONS:</strong></p><p><code>&lt;ttl></code>
Required: No
Description: Time to live in milliseconds</p><p><code>&lt;ttb></code>
Required: No
Description: Time to birth in milliseconds</p><p><code>&lt;ttr></code>
Required: No
Description: Time to refresh in milliseconds.</p><blockquote><p>-1 is a valid value which indicates that the user with whom the key has been shared can keep it forever and the value for this key won&rsquo;t change forever.</p></blockquote><p><code>&lt;ccd></code>
Required: No
Description: A value of &ldquo;true&rdquo; indicates that the cached key needs to be deleted when the @sign user who has originally shared it deletes it.</p><p><code>&lt;for@sign></code>
Required: Yes (Not required when the key is a public key)
Description: @sign of the user with whom the key has been shared</p><p><code>&lt;@sign></code>
Required: Yes
Description: @sign of the owner</p><p><code>&lt;value></code>
Required: Yes
Description: Value for the key</p><h3 id=the-updatemeta-verb>The <code>update:meta</code> verb</h3><p><strong>Synopsis:</strong></p><p>The <code>update:meta</code> verb should be used to update the metadata of a key @sign user without having to send or save the value again.</p><p>Following is the regex for the <code>update:meta</code> verb</p><p><code>^update:meta:((?:public:)|((?&lt;forAtSign>@?[^@\s]-):))?(?&lt;atKey>((?!:{2})[^@])+)@(?&lt;atSign>[^@:\s]-)(:ttl:(?&lt;ttl>\d+))?(:ttb:(?&lt;ttb>\d+))?(:ttr:(?&lt;ttr>\d+))?(:ccd:(?&lt;ccd>true|false))?(:isBinary:(?&lt;isBinary>true|false))?(:isEncrypted:(?&lt;isEncrypted>true|false))?$</code></p><p><strong>Response:</strong></p><p>The Secondary Server should return the commit id from Commit Log if the update is successful.</p><p><code>data:&lt;CommitId></code></p><p>If the user provides the invalid update meta command, then it should respond with the following error and close the connection to the server</p><p><code>error:AT0003-Invalid Syntax</code></p><p><strong>Description:</strong></p><p>The <code>update:meta</code> verb should be used to perform create/update operations on the Secondary Server. The <code>update:meta</code> verb requires the owner of the secondary to authenticate himself/herself to the Secondary Server using <code>from</code> and <code>cram</code> verbs.</p><p>The Secondary Server should allow creation of keys with null values. If a key has been created for another @sign user, the Secondary Server should honor &ldquo;autoNotify&rdquo; configuration parameter.</p><p><strong>OPTIONS:</strong></p><p><code>&lt;ttl></code>
Required: No
Description: Time to live in milliseconds</p><p><code>&lt;ttb></code>
Required: No
Description: Time to birth in milliseconds</p><p><code>&lt;ttr></code>
Required: No
Description: Time to refresh in milliseconds.</p><blockquote><p>-1 is a valid value which indicates that the user with whom the key has been shared can keep it forever and the value for this key won&rsquo;t change forever.</p></blockquote><p><code>&lt;ccd></code>
Required: No
Description: A value of &ldquo;true&rdquo; indicates that the cached key needs to be deleted when the @sign user who has originally shared it deletes it.</p><p><code>&lt;for@sign></code>
Required: Yes (Not required when the key is a public key)
Description: @sign of the user with whom the key has been shared</p><p><code>&lt;@sign></code>
Required: Yes
Description: @sign of the owner</p><h3 id=the-lookup-verb>The <code>lookup</code> verb</h3><p><strong>Synopsis:</strong></p><p>The <code>lookup</code> verb should be used to lookup the value shared by another @sign user.</p><p>The following is the regex of the <code>lookup</code> verb:</p><p><code>lookup:((?&lt;operation>meta|all):)?(?&lt;atKey>(?:[^:]).+)@(?&lt;@sign>[^@\s]+)$</code></p><p><strong>Response:</strong></p><p>If the operation is not specified the Secondary Server should just respond back with the value saved by the user as is.</p><p><code>data:&lt;value></code></p><p>If the operation is to lookup the metadata only then the result should be wrapped in a JSON in the following format:</p><p><code>data:&lt;Metadata in a JSON></code></p><p><strong>Example:</strong></p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-json data-lang=json><span style=color:#a40000>data:</span> 
<span style=color:#000;font-weight:700>{</span>
    <span style=color:#204a87;font-weight:700>&#34;createdBy&#34;</span><span style=color:#000;font-weight:700>:</span><span style=color:#4e9a06>&#34;@bob&#34;</span><span style=color:#000;font-weight:700>,</span>
    <span style=color:#204a87;font-weight:700>&#34;updatedBy&#34;</span><span style=color:#000;font-weight:700>:</span><span style=color:#4e9a06>&#34;@bob&#34;</span><span style=color:#000;font-weight:700>,</span>
    <span style=color:#204a87;font-weight:700>&#34;createdAt&#34;</span><span style=color:#000;font-weight:700>:</span><span style=color:#4e9a06>&#34;2020-10-21 09:46:48.982Z&#34;</span><span style=color:#000;font-weight:700>,</span>
    <span style=color:#204a87;font-weight:700>&#34;updatedAt&#34;</span><span style=color:#000;font-weight:700>:</span><span style=color:#4e9a06>&#34;2020-10-21 09:46:48.982Z&#34;</span><span style=color:#000;font-weight:700>,</span>
    <span style=color:#204a87;font-weight:700>&#34;availableAt&#34;</span><span style=color:#000;font-weight:700>:</span><span style=color:#4e9a06>&#34;null&#34;</span><span style=color:#000;font-weight:700>,</span>
    <span style=color:#204a87;font-weight:700>&#34;expiresAt&#34;</span><span style=color:#000;font-weight:700>:</span><span style=color:#4e9a06>&#34;null&#34;</span><span style=color:#000;font-weight:700>,</span>
    <span style=color:#204a87;font-weight:700>&#34;refreshAt&#34;</span><span style=color:#000;font-weight:700>:</span><span style=color:#4e9a06>&#34;2020-10-21 09:46:58.982Z&#34;</span><span style=color:#000;font-weight:700>,</span>
    <span style=color:#204a87;font-weight:700>&#34;status&#34;</span><span style=color:#000;font-weight:700>:</span><span style=color:#4e9a06>&#34;active&#34;</span><span style=color:#000;font-weight:700>,</span>
    <span style=color:#204a87;font-weight:700>&#34;version&#34;</span><span style=color:#000;font-weight:700>:</span><span style=color:#0000cf;font-weight:700>0</span><span style=color:#000;font-weight:700>,</span>
    <span style=color:#204a87;font-weight:700>&#34;ttl&#34;</span><span style=color:#000;font-weight:700>:</span><span style=color:#204a87;font-weight:700>null</span><span style=color:#000;font-weight:700>,</span>
    <span style=color:#204a87;font-weight:700>&#34;ttb&#34;</span><span style=color:#000;font-weight:700>:</span><span style=color:#204a87;font-weight:700>null</span><span style=color:#000;font-weight:700>,</span>
    <span style=color:#204a87;font-weight:700>&#34;ttr&#34;</span><span style=color:#000;font-weight:700>:</span><span style=color:#0000cf;font-weight:700>10000</span><span style=color:#000;font-weight:700>,</span>
    <span style=color:#204a87;font-weight:700>&#34;ccd&#34;</span><span style=color:#000;font-weight:700>:</span><span style=color:#204a87;font-weight:700>false</span><span style=color:#000;font-weight:700>,</span>
    <span style=color:#204a87;font-weight:700>&#34;isBinary&#34;</span><span style=color:#000;font-weight:700>:</span><span style=color:#204a87;font-weight:700>false</span><span style=color:#000;font-weight:700>,</span>
    <span style=color:#204a87;font-weight:700>&#34;isEncrypted&#34;</span><span style=color:#000;font-weight:700>:</span><span style=color:#204a87;font-weight:700>false</span>
 <span style=color:#000;font-weight:700>}</span>
</code></pre></div><p>If the operation is to lookup the metadata and the data together then the result should be wrapped in a JSON in the following format:</p><p><code>data:&lt;Value and Metadata in a JSON></code></p><p><strong>Example:</strong></p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-json data-lang=json><span style=color:#a40000>data:</span>
<span style=color:#000;font-weight:700>{</span>
	<span style=color:#204a87;font-weight:700>&#34;key&#34;</span><span style=color:#000;font-weight:700>:</span><span style=color:#4e9a06>&#34;@alice:country@bob&#34;</span><span style=color:#000;font-weight:700>,</span>
	<span style=color:#204a87;font-weight:700>&#34;data&#34;</span><span style=color:#000;font-weight:700>:</span><span style=color:#4e9a06>&#34;USA&#34;</span><span style=color:#000;font-weight:700>,</span>
	<span style=color:#204a87;font-weight:700>&#34;metaData&#34;</span><span style=color:#000;font-weight:700>:</span>
	<span style=color:#000;font-weight:700>{</span>
	 <span style=color:#204a87;font-weight:700>&#34;createdBy&#34;</span><span style=color:#000;font-weight:700>:</span><span style=color:#4e9a06>&#34;@bob&#34;</span><span style=color:#000;font-weight:700>,</span>
       <span style=color:#204a87;font-weight:700>&#34;updatedBy&#34;</span><span style=color:#000;font-weight:700>:</span><span style=color:#4e9a06>&#34;@bob&#34;</span><span style=color:#000;font-weight:700>,</span>
       <span style=color:#204a87;font-weight:700>&#34;createdAt&#34;</span><span style=color:#000;font-weight:700>:</span><span style=color:#4e9a06>&#34;2020-10-21 09:46:48.982Z&#34;</span><span style=color:#000;font-weight:700>,</span>
       <span style=color:#204a87;font-weight:700>&#34;updatedAt&#34;</span><span style=color:#000;font-weight:700>:</span><span style=color:#4e9a06>&#34;2020-10-21 09:46:48.982Z&#34;</span><span style=color:#000;font-weight:700>,</span>
       <span style=color:#204a87;font-weight:700>&#34;availableAt&#34;</span><span style=color:#000;font-weight:700>:</span><span style=color:#4e9a06>&#34;null&#34;</span><span style=color:#000;font-weight:700>,</span>
       <span style=color:#204a87;font-weight:700>&#34;expiresAt&#34;</span><span style=color:#000;font-weight:700>:</span><span style=color:#4e9a06>&#34;null&#34;</span><span style=color:#000;font-weight:700>,</span>
       <span style=color:#204a87;font-weight:700>&#34;refreshAt&#34;</span><span style=color:#000;font-weight:700>:</span><span style=color:#4e9a06>&#34;2020-10-21 09:46:58.982Z&#34;</span><span style=color:#000;font-weight:700>,</span>
       <span style=color:#204a87;font-weight:700>&#34;status&#34;</span><span style=color:#000;font-weight:700>:</span><span style=color:#4e9a06>&#34;active&#34;</span><span style=color:#000;font-weight:700>,</span>
       <span style=color:#204a87;font-weight:700>&#34;version&#34;</span><span style=color:#000;font-weight:700>:</span><span style=color:#0000cf;font-weight:700>0</span><span style=color:#000;font-weight:700>,</span>
       <span style=color:#204a87;font-weight:700>&#34;ttl&#34;</span><span style=color:#000;font-weight:700>:</span><span style=color:#204a87;font-weight:700>null</span><span style=color:#000;font-weight:700>,</span>
       <span style=color:#204a87;font-weight:700>&#34;ttb&#34;</span><span style=color:#000;font-weight:700>:</span><span style=color:#204a87;font-weight:700>null</span><span style=color:#000;font-weight:700>,</span>
       <span style=color:#204a87;font-weight:700>&#34;ttr&#34;</span><span style=color:#000;font-weight:700>:</span><span style=color:#0000cf;font-weight:700>10000</span><span style=color:#000;font-weight:700>,</span>
       <span style=color:#204a87;font-weight:700>&#34;ccd&#34;</span><span style=color:#000;font-weight:700>:</span><span style=color:#204a87;font-weight:700>false</span><span style=color:#000;font-weight:700>,</span>
       <span style=color:#204a87;font-weight:700>&#34;isBinary&#34;</span><span style=color:#000;font-weight:700>:</span><span style=color:#204a87;font-weight:700>false</span><span style=color:#000;font-weight:700>,</span>
       <span style=color:#204a87;font-weight:700>&#34;isEncrypted&#34;</span><span style=color:#000;font-weight:700>:</span><span style=color:#204a87;font-weight:700>false</span>
     <span style=color:#000;font-weight:700>}</span>
<span style=color:#000;font-weight:700>}</span>
</code></pre></div><p>If the other Secondary Server on which the lookup needs to be performed is down then the secondary should return the following error and keep the connection alive.</p><p><code>error:AT0007-Secondary Server not found.</code></p><p>If the lookup command is not valid, then the Secondary Server should return the following error and close the connection:</p><p><code>error:AT0003-Invalid Syntax</code></p><p>For whatever reasons, If the handshake with another secondary fails, then the Secondary Server should return the following error:</p><p><code>data:AT0008-Handshake failure</code></p><p><strong>Description:</strong>:</p><p>The <code>lookup</code> verb should be used to fetch the value of the key shared by another @sign user. If there is a public and user key with the same name then the result should be based on whether the user is trying to lookup is authenticated or not. If the user is authenticated then the user key has to be returned, otherwise the public key has to be returned.</p><h3 id=the-plookup-verb>The <code>plookup</code> verb:</h3><p><strong>Synopsis:</strong></p><p>The <code>plookup</code> verb enables to lookup the value of the public key shared by another @sign user.</p><p>Following is the regex of the <code>plookup</code> verb:</p><p><code>^plookup:((?&lt;operation>meta|all):)?(?&lt;atKey>[^@\s]+)@(?&lt;@sign>[^@\s]+)$</code></p><p><strong>Response:</strong></p><p>The Secondary Server should return the value or metadata or the value and metadata together based on the option specified.</p><p>The response structure should be exactly the same as the <code>lookup</code> verb.</p><p>If the other Secondary Server on which the <code>lookup</code> needs to be performed is not available, then the secondary should return the following error and keep the connection alive.</p><p><code>error:AT0007-Secondary Server not found.</code></p><p>If the <code>lookup</code> command is not valid, then the Secondary Server should return the following error and close the connection:</p><p><code>error:AT0003-Invalid Syntax</code></p><p><strong>Description:</strong>:</p><p>The <code>plookup</code> verb should be used to fetch the value of the public key shared by another @sign user.</p><h3 id=the-llookup-verb>The <code>llookup</code> verb</h3><p><strong>Synopsis:</strong></p><p>The <code>llookup</code> verb should be used to look up one&rsquo;s own secondary and this should return the value as is (i.e. without any resolution).</p><p>The Following is the regex of the <code>llookup</code> verb:</p><p><code>^llookup:((?&lt;operation>meta|all):)?(?:cached:)?((?:public:)|(@(?&lt;for@sign>[^@:\s]-):))?(?&lt;atKey>[^:]((?!:{2})[^@])+)@(?&lt;@sign>[^@\s]+)$</code></p><p><strong>Response:</strong></p><p>The Secondary Server should return the value or metadata or the value and metadata together based on the option specified.</p><p>The response structure should be exactly the same as the <code>lookup</code> verb.</p><p>If the other Secondary Server on which the lookup needs to be performed is down then the secondary should return the following error and keep the connection alive.</p><p><code>error:AT0007-Secondary Server not found.</code></p><blockquote><p>If the lookup command is not valid, then the Secondary Server should return the following error and close the connection:</p></blockquote><p><code>error:AT0003-Invalid Syntax</code></p><p><strong>Description:</strong>:</p><p>The <code>llookup</code> verb should be used to fetch the value of the key in the owners secondary store as is without resolving it. For example if a key contains a reference as a value, the <code>lookup</code> verb should resolve it to a value whereas llookup should return the value as is.</p><p><strong>Example:</strong></p><p>If phone@bob is &ldquo;1234&rdquo; and altphone@bob is &ldquo;atsign://phone@bob&rdquo;,
then <code>lookup</code> of altphone@bob should return &ldquo;1234&rdquo; whereas <code>llookup</code> of altphone@bob should return &ldquo;atsign://phone@bob&rdquo;.</p><h3 id=the-pkam-verb>The <code>pkam</code> verb</h3><p><strong>Synopsis:</strong></p><p>The <code>pkam</code> verb is used to authenticate one&rsquo;s own self as an owner of a Secondary Server using a PKI style authentication.</p><p>Following regex represents the syntax of the <code>pkam</code> verb:</p><p><code>^pkam:(?&lt;signature>.+$)</code></p><p><strong>Response:</strong></p><p>If the user gets the challenge right, the prompt should change to the @sign of the user.</p><p><code>&lt;@sign>@</code></p><p>If the user gets the pkam authentication wrong then it should respond back with the following error and close the connection to the server.</p><p><code>error:AT0401-Client authentication failed</code></p><p><strong>Description:</strong></p><p>The <code>pkam</code> verb follows the <code>from</code> verb. As an owner of the Secondary Server, you should be able to take the challenge thrown by the <code>from</code> verb and encrypt using the private key of the RSA key pair with what the server has been bound with. Upon receiving the <code>cram</code> verb along with the digest, the server decrypts the digest using the public key and matches it with the challenge. If they are the same then the secondary lets you connect to the Secondary Server and changes the prompt to your @sign.</p><p><strong>OPTIONS:</strong></p><p><code>&lt;digest></code>
Required: Yes
Description: Encrypted challenge</p><h3 id=the-stats-verb>The <code>stats</code> verb</h3><p><strong>Synopsis:</strong></p><p>The <code>stats</code> verb should be used to get the statistics of an atsign.</p><p>Following is the regex of the <code>stats</code> verb</p><p><code>stats(?&lt;statId>:((?!0)\d+)?(,(\d+))-)?</code></p><p><strong>Response:</strong></p><p>If the user gives stats all the statistics will be returned as JSON. Following statistics are provided:</p><ol><li><code>activeInboundConnections</code></li><li><code>activeOutboundConnections</code></li><li><code>lastCommitId</code></li><li><code>secondaryStorageSize</code></li><li><code>topAtSigns</code></li><li><code>topKeys</code></li></ol><p><strong>Example:</strong></p><p><code>data: [{"id":"1","name":"activeInboundConnections","value":"1"}, {"id":"2","name":"activeOutboundConnections","value":"0"}, {"id":"3","name":"lastCommitID","value":"1"}, {"id":"4","name":"secondaryStorageSize","value":12560}, {"id":"5","name":"topAtSigns","value":{"@bob":1}}, {"id":"6","name":"topKeys","value":{"publickey@alice":1}}]</code></p><p>Individual statistics can be retrieved using the respective Id.</p><pre><code>@alice@stats:1
data: [{&quot;id&quot;:&quot;1&quot;,&quot;name&quot;:&quot;activeInboundConnections&quot;,&quot;value&quot;:&quot;1&quot;}]
</code></pre><h3 id=the-sync-verb>The <code>sync</code> verb</h3><p><strong>Synopsis:</strong></p><p>The <code>sync</code> verb enables to synchronize the keys between the local Secondary Server and remote Secondary Server.</p><p>Following is the regex:</p><p><code>sync:(?&lt;from_commit_seq>[0-9]+$|-1)</code></p><p><strong>Response:</strong></p><p>The <code>sync</code> verb returns a json array of the commit entries from the given commit id to the current commit id. Further, The <code>sync</code> verb accepts -1 as argument which returns all the commit entries.</p><pre><code>data:[{&quot;atKey&quot;:&quot;@bob:phone@alice&quot;,&quot;operation&quot;:&quot;+&quot;,&quot;opTime&quot;:&quot;2020-10-26 11:57:43.732&quot;,&quot;commitId&quot;:0,&quot;value&quot;:&quot;12345&quot;,&quot;metadata&quot;:{&quot;ttr&quot;:&quot;36000000&quot;,&quot;ccd&quot;:&quot;false&quot;}},
{&quot;atKey&quot;:&quot;@bob:shared_key@alice&quot;,&quot;operation&quot;:&quot;-&quot;,&quot;opTime&quot;:&quot;2020-10-26 09:44:54.382219Z&quot;,&quot;commitId&quot;:1}]
</code></pre><p>The <code>notify</code> verb</p><p>The <code>notify</code> verb enables us to notify the atsign user of some data event.</p><p>The Following is the regex for the <code>notify</code> verb</p><p><code>notify:((?&lt;operation>update|delete):)?(ttl:(?&lt;ttl>\d+):)?(ttb:(?&lt;ttb>\d+):)?(ttr:(?&lt;ttr>(-)?\d+):)?(ccd:(?&lt;ccd>true|false):)?(@(?&lt;forAtSign>[^@:\s]-)):(?&lt;atKey>[^:]((?!:{2})[^@])+)@(?&lt;atSign>[^@:\s]+)(:(?&lt;value>.+))?</code></p><p><strong>Response:</strong></p><p>When a key is notified successfully, returns</p><p><code>data:success</code></p><p><strong>Description:</strong></p><p>When an atsign user notifies the key to another atsign user, an entry has to be created in received notifications list on the user who has shared the key and an entry has to be created in sent notifications list on the user to whom the key is to be notified. When auto notify is set to true, when a key is created/updated and deleted notification is triggered to another atsign user.</p><h3 id=notify-list>Notify List</h3><p><strong>Synopsis:</strong></p><p>Notify list returns a list of notifications.</p><p>Following is the regex</p><p><code>notify:(list (?&lt;regex>.-)|list$)</code></p><p><strong>Response:</strong></p><p>If the user is the owner, returns a list of received notifications. If a user is pol authenticated user, returns a list of sent notifications</p><p><code>data:[{"id":"0e5e9e89-c9cb-423b-8972-8c5487215990","from":"@alice","to":"@bob","key":"@bob:phone@alice","value":12345,"operation":"update","epochMillis":1603714122636}]</code></p><p>The <code>monitor</code> Verb</p><p><strong>Synopsis:</strong></p><p>The <code>monitor</code> verb streams received notifications.</p><p>Following is the regex</p><p><code>^monitor$|^monitor ?(?&lt;regex>.-)?)$</code></p><p><strong>Response:</strong></p><p>Returns a stream of notifications.</p><pre><code>@alice@monitor
notification: {&quot;id&quot;:&quot;773e226d-dac2-4269-b1ee-64d7ce93a42f&quot;,&quot;from&quot;:&quot;@bob&quot;,&quot;to&quot;:&quot;@alice&quot;,&quot;key&quot;:&quot;@alice:phone@bob&quot;,&quot;value&quot;:null,&quot;operation&quot;:&quot;update&quot;,&quot;epochMillis&quot;:1603714720965}
</code></pre><p><strong>Description:</strong></p><p>The <code>monitor</code> verb accepts an optional parameter to filter the notifications by passing filter criteria as regex to <code>monitor</code> verb.</p><h2 id=error-codes>Error Codes</h2><table><tr><td><strong>Error Code</strong></td><td><strong>Error Message</strong></td><td><strong>Description</strong></td></tr><tr><td>AT0001</td><td>Server exception</td><td>Exception occurs when there is an issue while starting the server.</td></tr><tr><td>AT0002</td><td>DataStore exception</td><td>Exception occurs during keystore operations (GET/PUT/DELETE).</td></tr><tr><td>AT0003</td><td>Invalid syntax</td><td>Exception occurs if we give any invalid command to the server.</td></tr><tr><td>AT0004</td><td>Socket error</td><td>Exception occurs when socket connection to secondary cannot be established.</td></tr><tr><td>AT0005</td><td>Buffer limit exceeded</td><td>This exception occurs when input/output message size reaches the maximum limit configured in the server.</td></tr><tr><td>AT0006</td><td>Outbound connection limit exceeded</td><td>Exception occurs when the number of open connections to other secondaries reaches the maximum limit configured.</td></tr><tr><td>AT0007</td><td>Secondary Server not found</td><td>Exception occurs when a secondary tries to connect to another secondary which is not available in the root directory or not yet instantiated.</td></tr><tr><td>AT0008</td><td>Handshake failure</td><td>This exception is for any exception during the handshake process of two secondaries.</td></tr><tr><td>AT0009</td><td>UnAuthorized client in the request</td><td>UnAuthorized Exception<p>will occur when an unsuccessful handshake happens between two secondaries.</p></td></tr><tr><td>AT0010</td><td>Internal server error</td><td>This is for any server related errors.</td></tr><tr><td>AT0011</td><td>Internal server exception</td><td>This exception is used for any server related exceptions.</td></tr><tr><td>AT0012</td><td>Inbound connection limit exceeded</td><td>This exception will occur when the number of active clients reaches the maximum limit configured.</td></tr><tr><td>AT0401</td><td>Client authentication failed</td><td>This exception occurs when client authentication fails or client tries to execute any verb which needs authentication before successful authentication.</td></tr><tr><td>AT0013</td><td>Connection Exception</td><td>This will occur when a blocked user tries to connect to the secondary.</td></tr><tr><td>AT0014</td><td>Unknown AtClient exception</td><td>This exception will be thrown while performing any operations(Get/update/delete) using AtClient SDK.</td></tr><tr><td>AT0015</td><td>Key not found</td><td>This exception will be thrown when the key is not available for encryption/decryption.</td></tr><tr><td>AT0021</td><td>Unable to connect to secondary</td><td>This exception will occur when we are unable to connect to secondary.</td></tr></table><p>Glossary</p><blockquote><p>@protocol (Pronounced, at protocol)
<to do></p></blockquote><blockquote><p>@sign (Pronounced, at sign)
@sign is a unique name that a user gets when enrolled with @sign.com</p></blockquote><blockquote><p>Root Server
<to do></p></blockquote><blockquote><p>Secondary Server
<to do></p></blockquote><blockquote><p>Verb
<to do></p></blockquote><blockquote><p>Public Key
<to do></p></blockquote><blockquote><p>Private Key
<to do></p></blockquote><blockquote><p>Shared Secret
<to do></p></blockquote><blockquote><p>Default Keys
<to do></p></blockquote><blockquote><p>Key
<to do></p></blockquote><blockquote><p>Value
<to do></p></blockquote><blockquote><p>Metadata
<to do></p></blockquote><blockquote><p>Commit Log
<to do></p></blockquote><blockquote><p>Access Log
<to do></p></blockquote></div><div class=td-content style=page-break-before:always><h1 id=pg-8ffee41928abe9462c5a96450207731a>5.2 - New to Flutter?</h1><div class=lead>New to Flutter? No problem. Let&rsquo;s get you up to speed</div><h2 id=0-what-is-flutter-and-why-did-we-choose-it-to-build-our-apps-on-the-platform>0. What is Flutter and why did we choose it to build our apps on the @platform?</h2><p><a href=https://flutter.dev/>Flutter</a> is Google’s increasingly popular UI software framework. Flutter has taken the mobile app development ecosystem by storm over the last few years. The Flutter Developer Community is increasing multifold every day and we are proud to be a small part of it. As of Dec 2021, the Google Play Store has more than 375,000 apps built on Flutter.</p><p>If you are new to Flutter, no problem! Many of our first developers knew nothing about these languages coming in. For guidance on Flutter installation and development, please visit <a href=https://flutter.dev>flutter.dev</a>.</p><h2 id=1-setting-up-flutter>1. Setting Up Flutter</h2><p>First and foremost, in a Flutter environment you will need to install the Flutter SDK. The installation steps are dependent on your operating system. Follow along the <a href=https://flutter.dev/docs/get-started/install>offical getting started guide</a> to complete your installation. When you install the Flutter SDK, it will also include the Dart SDK for you.</p><h2 id=2-recommended-editors>2. Recommended Editors</h2><p>We recommend using <a href="https://www.jetbrains.com/idea/download/#section=windows">IntelliJ</a>, <a href=https://developer.android.com/studio>Android Studio</a>, or <a href=https://code.visualstudio.com/download>Visual Studio Code</a>. The offical Flutter guide also includes information to setup each of these options <a href=https://flutter.dev/docs/get-started/editor>here</a>.</p><h3 id=a-hrefhttpswwwjetbrainscomideaimg-srchttpsuploadwikimediaorgwikipediacommonsthumb99cintellij_idea_iconsvg64px-intellij_idea_iconsvgpng-altintellij-styleheight-15ema-intellij><a href=https://www.jetbrains.com/idea/><img src=https://upload.wikimedia.org/wikipedia/commons/thumb/9/9c/IntelliJ_IDEA_Icon.svg/64px-IntelliJ_IDEA_Icon.svg.png alt=IntelliJ style=height:1.5em></a> IntelliJ</h3><p>IntelliJ is a commonly used IDE. If you have used it in the past, you can continue to use it for your Flutter projects.</p><div class="pageinfo pageinfo-primary"><p>Important Links for IntelliJ</p><ul><li>Download IntelliJ <a href="https://www.jetbrains.com/idea/download/#section=windows">here</a></li></ul></div><h3 id=a-hrefhttpsdeveloperandroidcomstudioimg-srchttpsuploadwikimediaorgwikipediacommonsthumb992android_studio_trademarksvg256px-android_studio_trademarksvgpng-altandroid-studio-styleheight-15ema-android-studio><a href=https://developer.android.com/studio><img src=https://upload.wikimedia.org/wikipedia/commons/thumb/9/92/Android_Studio_Trademark.svg/256px-Android_Studio_Trademark.svg.png alt="Android Studio" style=height:1.5em></a> Android Studio</h3><p>Android Studio is an IDE built from IntelliJ specifically for Android development. If you are new to mobile development this a good IDE to start with, it is capable of installing all of your android tooling for you, and makes it easy to create emulators.</p><div class="pageinfo pageinfo-primary"><p>Important Links for Android Studio</p><ul><li>Download Android Studio <a href=https://developer.android.com/studio>here</a></li><li>Read an article on how to set up an AVD <a href=https://blog.atsign.dev/running-one-or-more-emulators-through-cli-using-android-studio-ckm2kuryy00v5mss16f1agh7m>here</a></li></ul></div><h3 id=a-hrefhttpscodevisualstudiocomimg-srchttpsuploadwikimediaorgwikipediacommonsthumb99avisual_studio_code_135_iconsvg150px-visual_studio_code_135_iconsvgpng-altvisual-studio-code-styleheight-15ema-visual-studio-code><a href=https://code.visualstudio.com/><img src=https://upload.wikimedia.org/wikipedia/commons/thumb/9/9a/Visual_Studio_Code_1.35_icon.svg/150px-Visual_Studio_Code_1.35_icon.svg.png alt="Visual Studio Code" style=height:1.5em></a> Visual Studio Code</h3><p>Visual Studio Code, when compared to IntelliJ and Android Studio, is the most customizable with a seemingly endless number of programming languages to utilize. Developers commonly call this IDE ‘VS Code’ (who has time to say entire words anyway?). If you have watched our tutorials on atsign.dev, you’ll notice that VS Code is the other IDE of choice with our devs!</p><p>Visual Studio Code, VSCode for short, is a customizable text editor. Due to its numerous plugins available, it can be used as an IDE for almost any language. It is the IDE of choice amongst most of our developers, and if you haven&rsquo;t given it a try we recommend that you do!</p><div class="pageinfo pageinfo-primary"><p>Important Links for Visual Studio Code</p><ul><li>Download Visual Studio Code <a href=https://code.visualstudio.com/download>here</a></li></ul></div><h2 id=where-should-i-go-next>Where should I go next?</h2><p>Follow <a href=/docs/get-started/get-an-atsign/>this guide</a> to get an @sign.</p><p>If you already have an @sign, follow <a href=/docs/Get-Started/create-a-project>this guide</a> to create your first app.</p></div><div class=td-content style=page-break-before:always><h1 id=pg-6a20f2aace73774705865847a767b7d3>5.3 - The @platform FAQs</h1><div class=lead>FAQs and issues reported for the @platform</div><h2 id=frequently-asked-questions>Frequently Asked Questions</h2></div><div class=td-content><h1 id=pg-75fd71fbf5a5230ce5713336625d8ea6>5.3.1 - The @platform FAQs</h1><div class=lead>Have a question revolving around the @platform? Here you will find those answers!</div><h3 id=our-mission>Our Mission</h3><p>Now&rsquo;s your chance to bring your app idea to life. Our free, open source platform makes it easy to create end-to-end encrypted apps that are surveillance-free and private by design — no backend infrastructure required. Our entire community is here to help you build, launch and monetize an amazing app experience for your customers.</p><h4 id=why-should-i-trust-you-the--company-and-your-systems>Why should I trust you (The @ Company) and your systems?</h4><p>Trust certainly has to be earned, so we have started with an open protocol specification and an open source reference implementation for the full stack platform that everyone can evaluate and contribute to. As a company, the only thing we are uniquely responsible for is the integrity of the namespace, which does not hold any private information.</p><p>The only thing that we have centralized is the verified location of where to go to request permission for access to information from someone. Our basis for trust in our company and the systems and services we provide relies on the fact that we do not have access by any means to anyone’s private data.</p><h4 id=what-makes-the-platform-secure>What makes the @platform secure?</h4><p>We do not want to be the Google of identity. We want each person to be able to own and control access to their own data. The first principle for us is:</p><p>“It is probably true that The @ Company cannot access your private information without your explicit permission.”</p><p>The owners of @signs hold the keys for both access and encryption, and nobody else—including The @ Company—has access to them. Thus, only two entities in the universe — the entity that shares information and the entity that receives it — can access private information that is shared between them.</p><h4 id=whats-to-prevent-a-malicious-app-from-misusing-the-data-produced-through-my-app>What’s to prevent a malicious app from misusing the data produced through my app?</h4><p>Our strategy for preventing a malicious app from screwing with data at the moment is to review and certify applications to eliminate such behavior. We also have an ambition to automate the process as much as we can. We are currently evaluating how to control app level access (read and write) to data using a namespace convention, which is already a part of the @protocol spec and reference implementation.</p><h4 id=who-would-you-regard-as-your-main-competitors-and-how-are-you-different>Who would you regard as your main competitors and how are you different?</h4><p>Notionally the blockchain cohort making similar claims would be the main ones, but we believe that they are more likely to become adopters over time to provide non-repudiation and to eliminate username/password authentication which has proven to be so risky. Technically, Solid/Inrupt is somewhat similar with their data pods, but they curiously have no built-in encryption at all and are enterprise focused where we are developer/apps/consumer focused.</p></div><div class=td-content style=page-break-before:always><h1 id=pg-d9ba54ccde0ac927e8a29bb8637c7b4e>5.3.2 - Flutter FAQs</h1><div class=lead>FAQs and issues reported for the @platform</div><h2 id=flutter-issues>Flutter Issues</h2><div class="pageinfo pageinfo-primary"><p>Encountered Development Errors</p><ul><li>The following two links are a temporary solution to easily finding/submitting error solutions, if you have any suggestions, we are happy to hear them!</li><li>If you have a bug/issue, feel free to search for it in this <a href="https://docs.google.com/spreadsheets/d/1e5eiKAHsVj-kVy91R5L_Y85sLD1bYzly1OUAnf1ny2s/edit?usp=sharing">spreadsheet</a>.</li><li>If the issue you are currently encountering does not exist within the spreadsheet linked above, feel free to submit a new error within this <a href=https://forms.gle/F9BFYMzoXe1wkva67>error submission form</a>.</li></ul></div><h3 id=flutter-doctor-says-that-android-studio-is-not-installed-but-it-is>Flutter doctor says that Android Studio is not installed but it is</h3><p><a href=https://stackoverflow.com/questions/59647791/tag-android-studio-not-installed-when-run-flutter-doctor-while-android>Android Studio (not installed) , when run flutter doctor while Android Studio installed on machine - Stack Overflow</a></p><h3 id=flutter-doctor-says-that-java-needs-to-be-installed>Flutter doctor says that java needs to be installed</h3><p>Install Java (Recommended version 8)- <a href="https://www.openlogic.com/openjdk-downloads?field_java_parent_version_target_id=416&field_operating_system_target_id=All&field_architecture_target_id=391&field_java_package_target_id=396">Open JDK Downloads</a></p><h3 id=flutter-doctor-says-you-have-to-agree-to-licenses>Flutter Doctor says you have to agree to licenses</h3><p>But when you run ‘flutter doctor &ndash;android-licenses’ you get a load of errors that is fixed with - <a href=https://stackoverflow.com/questions/64708446/flutter-doctor-android-licenses-exception-in-thread-main-java-lang-noclass>windows - Flutter Doctor &ndash;android-licenses : Exception in thread &ldquo;main&rdquo;</a></p></div><div class=td-content style=page-break-before:always><h1 id=pg-ef74df6d58c1c96898fe88754da1c1a6>5.3.3 - at_app FAQs</h1><div class=lead>FAQs for at_app on the @platform</div><h3 id=what-are-the-different-flags-that-can-be-used-with-at_app>What are the different flags that can be used with at_app?</h3><h4 id=namespace>Namespace</h4><p>The namespace is the most important flag to include when creating your application.</p><p>When storing keys on the secondary server, the namespace is used to filter the data produced by your app from the other @platform applications.
To create a namespace for your app, make sure to register an @sign from <a href=https://atsign.com>atsign.com</a> and use that as your namespace. By owning the @sign, you can ensure that you also own the namespace.</p><p>You can specify the namespace with <code>--namespace=YOUR_NAMESPACE_HERE</code>.</p><h4 id=root-domain>Root Domain</h4><p>By default the root domain is set to prod (production). In the production domain, you can use real @signs to test your application.</p><p>Alternatively you can specify <code>--root-domain=ve</code> in the command to choose the virtual environment, and test with those @signs instead.</p><h4 id=api-key>API Key</h4><p>When you are ready to publish your application, you can request an api-key for the <a href=https://pub.dev/packages/at_onboarding_flutter>Onboarding Widget</a>. This api-key will authorize your app when attempting to generate a free @sign within the widget.</p><p>You can specify this with <code>--api-key=YOUR_API_KEY_HERE</code>.</p></div></main></div></div><style>.footer_nav nav{display:flex;flex-direction:row;justify-content:space-evenly;width:100vw;margin-bottom:1em;margin-top:1em}.footer_row{display:grid;grid-template-columns:repeat(3,1fr);grid-template-areas:'social privacy dev';width:100vw}.social_icons_footer{grid-area:social}.dev_icons_footer{grid-area:dev}.privacy_policy_footer{grid-area:privacy}.footer_row_content{display:flex;flex-wrap:wrap;justify-content:center}@media only screen and (max-width:768px){.footer_nav nav{flex-direction:column;align-items:center}.footer_row{display:grid;grid-template-columns:1fr;grid-template-rows:repeat(3,1fr);grid-template-areas:'social' 'dev' 'privacy';width:100vw}.footer_wrapper{min-height:270px}}</style><footer class="bg-dark row d-print-none footer_wrapper"><div class=footer_nav><nav><a class=text-white href=/docs/>Docs</a>
<a class=text-white href=/showcase/>Showcase</a>
<a class=text-white href=/community/>Community</a>
<a class=text-white href=/dev_tools/>@dev Program</a>
<a class=text-white href=/docs/get-started/>Get started</a></nav></div><div class=footer_row><div class="social_icons_footer footer_row_content"><ul class="list-inline mb-0"><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title=YouTube aria-label=YouTube><a class=text-white target=_blank rel=noopener href=https://www.youtube.com/channel/UCzjSJbPmIEDXFbHb2RIj9Gg aria-label=YouTube><i class="fab fa-youtube"></i></a></li><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title=LinkedIn aria-label=LinkedIn><a class=text-white target=_blank rel=noopener href=https://linkedin.com/company/atsigncompany aria-label=LinkedIn><i class="fab fa-linkedin"></i></a></li><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title=Medium aria-label=Medium><a class=text-white target=_blank rel=noopener href=https://atsigncompany.medium.com aria-label=Medium><i class="fab fa-medium"></i></a></li><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title=Twitter aria-label=Twitter><a class=text-white target=_blank rel=noopener href=https://twitter.com/atsigncompany aria-label=Twitter><i class="fab fa-twitter"></i></a></li></ul></div><div class="dev_icons_footer footer_row_content"><ul class="list-inline mb-0"><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title=GitHub aria-label=GitHub><a class=text-white target=_blank rel=noopener href=https://github.com/atsign-foundation aria-label=GitHub><i class="fab fa-github"></i></a></li><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title=Discord aria-label=Discord><a class=text-white target=_blank rel=noopener href=https://discord.gg/55sHTQFxfz aria-label=Discord><i class="fab fa-discord"></i></a></li><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title=Hashnode aria-label=Hashnode><a class=text-white target=_blank rel=noopener href=https://blog.atsign.dev/ aria-label=Hashnode><i class="fas fa-blog"></i></a></li><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title=Reddit aria-label=Reddit><a class=text-white target=_blank rel=noopener href=https://www.reddit.com/r/EctoGammat aria-label=Reddit><i class="fab fa-reddit"></i></a></li><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title="Developer email group" aria-label="Developer email group"><a class=text-white target=_blank rel=noopener href=https://groups.google.com/a/atsign.com/g/dev aria-label="Developer email group"><i class="fa fa-envelope"></i></a></li><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title=Meetup aria-label=Meetup><a class=text-white target=_blank rel=noopener href=https://www.meetup.com/Ektogamant-Open-Source-Developers-for-Internet-Optimism aria-label=Meetup><i class="fab fa-meetup"></i></a></li></ul></div><div class="privacy_policy_footer footer_row_content"><small class=text-white>&copy; 2022 The @ Company All Rights Reserved</small> <small class=ml-1><a href=https://atsign.com/privacy-policy target=_blank rel=noopener>Privacy Policy</a></small></div></div></footer></div><script src=https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js integrity=sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN crossorigin=anonymous></script><script src=https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/js/bootstrap.min.js integrity=sha384-+YQ4JLhjyBLPDQt//I+STsc9iw4uQqACwlvpslubQzn4u2UU2UFM80nGisd026JF crossorigin=anonymous></script><script src=/js/main.min.3b172c13b62c2bea8b1c9d2599cddc8cf89718a92d792c680871c81ba43d8c85.js integrity="sha256-OxcsE7YsK+qLHJ0lmc3cjPiXGKkteSxoCHHIG6Q9jIU=" crossorigin=anonymous></script></body></html>